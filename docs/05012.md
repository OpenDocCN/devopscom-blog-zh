# 2019 年最佳:五大微服务最差实践

> 原文：<https://devops.com/five-microservices-worst-practices/>

在我们结束 2019 年之际，我们 DevOps.com 想要强调今年最受欢迎的五篇文章。以下是我们为期一周的 2019 年最佳系列中的第一个。

微服务正在走向主流。IDC future escape:2019 年全球 IT 行业预测指出，到 2022 年，90%的新应用将采用微服务架构，“提高设计、调试、更新和利用第三方代码的能力。”

如此多的组织采用或即将采用微服务，他们一定是在做正确的事情。事实上，仅仅考虑模型就是向更快地交付高质量软件迈出的积极的一步。然而，许多公司都放弃了微服务的好处，因为在通往成功的道路上有许多陷阱。这不仅仅是一个技术选择和开始编写微服务代码。

事实上，将您的应用程序分成微服务是不够的，您必须管理它们，协调它们，并处理它们创建和修改的数据。在你触摸键盘之前，思考一些确保成功的策略是个好主意。

这里有五个微服务最差的做法，以及如何扭转它们。

## 不具备先决条件实施微服务

不考微积分一就不能考微积分二，同样，没有合适的前提条件也不能推出微服务。为了充分利用微服务，公司必须考虑模块化和域边界，并且应该考虑和建立基本的分布式系统理论。此外，虽然每项服务都是独立的，但是必须满足一些操作要求。其中包括 DevOpsPaaS 容器或不可变虚拟机；服务复制、注册和发现；以及主动监控和警报。

## 在不改变开发文化的情况下实现微服务

组织在迁移到微服务架构模型时犯的最大错误是低估了它如何改变他们需要考虑应用程序的方式，尤其是他们考虑开发这些应用程序的团队的方式。传统上，应用程序的开发涉及许多人，每个人都从自己的角度出发——UI 专家、中间件专家、DBA、系统管理员等等。对一个人有用的东西一旦被扔过墙，对另一个人可能就不管用了，而且要让所有的东西对每个人都有用，往往需要花费大量的时间和挫折。尝试做微服务而不改变这种模式和心态几乎肯定会让你的团队失败。相反，要考虑有凝聚力的跨职能团队，每个团队都要对自己独特的服务和这些服务的客户群完全负责。每个团队都在与其他团队合作，就好像这是一种企业对企业(B2B)的关系。这不是一个容易的文化转变，但这是微服务工作的必要条件。

## 从一开始就太大太宽了

一个组织如果一下子全身心投入到微服务中，几乎肯定会遇到问题，这些问题可能会使计划完全脱轨。选择一个小项目，并为其配备那些看到微服务潜力并对使用该技术感到兴奋的人员。一旦项目成功完成，将其作为一个证明点，在整个组织中推广微服务的进一步使用，并让其他人参与进来。

## 错位的期望

组织质疑微服务在将现有整体应用迁移到微服务模型时会产生的性能影响是正确的。但是他们的担忧和期望经常是错误的。是的，当分解现有的整体应用程序以支持微服务时，性能会受到影响。但是组织需要理解的是微服务的目标是部署速度超过 API 调用速度。

将服务的开发隔离在一个团队中(如前所述)意味着服务可以根据需要更新——无论是每周、每天还是每小时——以响应业务、竞争和安全需求。IDC 在其 2019 年全球 IT 行业预测报告中指出，它“已经看到企业完全转向这些新方法(以及支持工具和技术)，这些方法大大加快了他们在组织中推动数字创新的能力，其频率是传统方法的 50-100 倍(或更多)。”

## 选择错误的应用进行微服务化

这种最糟糕的做法与前一种紧密相连。选择错误的应用程序来拆分为微服务或分解整个整体而没有考虑哪些部分可能最适合作为微服务(哪些作为微服务会失败得很惨)的组织将从一开始就处于不利地位。进行多次调用的金融应用程序或高容量应用程序可能不适合使用微服务。或者，这些应用程序的一部分可能在微服务模型中工作得很好，即使整体不工作。这个想法是仔细检查每个遗留应用程序，并从一开始就考虑微服务来构建新的应用程序。

如果你认为建立一个微服务基金会需要很多，那你就对了。这是一项很大的投资，可能需要一段时间才能有回报。但是，以深思熟虑、有目的的方式转向微服务的组织——利用前人的最佳实践——可能会发现自己更敏捷、更安全、更有竞争力。

埃里克·沙贝尔