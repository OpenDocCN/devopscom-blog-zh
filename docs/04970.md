# 软件供应链攻击:如何瓦解攻击者

> 原文：<https://devops.com/software-supply-chain-attacks-how-to-disrupt-attackers/>

供应链攻击 — 通过软件供应链中不安全的组件危害组织 — 是组织越来越担心的问题。在过去三年中，越来越多的开源软件包存储库被发现包含恶意软件，这表明软件和库代码的所有安装和更新路径都必须应用安全控制，以防止和减轻供应链攻击。

## **开源软件给企业带来越来越大的风险**

[数字化转型](https://devops.com/the-role-of-developers-in-digital-transformation/)让每一家公司都变成了软件公司。结果，开源软件 [在过去两年里增长了 75%](https://www.sonatype.com/2019ssc)。尽管有这样的增长，很少有公司准确地跟踪他们代码中使用的组件。大多数缺乏政策、过程和工具来跟上他们的开发者所做的选择，这引入了风险。事实上，[2018 年审计的代码库中，60%至少包含一个漏洞 。](https://www.synopsys.com/content/dam/synopsys/sig-assets/reports/rep-ossra-19.pdf)

不良行为者已经开始利用这些弱点来危害组织。如果生产代码感染了恶意软件或漏洞，而这些恶意软件或漏洞是无意中从存储库中获得的，那么它可能会感染所有与之接触的组织——无论是通过使用 SDLC 中已经存在的代码，还是通过启动来自第三方的假定可信的应用程序(这些应用程序未能验证自己的代码)。

攻击者也在改变他们的技术，使用我们称之为破坏性对象的模糊格式在大型打包对象中隐藏恶意软件。他们在开发过程中的不同点伺机渗透，知道他们可以渗透到管理的操作环境之外的系统。他们利用第三方的依赖性，并使用可以等待的有效负载，直到一个毫无戒心的开发人员实现他们的软件。因此，软件供应链攻击很难被检测到，并且通常持续数百天。

## **评估供应链表面和来源**

为了评估弱点并确定什么需要持续监控，我们需要了解表面和来源。

评估地面风险时，考虑以下关于开发环境的问题:

正在使用哪些技术、存储库和软件包？

*   盘点开发中使用的技术:Python、Ruby、JavaScript、Node.js、。网等。这也可以指操作系统。
*   第三方代码库:PyPI、RubyGems、NPM、NuGet、PEAR 或 PECL，以及操作系统库，如 DebianRepository、CentOS、Ubuntu、AUR 等等。
*   包:一个存储库中可以有多个包。软件包多久更新一次？多久添加一次新包？

有更新程序吗？

*   **每个包的依赖关系是什么？从一个包更新中提取了多少其他的包，它们多久被更新和/或检查一次？**

谁在管理所有这些依赖关系的验证流程？如果有人员变动，有什么更新程序？

一旦回答了这些问题，就应该定期处理它们。这个过程必须是迭代的才能成功。

当考虑攻击 来源 时，重要的是要了解团队所借鉴的存储库的特征，以便了解潜在的薄弱环节。第三方存储库很少影响大型项目，因为它们通常可以在其他地方找到(例如 GitHub ),并且有彻底的代码审查。官方存储库、非官方镜像和内部代码存储库代表着越来越大的潜在风险。

随机恶意软件包、域名仿冒、不良代码审查和网络钓鱼开发者证书来劫持账户，这些都是攻击者使用的较少的技术手段，但同样危险。

## **软件供应链挑战**

文件的大小、格式的广度、可信第三方和开源风险，以及被滥用的证书，使得使用当今基于签名、沙盒和漏洞的解决方案来阻止受恶意软件感染的文件和对象变得几乎不可能。

威胁逃避动态分析，防御方仍然不知道，或者在检测到时缺乏详细信息。签名黑名单的明确性遗漏了新的或从未见过的代码，沙箱或动态分析解决方案是资源密集型的，并且无法扩展到所需格式的广度和数量。如果无法检查大型或跨平台的档案、安装程序和源代码，就不可能提取出危害的迹象。这些破坏性物体也会影响 SOC 的分类、响应和持续改进。

## **迎接挑战**

不仅在软件开发生命周期(SDLC)中，而且在 SOC 解决可能来自其他应用程序和存储库的漏洞时，您如何应对这些风险？如何评估和检查包装器、数字证书、可执行文件、脚本、文件和库、资源、文档和图标？

在 SDLC 内建立安全实践至关重要，从使用开源库对开发人员进行安全编码实践培训，到将检测能力纳入其中，包括静态分析、动态分析、软件组合分析和手动渗透测试。实现一个安全的 SDLC 过程确保开发工作受到这些活动的保护，增加代码审查和基础设施分析。

团队可以利用技术将安全控制扩展到 SDLC 中，从而深入了解供应链的各个方面，从开源依赖到打包应用的持续集成和交付。跨代码开发和部署活动提供更高应用程序安全性的功能包括:

*   文件信誉通过将文件的唯一散列值应用于包含好软件和恶意软件的数据库，来识别和分类“已知的坏”和“已知的好”文件。
*   自动化静态分析通过在不执行的情况下对对象和文件进行去模糊和分解，并提取威胁指示器，来检测和分类代码库中的未知恶意软件。
*   动态分析 在安全的环境中执行文件，捕捉恶意软件的行为和结果，让安全团队了解将要发生的事情。
*   软件组合分析分析应用程序，以检测软件中的漏洞、依赖性和许可要求。
*   威胁情报在分析周期的不同阶段提供，代表基于证据的知识，包括现有或新出现威胁的背景、机制、指标、影响和面向行动的建议。

通过将这些技术整合到 SDLC 中，开发团队可以在整个软件供应链中获得持续的验证。进一步的自动化、实施新的安全准则以及在现有框架内推进活动，将使企业能够改进其安全措施并缩小 SDLC 和供应链运营中的差距。

与此同时，重要的是要认识到威胁仍然可以进入软件供应链，同样重要的是 SOC 要保持警惕，保持清晰的分类和上报流程。 对软件存储库的持续监控应成为良好卫生流程的一个组成部分，并纳入应用于运营基础设施(包括 SOC)的最佳实践中。SOC 作为一个集中式管理基础设施来响应、遏制和补救攻击。这包括聚合和整合威胁数据，构建管理响应的案例，其中可能包括制定分流和事件响应计划的措施，以及超越 SIEM。

— [托米斯拉夫·佩里辛](https://devops.com/author/tomislav-pericin/)