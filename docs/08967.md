# 2021 年最佳——应用性能测试的最佳实践

> 原文:[https://devo PS . com/应用性能测试最佳实践/](https://devops.com/best-practices-for-application-performance-testing/)

随着 2021 年的临近，我们 DevOps.com 想要突出今年最受欢迎的文章。以下是我们 2021 年最佳系列的第十八期。

正确完成后，软件[应用性能测试](https://devops.com/?s=performance%20testing)确定系统是否满足某些可接受的响应性和健壮性标准。但是，在开始测试之前，有一些最佳实践需要记住。

首先定义测试计划，包括负载测试、压力测试、耐久性测试、可用性测试、配置测试和隔离测试。将这些计划与目标、可接受的衡量标准、阈值以及克服绩效问题以获得最佳结果的计划等方面的精确指标结合起来。确保您可以在测试环境中对性能问题进行分类；您应该通过检查负载下的系统功能来分析影响应用程序性能的问题，而不仅仅是负载测试工具端的低性能指标。利用模拟生产环境的[应用性能管理](https://devops.com/?s=APM) (APM)工具，可以更深入地了解应用功能以及压力或负载下的整体性能。

## 10 个性能测试最佳实践

### 1.尽早并经常测试

性能测试通常是事后才想到的，在开发周期的后期匆忙执行，或者只是为了响应用户的抱怨。相反，你应该积极主动。采取一种敏捷的方法，在整个开发生命周期中使用[迭代测试](https://www.browserstack.com/guide/learn-software-application-testing#:~:text=Application%20testing%20refers%20to%20the,in%20order%20to%20identify%20errors.&text=Application%20testing%20is%20carried%20out,that%20verifies%20the%20database%20behavior.)。具体来说，提供运行性能“单元”测试的能力，作为开发过程的一部分，然后在应用程序就绪的后期阶段更大规模地重复相同的测试。使用性能测试工具作为自动通过/失败管道的一部分，通过的代码在管道中移动，失败的代码返回给开发人员。

### 2.考虑用户，而不仅仅是服务器

性能测试通常只关注运行软件的服务器和集群的性能。不要忘记人们使用软件，性能测试也应该测量人的因素。例如，测量集群服务器的性能可能会返回令人满意的结果，但是单个有问题的服务器上的用户可能会体验到不令人满意的结果。测试应该考虑用户体验，用户界面计时也应该和服务器指标一起捕获。

### 3.理解性能测试定义

对应该针对您的应用程序执行的性能测试类型有一个通用的定义是至关重要的，例如:

*   **单用户测试。**使用一个活动用户进行测试可以产生最佳性能，响应时间可以用于基线测量。
*   **负载测试。**了解系统在平均负载下的行为，包括平均一小时内执行特定数量事务的预期并发用户数量。
*   **峰值负荷测试。**了解并发用户数和交易率的最大预期使用量下的系统行为。
*   **耐久性(浸泡)测试。**确定组件的寿命，以及系统是否能够在预定义的持续时间内维持平均到峰值的负载。监控内存使用情况以检测潜在的泄漏。
*   **压力测试。**通过有目的地将系统推到其临界点，了解系统内容量的上限。
*   **高可用性测试。**验证系统在负载下的故障条件下的表现。应该包括许多操作用例，例如网络设备的无缝故障转移或滚动服务器重启。

### 5.构建完整的性能模型

测量应用程序的性能包括了解系统的容量。这包括计划在一天中的高峰时段，在并发用户、同时请求、平均用户会话和服务器利用率方面的稳定状态。此外，您应该定义性能目标，例如最大响应时间、系统可伸缩性、用户满意度得分、可接受的性能指标以及所有这些指标的最大容量。

### 6.为重要的系统功能定义基线

在大多数情况下， [QA](https://devops.com/?s=QA) 系统性能与生产系统性能不匹配。拥有每个系统的基线性能度量可以为每个测试环境提供合理的目标。这些基线为响应时间目标提供了一个重要的起点，尤其是在没有以前的指标的情况下，而不必猜测或基于其他应用程序的性能。

### 7.执行模块化和系统性能测试

现代应用集成了许多独立的复杂系统，包括数据库、应用服务器、web 服务、遗留系统等等。所有这些系统都需要单独和一起进行性能测试。这有助于暴露弱点，突出相互依赖性，并了解应该隔离哪些系统以进行进一步的性能调优。

### 8.测量平均值，但包括异常值

在测试性能时，您需要知道平均响应时间，但是这种测量本身可能会产生误导。确保包括其他指标，如第 90 百分位或标准偏差，以便更好地了解系统性能。

KPI 可以通过查看平均值和标准差来衡量。例如，为平均响应时间加上超出它的一个标准偏差设置一个性能目标(参见图 1)。在许多系统中，这种改进的测量会影响测试的通过/失败标准，从而更准确地匹配实际的用户体验。可以对具有高标准偏差的事务进行调优，以减少系统响应时间的可变性，并改善整体用户体验。

![application](../Images/cc79b5ec88161e06006f5be44c0f254b.png)

### 9.持续报告和分析结果

性能测试的设计和执行很重要，但是测试报告也很重要。报告将应用程序行为的结果传达给组织中的每个人，尤其是项目所有者和开发人员。一致地分析和报告结果还有助于确定未来的更新和修复。记住要考虑你的听众，为每个听众定制报告。开发人员的报告应该不同于发送给项目所有者、经理、公司高管甚至客户的报告(如果适用)。

### 10.分类性能问题

提供性能测试的结果是好的，但是那些结果，特别是当它们证明失败时，是不够的。下一步应该是对代码/应用程序和系统性能进行分类，并让所有各方都参与进来:开发人员、测试人员和操作人员。应用程序监控工具可以提供关于分类有效性的清晰性。

此外，记住不要把你的软件“越过墙”扔给一个单独的测试组织，并确保你的 QA 平台尽可能地匹配生产。和任何职业一样，你的努力取决于你使用的工具。确保在所有系统中包含手动和自动测试的混合。