# 在云中迁移和管理数据工作负载的技巧

> 原文:[https://devo PS . com/tips-for-migrating-and-managing-data-workloads-in-the-cloud/](https://devops.com/tips-for-migrating-and-managing-data-workloads-in-the-cloud/)

除非你是刚从太空传送过来的外星生物，否则你一定听说过将数据工作负载转移到云的所有原因。对于存储和处理数据来说，云是一个更具可扩展性、更灵活、更可用且可能更便宜的解决方案。

如何将数据工作负载转移到云中并不总是显而易见的。在几个关键方面，基于云的数据工作负载与内部托管的数据工作负载有着根本的不同。

了解这些差异对于有效地将数据工作负载迁移到云中至关重要。虽然云确实为托管数据工作负载提供了各种好处，但真正实现这些好处需要一个计划，以便在数据进入云后有效地管理数据。

让我们来看看这需要什么。

## 基于云的数据工作负载的特殊挑战

让我们首先确定基于云的数据工作负载与本地托管的数据工作负载的主要区别:

我们可以/应该在这里添加一个关于实际迁移之前的评估/规划的部分。我们有很多这方面的出版材料。

*   **迁移** **:** 您将数据迁移到云中(以及在云中从一个位置迁移到另一个位置)的方式与您在内部使用的方式不同。不仅工具通常不同(在云中，您通常需要使用云供应商的工具和接口来上传和移动基于云的数据)，而且速度和过程通常也不同(在云中，您通常必须通过网络传输数据，这比一些内部数据传输技术要慢)。在极端情况下，通过网络将数据迁移到云中可能根本不可行，这就是为什么 [AWS 雪地车](https://aws.amazon.com/snowmobile/)是一个东西。
*   **可用性** **:** 在某些方面，基于云的数据工作负载可用性更高；一般来说，与您自己的数据中心相比，云不太可能出现故障或变得无响应。也就是说，对云中数据可用性的考虑不同于内部部署。例如，DDoS 攻击通常是云中数据可用性的更大威胁。因此，最大化云数据可用性的策略(如下所述)也是不同的。
*   **性能** **:** 影响云中数据工作负载性能的因素在某些方面不同于内部因素。在云中，服务器中 CPU 内核或内存的数量并不重要，因为这些资源很容易增加。决定工作负载性能的是您构建数据工作负载架构的方式，以及您如何有效地避免瓶颈。
*   **成本** **:** 在本地数据处理环境中，您的大部分成本是构建基础设施所需的前期资本支出。在云中，您的成本是主要基于资源消耗和您使用的服务类型的每月账单。这意味着基于云的数据工作负载的成本结构和成本优化策略非常不同。
*   **安全** **:** 云安全本身就是一门学科。根据您在云中使用的服务类型以及您对物理基础架构的控制程度(通常，您具有最低限度的控制)，您针对云工作负载的安全策略可能与您用于保护内部基础架构的策略大相径庭。

## 有效处理基于云的数据工作负载

您如何应对基于云的数据工作负载带来的特殊挑战？以下是一些提示。

### 执行迁移评估

如上所述，将数据迁移到云中是一个常见的难题。考虑到这一点，以及您的迁移策略为数据工作负载的持续成功奠定了基础这一事实，在开始迁移之前执行迁移评估非常重要。

迁移评估不仅要确定如何将数据放入云中，还要确定如何调整数据架构和策略以适应云环境。您会简单地将数据提升并转移到云中，同时保持相同的总体架构吗？或者，您是否会利用您在内部环境中没有使用的新技术来实现数据工作负载的现代化？

主要的云供应商提供了一套工具来帮助回答这些问题:

*   [谷歌云平台(GCP)](https://cloud.google.com/solutions/migration-center/)
*   [微软 Azure](https://azure.microsoft.com/en-us/migration/resources/)
*   [亚马逊 AWS](https://aws.amazon.com/migration-hub/)

### 有效利用网络

网络可能是数据管道中最大的瓶颈。鉴于网络对于云的中心地位，因此确保高效利用网络非常重要。

实现这一点的一种方法(尤其是在数据迁移阶段)是采用配置方法，这涉及到将数据逐渐移动到云中，并以经济高效的方式配置云基础架构来适应每个特定的数据工作负载。这可能比一次将所有数据提升并转移到云中更具成本效益，这可能会给你带来高额的数据迁移费用。

### 智能复制云数据

最大化云中数据可用性的最佳方式之一是在多个云数据中心和/或区域之间复制数据。这样做可以在一个云数据中心发生故障的情况下最大限度地保持您的数据可用，这种情况很少见，但[会发生](https://www.computerweekly.com/news/252436193/AWS-outage-Datacentre-power-cut-knocks-out-hundreds-of-internet-services)。

当然，您在云中使用的数据复制越多，您支付的费用就越多，因此您需要平衡您的复制策略和预算。

### 有效使用分层存储

大多数云供应商提供不同的存储层。默认层是为需要经常访问的数据而设计的，但是您可以通过选择为不常访问的数据或归档存储而设计的层来节省资金。使用低成本存储层的代价是较慢的数据访问时间，但是在不需要快速或频繁访问数据的情况下，低成本存储层可以大大节省您的预算。

### 门禁，门禁，门禁

在云中，您通常很难控制底层基础设施或软件环境。您无法强化云服务器的主机操作系统，并且您可以从云环境输入到 SIEM 中的指标通常是有限的。

然而，要帮助保护大多数云环境，您可以做的是设置严格的访问控制。配置 IAM 策略可能不是大多数工程师心目中的好时机，但执行这项繁琐的工作以帮助保护基于云的数据工作负载是至关重要的。

### 支持

当您将数据工作负载迁移到云中时，很容易认为您不需要备份它们，因为云永远不会消失。

诚然，云具有很强的弹性，但这并不能消除数据备份的需求。基于云的数据永远有可能丢失，尽管这种可能性很小。您还面临基于云的数据被破坏或感染恶意软件的风险(这种风险并不罕见)，在这种情况下，拥有可从中恢复的干净备份副本非常有用。

所以，也要备份你基于云的数据。作为最佳实践，遵循 [3-2-1 备份策略](https://www.backblaze.com/blog/the-3-2-1-backup-strategy/)是明智的，这需要在隔离的位置保存多个数据备份。

## 结论

与您的内部基础架构相比，云是一个根本不同的概念。充分利用基于云的数据需要您重新思考您在数据迁移、可用性、安全性等某些方面的策略。您不需要放弃您所知道的关于内部[数据](https://devops.com/ensure-your-ai-is-working-for-your-data-team/)管理的一切，但是您需要调整您的运营以应对云的特殊挑战。

*本文由[代表](https://unraveldata.com/)撰写。*

— [克里斯·托齐](https://devops.com/author/chris-tozzi/)