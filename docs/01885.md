# 功能标志和 DevOps 之间的关系

> 原文:[https://devo PS . com/the-relationship-between-feature-flags-and-devo PS/](https://devops.com/the-relationship-between-feature-flags-and-devops/)

从 2017 年开始，我开始了大多数 DevOps 对话，“DevOps 现在很无聊，我喜欢它！”我所说的无聊是指，我们越来越少地争论为什么你应该接受 DevOps 原则和实践，越来越多的讨论如何在现实世界中实现 DevOps。因此，我们对各种实现有了更具体的了解。其中之一是使用特性标志来提高应用程序速度、回滚能力，甚至可能是金丝雀版本。

功能标志看起来很明显，但仍然是一个相对较新的尝试——目前，仍然非常孤立于 unicorn 开发团队。特性标志允许开发人员对特性进行逻辑分组，并为它们创建一个可以在测试甚至生产中切换的开关。特性标志的好处不仅仅是更快地获得特性:

1.  与两周一次的冲刺相比，以增量方式发布复杂的特性集(快速瀑布)。有时特性更复杂，并且与多个服务、后端更改等相关联。在现代基于微服务的架构中，小型开发团队在独立的代码基础上工作，这可能很困难。通过将整个应用程序中的各种变化组合成一个特性，这意味着团队可以发布他们已经构建的功能，而不必等待其他人，只有在一切就绪后才能打开该特性。
2.  从有风险的发布中恢复。拥有特性标志的部分原因是您可以更快地将功能发布到产品中。但是这也意味着你可以发布没有在整个应用程序中完全检查过的功能。有了特征标志，初始回滚根本不需要与基础设施相关；这可能只是在生产中切换一个功能的问题。
3.  为您的应用程序创建基于价值的信息架构。开发人员仍然对将应用程序视为他们的代码库和直接团队感到非常内疚。但是从用户的角度来看，应用是基于价值的。假设您使用一些基本的[最佳实践](https://sweetcode.io/best-practices-using-feature-flags/)来确定您的标志结构和名称，特性标志可以根据价值对特性进行分组，从而更好地将交付链中的一切与应用程序提供的价值相匹配。
4.  质量(QA 和 Q)团队拥有更大的权力，可以[通过特性标志](https://devops.com/how-product-managers-can-take-back-control-with-feature-flags/)提供更多的价值。有了特性标志，开发人员可以更快地将更多的功能扔给 QE，使他们能够在不参与开发的情况下对测试和发布的功能有更多的控制。

我认为特性标志的最初驱动力是用于 A/B 测试和 canary 发布。然而，A/B 测试和 canary 发布的现实并不是对每个人都有意义，因为他们的应用程序可能没有足够的用户或交易量来统计准确地看到价值。

但是特性标志的价值远不止于此。挑战在于，如果您不是一个专注于开发运维及自动化的组织，这些优势就不会存在。特性标志是 DevOps 的一个成果，但我希望它们也是 DevOps 的一个驱动力。组织只从过程改进的角度来看待 DevOps 是有罪的。但是 DevOps 真正的商业利益是您为您的应用程序用户提供的价值。如果你有一个价值第一的思维模式，不仅特性标志是一个明显的设计模式，而且它们使得组织必须以一种高效和关键的方式来考虑他们的交付链。换句话说，如果特性标志是您寻求的结果，那么 DevOps 进程就不是一个选择。

— [克里斯·赖利](https://devops.com/author/chrisriley/)