# 预算有限的 DevOps 堆栈

> 原文:[https://devops.com/devops-stack-shoestring-budget/](https://devops.com/devops-stack-shoestring-budget/)

在你能想到的任何 DevOps 领域，都有竞争产品，既有开源的，也有授权的。公司中的操作组倾向于随着时间积累这样的应用程序，这由正在进行的项目决定。团队成员对某个应用程序的熟悉程度可能是将它添加到工具堆栈中的一个因素。

因此，公司从一开始就拥有免费软件、开源或社区版本的应用程序和软件。在运营团队预算紧张的创业环境中，以低廉的成本构建 DevOps 基础设施可能是有意义的；使用开放源码软件产品是实现这一目标的一种方式。

## 小额预算

下面是一个有效开发运维环境的一些应用和软件列表。此处的列表仅包括构建 DevOps 基础架构所需的核心应用。公司中每个人都会使用的基本通信和生产力工具(通常由 IT 部门管理)不在范围之内。产品开发团队使用的编译器、调试和测试工具也是如此。然而，在小公司环境中，管理各种工具可能会落到驱动 DevOps 计划的同一批人身上。

这里的目标是列出一份可以免许可证使用的软件清单。这意味着某些领域的一些显而易见的应用程序可能不会出现在列表中。这并不意味着开源替代方案是次等的选择；可靠产品支持的可用性是大多数软件购买决策过程中的一个主要因素，在这方面，许可软件比 OSS 得分高。

## 用于源代码管理(SCM)的 Git

代码库可能是第一个 DevOps 基础设施组件，甚至在产品创意正式进入公司之前就已经建立了。此外，开发人员和 DevOps 工程师都需要它来进行协作，无论是在他们自己的团队内部还是在不同的工程团队之间。通常，在初创公司中，开发人员在专门的开发运维团队成为工程人员的一部分之前，就开始了开发运维工作，如构建和部署自动化。

在这一类中，很难想象除了之外还能选择什么。尽管 GitHub 不能免费维护私有代码库，但 Git 服务器可以免费在内部安装。AWS 有[code commit](https://aws.amazon.com/codecommit/)，另一个 SaaS 版的 Git ， 作为 的服务之一，如果你已经在 AWS 上使用它就不需要额外的费用了。

## Bugzilla 用于 Bug 跟踪

流行的 Atlassian suite 产品，[【JIRA】](https://www.atlassian.com/software/jira)在这一类和 [合流](https://www.atlassian.com/software/confluence) 为协作文档，似乎是各自类别中的默认选择。但是，的本地和 SaaS 的产品都是许可的。 Bugzilla 是【JIRA】的强大操作系统替代品，可以支持大量的用户群，它已经存在了一段时间。

如果你愿意为特定需求定制 [Bugzilla](https://www.bugzilla.org/) ，它可能会比它的一些授权竞争对手更好。虽然 Bugzilla 的主要用途是 bug 跟踪，但它的功能非常丰富，可以用于管理软件开发的所有阶段，甚至可以作为一个 IT 标签系统。

## 协作文档的 MediaWiki

虽然有多种开源维基应用可用，但就第三方扩展的可用性而言，[【MediaWiki】](https://www.mediawiki.org/wiki/MediaWiki)可能是最好的支持。 MediaWiki 的开箱即用特性是有限的，但是可以使用免费的扩展来扩展。这种定制非常简单。

## Jenkins 作为构建和持续集成平台

虽然 CloudBees 提供了一个企业版的 [Jenkins](https://jenkins-ci.org/) ，但它的开源版本结合可免费下载的插件将构成一个强大的集成平台，用于构建、发布和部署自动化，以及其他任何领域。在这里继续描述詹金斯简直就是在向唱诗班说教。

## 用于工件管理的 Artifactory

这是许多公司在初始阶段的开发运维体系中可能没有的应用之一。然而，存储构建的工件和缓存第三方工具的需求是真实存在的，包和二进制文件通常会存放在 S3 存储桶或共享文件服务器卷中。没有理由不从一开始就使用 OSS 版本的，因为它涵盖了已经提到的存储需求以及更多内容:

*   自动上传工件作为构建过程的一部分，通常由 詹金斯完成
*   为构建和部署在本地缓存第三方工具
*   存储软件工件以满足构建依赖
*   分发用于部署的包和第三方工具

## 负责配置管理和流程编排

在这个领域有两个伟大的产品可以免费使用:OSS 版本的和[ansi ble](https://www.ansible.com/)。如果你在 AWS 上， [厨师](https://www.chef.io/) 也是可以的，不需要额外的费用，形式是 OpsWorks 。但是我会推荐 Ansible 给那些因为这些原因而入门的人:

*   这是一个无代理的工具，初学者使用它会感觉更安全。如果不小心配置错了，配置管理代理可能会对生产系统造成严重破坏。
*   使用行动手册，部署可以通过很好地协调。在许多公司中， 傀儡 或 主厨 主要负责系统管理方面，还会有额外的部署工具。 Ansible 简化了这个场景。
*   Ansible 的 支持的 Python 的 竟然比 Ruby 的 支持的 木偶 和 厨师 。一个 DevOps 工程师认识 Python 的几率要比 Ruby 大得多。
*   Ansible 的 对主机库存的处理比较先进，尤其是库存清单的动态生成。后一个特性与云基础设施的供应相兼容，其灵活性要求在配置管理系统中使用动态清单。

## Nagios 用于监控

DevOps 社区中的许多人鄙视Nagios，因为它平淡无奇，缺乏开箱即用的特性。但是，如果您愿意通过开发特定于应用程序的插件来定制它，它可以转换成一个非常有效的监控平台，可以用来整合来自其余监控和各种管理应用程序的输出。我推荐是因为这些原因:

*   为 Nagios 编写插件非常简单。此外，有大量免费插件可以满足大多数系统级和第三方组件级监控。
*   开发插件来添加应用程序级监控并与第三方管理应用程序集成非常容易。
*   当您想要迁移到下一代基于云的监控应用程序，如 【数据狗】 时，现有的 Nagios 插件通常会被原生迁移或集成。

在一个缺乏编码技能的系统管理员环境中， Nagios 作为一个系统监控应用程序可能用处有限。但是 DevOps 团队应该将它视为一个易于扩展的工具，可以用来实现公司的特定和细粒度的监控目标。

## ELK 用于日志管理

[【Splunk】](http://www.splunk.com/)在改变我们处理日志文件的方式方面发挥了重要作用，并且，现在在该领域有几款优秀的产品，包括 [Loggly](https://www.loggly.com/) 、[Logentries](https://logentries.com/)和[Sumo Logic](https://www.sumologic.com/)。虽然这些 SaaS 产品中的一些有一个自由层，对于一个小的操作来说可能足够了，但最好从 麋鹿([elastic search](https://www.elastic.co/products/elasticsearch)，[Logstash](https://www.elastic.co/products/logstash)和[Kibana](https://www.elastic.co/products/kibana)栈)开始，主要是因为日志的大小会增长得非常快，所以会增加 ELK 需要大量的 DevOps 资源来设置和维护，因为涉及到三个应用程序。

## 结束语

实施或提供这些基本应用程序或具有类似功能的类似应用程序，以增强工程人员的能力，这一点非常重要。它们促进了应用程序开发，为自动化计划奠定了基础，并提供了用于全天候维护生产环境的工具包。

虽然这很正常，但 DevOps 组织和基础设施的有机增长会带来具有重叠功能的 OSS 产品，主要是因为它们可以免许可使用。仔细选择工具将有助于避免不可避免的混乱和以后的困惑。

没有讨论的一个方面是使用软件的总成本。如果使用 SaaS 提供的【GitHub】Datadog和 Loggly ，以及托管版本的【JIRA】、 合流 和 Artifactory ，则成本仅为订阅费用。开放源码软件应用程序将需要计算资源和一定量的定制和管理费用，这可能会增加总成本。

如果目标是最小化总成本，那么前期决策可能会变得比看起来复杂得多。然而，对于一家初创公司或小公司来说，如果仔细选择应用程序，开始使用 OSS 堆栈来设置 DevOps 基础架构可能是有利的。