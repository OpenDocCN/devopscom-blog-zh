# 将自动化扩展到第一次代码提交

> 原文:[https://devo PS . com/extending-automation-to-your-first-code-commit/](https://devops.com/extending-automation-to-your-first-code-commit/)

我非常支持软件复用，如果复用以软件自动化的形式出现，我会更加支持。我和我的团队依赖于可重用的软件过程，这些过程接受简单的输入来产生可预测的结果。我们的期限很紧，要求似乎不可能实现。自动化使我们更有效率，我们的工作更可预测。

![](../Images/de036351bb121bc5b754870cc772d25d.png)

曾几何时，我们使用胶水和泡泡糖来拼凑构建、测试并最终部署应用程序版本的方法。它一直工作到不行，机械化的行业机会出现了。部分进入持续集成(CI)、持续部署(CD)和开发运维。

您可能知道这一点，并且已经利用了诸如 Jenkins、CircleCI 等 CI/CD 平台。as-code 模型的简单性使我们能够将易于创建的声明转化为服务器、数据库、缓存和文件系统的复杂配置，并执行代码以利用所配置的内容。

使用工具链中的这些源代码工具，开发人员的生活变得更加美好。在 Google 上构建一个 Kubernetes 集群来(重新)部署从 CloudBees/CodeShip 管道构建、测试并推送到 DockerHub 的映像是我每次提交 Git 主机时所依赖的。

在本文中，我将讨论如何将自动化扩展到第一次代码提交，使用一个运行在功能性 CI/CD 管道中的工作应用程序，并将其部署到类似生产的环境中。

## 阻碍企业 IT 部门参与开发运维的障碍

不幸的是，所有这些伟大工具的基本使用都伴随着额外的复杂性和认知负荷成本。了解 Docker 映像创建、HashiCorp Terraform 基础设施即代码语法、Kubernetes 集群部署等只是开发人员和运营商需要具备的能力的一部分。

每隔几年学习一套新的工具是理所当然的，但是没有理由忽视自动化的新的潜在途径。我想知道是否有更好的方法来抽象和自动化现代软件生产管道中这些公共部分的设置。

我注意到的另一个常见问题是——这些管道组件通常是按顺序设置的，第一个有意义的代码提交是设置 CI/CD 管道所有其他部分的障碍。如果没有这个提交，这些工具在等待提供价值时会相对闲置。

对于我们这些经常从事新项目的人来说，开始工作总是有它的问题，特别是对于客户之间需求和团队动态不同的咨询场景。我们训练有素，首先尽可能多地使用我们的工具箱。尽管如此，DevOps 还没有被许多企业以标准的方式大规模采用。

对于这些情况，我发现 DevOps 的好处很容易解释和理解。开发人员喜欢重用和减少障碍，企业喜欢节约，企业喜欢生产力和创新。然而，注入这些优势仍然是一个非常耗时的手动过程，这使得 DevOps 的整体销售更加困难。

DevOps automation 的目的是简化繁琐且容易出错的手动流程。我看到了自动化的另一个机会:整个 DevOps 项目使用我们已经习惯的相同的 as-code 模型。

## 生成第一个有意义的提交“代码”

为什么不使用简单明了的声明式[模型驱动的](https://modeling-languages.com/realmethods-devops-project-generation/)方法，不仅生成特定于技术堆栈的应用源代码，而且生成所有导致开发运维自动化的配置文件。这样，工具链学习曲线被最小化，闲置的工具立即被调用。结果是一个自给自足的可操作 DevOps 环境，它通过一个应用程序代码库工作，该应用程序代码库包括一个完全可部署的可执行的第一代码提交。然后，开发人员获得他们可重用的资产和环境，企业看到成本和时间的节省，企业获得保持竞争力所必需的生产力和创新。

在 Pete Hodge 撰写的一篇名为“ [Hello production](https://blog.thepete.net/blog/2019/10/04/hello-production/) ”的文章中，他详细介绍了快速建立一个流动的 CI/CD 管道的价值，该管道可将一个功能正常的应用程序部署到生产中。他认为，尽快将无用的应用程序部署到生产环境中，是启动新项目的正确方式，因为它将未知的风险向前推，打开并行工作流，并建立良好的习惯。项目即代码通过模型驱动的自动化标准化了这种想法。

![](../Images/47686571f9cf3edca1b851a331b0ad40.png)

下一代开发运维正在展开，自动化仍然是扩展规模、速度和生产力的关键要素。随着自动化在工具链上的发展，自动化 DevOps 背后的自动化将改变范式，以改善项目的创建方式、DevOps 的实施方式以及首次提交到 Git 存储库的质量和功能。现在需要几周到几个月的时间可能需要几个小时到几天，这符合我们的期望，现在 DevOps 的其他成功机械化方面也满足了我们的期望。

希望这篇文章可以作为您下一个 DevOps 项目的起点，以及项目代码自动化如何能够帮助您更容易、更快地开始。

史蒂文·伦道夫