# 开发运维监控的 5 大最佳实践

> 原文:[https://devops.com/top-5-best-practices-devops-monitoring/](https://devops.com/top-5-best-practices-devops-monitoring/)

如今，组织需要为其在线服务提供更高水平的客户满意度。然而，许多人被迫用中断驱动的方法来支持这些计划，因为它们在中断后做出反应来修复东西。但是，为了采取更主动的方法并管理预期的高级别 SLA，组织可以选择通过对其开发工作实施连续交付(CD)模型来减少计划外停机时间。

CD 模型的关键是能够以结构化的方式监控和管理系统，及早发现问题，以便组织能够在系统受到影响之前做出更改。虽然意外故障有时使中断驱动的工作不可避免，但组织可以通过根据业务需求检查其当前方法和工具集来帮助创建持续服务交付优化的途径，从而变得更加主动。

# 有效的 CD 模型需要有效的监控

首先，组织需要通过收集和检测一切来控制和了解他们的 DevOps 环境。考虑到数据量，这对大多数组织来说都是一个无法克服的挑战。首先，遵循这五个最佳实践，以可测量和可扩展的方式高效、快速地执行 DevOps 监控。

第一步:收集数据。你管理不了你不衡量的东西！盘点当前收集的信息并与业务和执行团队合作以实现所交付服务的目标非常重要。用诸如“为什么我们不收集这个？”这样的问题来分析度量的库存收集？这如何符合我们的目标？你在 X 见过失败的吗？我们应该多久测量一次？我们应该保留它多长时间？那重要吗？”团队还应该评估他们如何收集信息，并考虑收集他们的度量标准的最佳架构方法，包括拉、推或拉收集方法是否更好。一旦理解了目标并收集了数据清单，看看您的组织还应该考虑收集什么。

第二步:关联和分类。需要数据的相关性来理解它，但是数据以不同的频率、不同的时间范围和不同的来源出现。努力使数据正常化以理解数据，根据不同的传入指标进行比较，并建立基本服务可用性的基线。由于组织的目标是超越基本服务级别协议(SLA ),提供高性能的解决方案，因此要不断地询问组织从数据角度缺少什么，以及它与业务计划的关系。从收集、关联和分类的角度来问这个问题是至关重要的。

第三步:识别趋势。组织需要检查历史数据以识别趋势，并在问题出现和客户投诉之前采取措施。通过从监控性能和客户的角度概述正常的一天是什么样子，然后确定是什么造成了不正常的一天，从而建立警报阈值。这与管理基础架构库存和了解可能影响服务提供的每个组件的安全阈值密切相关。与团队和业务线经理交流这些发现，以防止服务交付问题的发生，并根据确定的趋势优化产品，这一点至关重要。

第四步:通知和行动(自动化)。在手动模式下，发送通知，然后团队做出反应。但是团队不断地被推动着更快地做事，自动化会有所帮助。为了达到这一点，组织必须了解在哪里添加更多的自动化是最好的。您如何收集正确的遥测数据，以提供一致的答案，使机器可以根据规则进行操作，您是否利用自动化流程或通知某个人？改进到更快的过程的愿望需要从手工实践到自动化实践的转变。

第五步:预测(假设分析)。如果你没有花时间有条不紊地完成前四个步骤，那么如果不一直保持手动模式，就很难完成最后一个步骤。为了平衡成本和可用性，与高管团队讨论如何预测客户服务消费(收入)与您的服务将为企业带来的成本，这一点至关重要。

例如，开发一项服务，可以提醒客户由于磁盘空间而导致的潜在服务中断，这只能通过明确设定业务目标，然后利用时序数据库使用正确的指标和事件平台来实现。在这种情况下，业务目标是确保不会因为磁盘空间不足等故障而导致服务中断；指标监控是针对每个客户实例的磁盘空间，由自动触发器触发适当的阈值警报；行动是向客户发送一封电子邮件，让他们了解情况以及他们可以采取的行动(减少负载或升级以获得更多磁盘空间)。在本例中，将业务逻辑与监控实践结合起来以使服务成为客户的成功体验是很重要的。此外，这种方法不仅有助于团队预测用户体验，还有助于更好地预测未来的运营支出和资本支出。

这就是使用正确的监控方法进行预测的好处，即根据结果做出明智的业务决策。客户很欣赏这一点，主动支持比被动响应好得多。

微服务、容器化、弹性存储、软件定义的网络和混合云等新兴趋势正在推动开发运维监控的发展。正确的监控计划可以在问题影响关键业务流程之前发现并解决问题，并使客户能够在过时的系统开始给用户造成故障和停机之前规划升级。

## 关于作者/马克·海岭

马克·海岭是 T2 的 CMO。他是一位全面发展的硅谷高管，在采用复杂技术并使其为更广泛的受众所理解方面拥有丰富的经验。当他看着趋势，问着关于这项技术是会继续存在还是只是另一种时尚的棘手问题时，他深深的开发者根基从未远离他的脑海。目前，Mark 是 InfluxData 的首席营销官。在 [Twitter](https://twitter.com/markrherring?lang=en) 上关注他，在 [LinkedIn](https://www.linkedin.com/in/herringmark) 上与他联系。