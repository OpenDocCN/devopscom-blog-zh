# Chris Kinsman 的云或内部，第 1 部分

> 原文：<https://devops.com/cloud-or-in-house-with-chris-kinsman-part-1/>

上周，我与拥有 20 多年软件开发经验的 PushSpring 首席架构师 Chris Kinsman 坐在一起，讨论了决定何时迁移到云的因素。在第 1 部分中，我们将讨论业务和技术案例中的因素，在第 2 部分中，我们将探讨反对迁移到云的其他论点，甚至是从云回退到“内部”运营的意义。我会让克里斯在这里说得最多:

“我的第一个问题总是‘内部的商业案例是什么？’。一些公司喜欢说，我们不会因为隐私或与之密切相关的安全性而转向云。业务和 IT 给出了不同的原因。"

传统上，将运营留在内部的最大理由之一是现有员工和运营的高质量——与特定业务的“独特”要求相关。

“我认为这是一种谬论。看看微软或亚马逊为他们的数据中心提供支持的团队——这远远超过了其他任何人。所以这并不是真正的争论——更多的是他们不想放弃控制权。管理层会配合这一点——当出现故障时，我不能对亚马逊大喊大叫，但我可以对我的员工大喊大叫。

但是做生意的人不一样。是的，存在对隐私和中断的潜在担忧，但他们最大的担忧是成本。这里的问题是人们倾向于比较折旧的硬件和支付给亚马逊的费用。但是，如果你所做的只是将你的硬件与你的月费进行比较，那么你就真的没有考虑到所有的成本。即使你把 co-lo 成本加进去，也需要包括很多额外的监控、员工人数等，这样才能进行真正的比较，而很多公司都不这么做。

公司做的另一件事是假设硬件有 3 到 5 年的资本化。然后他们说亚马逊的同一台机器也要这么贵。但亚马逊一直在升级他们的机器，而且收费更低。所以一年后，你可以得到比第一年更好的价格，而且没有机会成本来改变它，因为没有沉没成本。因此，你可以在第 0 天拥有相对相等的计算机能力，但在一年后获得 10%以上的能力，或者保持这种能力并支付更少的费用。所以你得看看过去几年的历史定价。Azure 和 AWS 面临持续的下行压力。"

除了 Amazon spot 实例的历史数据，很难获得可靠且持续更新的历史云计算成本数据，预测这些成本在未来如何下降更是难上加难。与硬件价格相比，硬件价格一直遵循摩尔定律，每年下降 20%至 30%，数据密度大约每 18 个月翻一番(因此成本相应下降)，云计算成本通常每年下降 6%至 8%。谷歌在 2014 年的公告中强烈声明将更加积极地降价，但行业并不认同谷歌“将摩尔定律引入云的持续承诺”

“另一件没有得到很好评估的事情是，当试图进行比较时，他们认为 Azure 虚拟机与 AWS EC2 相比，但他们没有充分考虑这些人给这个故事带来的生态系统的其他部分。

例如，Azure storage 和亚马逊 S3 都是云中的块存储，您不必担心随着增长而进行配置。有了带宽，您不必担心随增长而增加的供应。并且由 CDN 作为前端，这使得尽可能靠近您的用户变得非常简单。你可以在内部做到这一点，但这是你必须建立——或购买——并弄清楚如何扩展它。

这只是一个例子。让我们来比较一下 Azure Service Bus 和 AWS 简单队列服务(SQS)之间更复杂的应用程序级逻辑。因此，现在我们正在讨论构建一个消息总线——这是一个建立和管理起来非常重要的事情，你不希望有人不知道自己在做什么。非常便宜，但是……”

好吧，这又回到了人才的可扩展性上。一个人不可能成为存储、云和安全专家。如果没有先获得专业知识，就很难确定你是否在某个专业领域做了彻底的工作。

有很多事情你不想让非专业人士去做，而构建消息总线在这个列表中是非常重要的！SQS 会给你前 100 万个请求(一条消息最多可以包含 10 条消息！)是免费的，这听起来很有价值，直到你知道每 100 万次请求 0.50 美元才 1 美元。

“所以很多人只考虑构建他们现在拥有的东西，在我看来，这不是利用云。有些人不得不这样做——他们有自己的软件“内部”版本和云版本——他们很难决定是要成为 SaaS 提供商还是销售内部软件——所以这对他们来说是一个艰难的决定点，他们不能全押在云服务上，这意味着他们无法与纯 SaaS 供应商竞争。这就是比较变得更加困难的地方。我没有看到他们计算出建设和维护这类服务的成本。”

这些更高层次的服务是建立在其他服务之上的——没有人会从零开始构建任何东西。这些服务中的每一项都将存在潜在的迁移等问题。因此，如果你是一个消息传递的人，并且你理解建立和优化管道，那么就去做吧。但是大多数组织都会在这一点上犯错误。

“SwiftType 宣布他们将转向物理硬件。他们正在从 AWS EC2 转向 SoftLayer——这很好，我以前用过——但 SoftLayer 被 IBM 收购了，他们出名的全部原因是他们是一个“云提供商”,尽管他们提供的高阶服务数量不如 Amazon 或 Azure。他们主要是 RackSpace 等公司的竞争对手。但它们是物理硬件。你不拥有硬件，它在某个地方的数据中心，它的吸引力在于许多人担心‘噪音邻居问题’。”

这意味着有人用掉了大量的带宽，用掉了部分共享资源。但是有很多地方会出现瓶颈。

“没错，还有其他的处理方法。无论如何，你都应该建立冗余，所以要确保你有良好的多样化，不太可能出现“吵闹的邻居问题”。但他们会反驳说，这将花费更多，因为你将不得不建立更多的冗余和更多的基础设施。我会反驳说这意味着你更有弹性。例如，如果其中一个数据中心出现故障怎么办。

你有控制感，在某种程度上你有，但你对自己的专业水平或所有投资都不现实。

以安全为例，您是否有一个自己雇佣的自称是安全人员的人，或者您是否有一个像 Steve Riley 这样的 50 人团队，他们无时无刻不在考虑安全问题。AWS 和微软有 50 个人——也许更多——除非你很大，否则你根本没有那个能力。"

就弹性而言，如果一名安全人员离开一家云提供商，他们可以处理，如果这是您的整个安全部门刚刚离开，您将面临重大挑战。这都要追溯到你信任谁。你信任你的员工吗？高权力顾问？或者你相信供应商有合适的人吗？

“就像核武器一样，‘信任但要核实’”

***关于作者/凯斯恳求***

[![keithp-125x150](img/5b54d761740213a62c118dd0f3694334.png) ](https://devops.com/wp-content/uploads/2015/03/keithp-125x150.png) Keith Pleas 是年度 [ALM 论坛](http://www.alm-forum.com/)的组织者和会议主席，他是一名软件架构师，也是 Guided Design 的创始人之一，曾在 [* **模式&实践** *](https://msdn.microsoft.com/en-us/practices) 团队工作多年，担任过“面向运营的设计”的架构师和主题专家。在此之前，他在开发团队工作了两年多。Keith 是一位国际知名的作家和演说家，也是 VSLive 会议的前编辑主席。他还是“Visual Studio Magazine”的创始特约编辑，以及包括“Windows NT Magazine”在内的许多其他出版物的特约编辑。Keith 已经开发了几个微软专业认证考试。Keith 是 INETA 的创始董事会成员，他还创建了 INETA 发言人办公室。你可以通过中链接的[联系到 Keith。](https://www.linkedin.com/pub/keith-pleas/1/1b3/576)