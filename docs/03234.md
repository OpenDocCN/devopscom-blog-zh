# 黑盒与白盒监控:您需要知道的

> 原文：<https://devops.com/black-box-vs-white-box-monitoring-what-you-need-to-know/>

监控这个词有一个大多数人都熟悉的含义。但是，如果您在监控服务器、应用程序和硬件，那么监控实际上会细分为什么呢？

回答这个问题的一种方式是黑盒和白盒监控。后者指的是[应用监控](https://www.ca.com/us/products/application-monitoring.html)，前者指的是服务器或硬件监控。

在本文中，我将更详细地解释白盒监控和黑盒监控。

## **什么是白盒监控？**

白盒监控是对服务器上运行的应用程序的监控。这可能是从您的 web 服务器获得的 HTTP 请求的数量到您的应用程序生成的响应代码。其他类型的白盒监控包括:

*   监控数据库服务器上运行的 MySQL 查询。
*   查看全天使用 web 应用程序的用户数量，如果超过预定义的阈值，则发出警报。
*   考虑上面的 HTTP 请求示例——将这些请求分成不同种类的监视，以确定应用程序的执行情况，或者用户是否得到了正确的内容。例如，403 将表明用户试图访问网站上不允许他们访问的部分。同样，200 表示他们的请求是成功的，他们得到了内容。
*   对我们不希望看到的行为执行高级检测，例如用户在登录您的应用程序或重置密码时没有执行您预期的正常步骤。

## **什么是黑匣子监控？**

黑盒监控是指对服务器的监控，重点关注磁盘空间、CPU 使用、内存使用、平均负载等方面。这些是业内大多数人认为应该监控的标准系统指标。其他类型的黑盒监控包括:

*   从系统指标的角度监控网络交换机和其他网络设备，如负载平衡器，如上所述。
*   查看在虚拟机管理程序上运行的所有虚拟机(如 VMware、KVM、Xen 等)的虚拟机管理程序级资源使用情况。).
*   对硬盘错误发出警报，如果不尽快更换硬盘，可能会出现问题(例如，使用 SMART)。

## **黑盒和白盒监控的区别**

这两种类型的监控有所不同。传统上，系统管理员会负责白盒和黑盒监控；然而，随着 DevOps 的出现和 IT 行业的现代变革，我们越来越多地发现，应用程序开发人员正在负责监控他们编写的应用程序(白盒),因此，他们正在为 DevOps 工程师部署的监控系统构建监控解决方案或编写检查。

系统管理员和 DevOps 工程师倾向于负责监控服务器等黑盒项目。DevOps 工程师也可以负责白盒监控，但这取决于您工作的业务或环境。

## **白盒与黑盒监控:哪个更重要？**

认识到这两种监控的重要性是很重要的。历史上，在监控应用程序方面存在差距，这带来了许多问题，因为黑盒监控会发现系统的问题，如高负载或高网络流量，但应用程序方面没有信息来显示为什么会发生这种情况，而且这些问题通常是由应用程序问题引起的，而不是服务器问题。

白盒监控及其重要性的一个很好的例子可以用黑盒监控检查警报来演示，并显示两者如何协同工作。例如，一个黑盒监控警报告诉我们服务器的 CPU 使用率为 100%。我们继续调查此问题，发现 MySQL 进程是此警报的原因。如果我们有白盒监控来监控 MySQL 中运行的查询、MySQL 中的连接数量以及查询运行所需的时间，那么我们就有更多的信息来帮助诊断问题。这可以让我们证明一个应用程序正在运行一个过于耗费资源或设计糟糕的查询，并向应用程序团队提供有确凿证据的反馈。

## **结论**

在过去几年中，我们实施监控系统的方式发生了许多变化。我们已经从实施纯粹的黑盒解决方案转向实施与之并行的白盒解决方案。现在有了新的解决方案，允许在一个应用程序中执行这两种类型的监控。

这是非常重要的，因为它允许我们在开发和系统团队之间有更多的协同作用，适当地计划容量增强和处理可能出现的问题。作为现代 IT 行业的开发人员或系统工程师，我认为在为您的团队构建任何支持/ [监控解决方案](https://www.ca.com/us/products/ca-application-performance-management.html)时，将这些不同的监控方法考虑在内是至关重要的。

— [基思·罗杰斯](https://devops.com/author/keith-rogers/)