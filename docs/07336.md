# 开源和带有 Rocket 软件的主机

> 原文:[https://devo PS . com/open-source-and-the-mainframe with rocket-software/](https://devops.com/open-source-and-the-mainframe-with-rocket-software/)

开源使开发人员能够跨公共和私有基础设施快速创建和部署容器和业务服务。开源工具允许 DevOps 团队利用大型机的力量。

在这次 TechStrong TV 采访中，Rocket Software 的首席架构师兼策略师 Tim Willging 和大型机开源倡导者 Peter Fandel 与 Mitch Ashley 一起讨论了在大型机应用程序和工具中使用开源软件的进步。Tim 和 Peter 挑战了围绕大型机、开源软件以及开源在当今扮演的日益重要的角色的一些长期信念。

Rocket Software 是一家全球性的软件开发公司，提供企业产品和服务。

视频采访就在下面，后面是对话的文字记录。尽情享受吧！

[https://player.vimeo.com/video/500044339](https://player.vimeo.com/video/500044339)

## 副本

**Mitch Ashley:** 大家好，我很高兴能和几位伟大的绅士一起谈论一些有趣的开源、安全、大型机、DevOps 等各种好东西。因此，我很高兴邀请到 Rocket Software 大型机业务部门的首席架构师和策略师 Tim Willging，以及大型机开源产品经理高级总监 Peter Fandel。欢迎，伙计们。

**Tim willing:**您好，谢谢。

**范德尔:** 你好。

阿什利:我想我可能念错了你的名字，蒂姆。是威灵吗？我不知道我说的对不对。

**任性:**没错。那很好。

**阿什利:**好的，很好。你能开始吗？我会让你们俩做自我介绍。蒂姆，也许你也可以介绍一下公司，然后我们让彼得也介绍一下？

**任性:**肯定。是的，我是蒂姆·威灵。正如 Mitch 提到的，我是 Rocket 大型机业务部门的首席架构师和策略师。我在 Rocket 工作了大约 15 年，我职业生涯的大部分时间都在为大型机开发商业解决方案，主要是围绕数据库工具、DB2 工具。Rocket Software 已经存在了 25 年多，是一家私人控股公司，具体来说，我们不仅在大型机上做软件，但让我主要谈谈大型机软件。    Rocket 与 IBM 有开发合作关系，我们开发的许多解决方案都是 IBM 品牌的；但是我们也有很多事情是火箭直接做的；开源，尤其是这次通话的主题，是我们直接销售或与公司合作直接提供开源的产品之一。Rocket 在大型机方面有着悠久的历史，我们相信它的未来，相信它在世界上许多大公司的计算部门中的重要性。

**阿什利:**优秀。太好了。彼得，请你介绍一下自己。

**Fandel:** 确定。又是彼得·范戴尔。我在 Rocket 工作了 19 年。在工程管理的大部分时间里，我在大约四五年前接管了开源移植团队的管理，大约一年前过渡到产品管理。我管理开源移植产品组合和 Zowe 产品组合，这两个产品组合都是大型机现代化故事的重要组成部分，这在很大程度上是因为有大量的开源产品，您可以让它们在操作系统上运行良好，并吸引人才，即下一代开发人员。所以这确实是我们开源的重点领域。

**阿什利:**优秀。你知道，也许你应该开始—我也是从大型机开始我的职业生涯的，所以我理解，你们在市场上都是从哪里来的。有很多关于大型机和应用程序的既定信念，无论你是否应该考虑移植，或者，你知道，重新构建它们，不要管它们。可能和你一样，我知道仅仅重建应用程序是非常昂贵的，而且充满了危险，因为你认为你想要它们在不同的平台上。你必须有一个很好的理由。但是开源实际上是大型机生态系统中非常重要的一部分。我想也许人们并没有真正意识到它有多重要。你们是如何让人们了解开源在当今大型机环境中所扮演的角色的？

**威灵:**嗯，我首先要说的是，开源是 IT 计算中非常重要的一部分。我的意思是，这是早期职业人士正在学习的东西。这是当今公司经营业务的一种巨大方式，许多公司不是从零开始编写东西，而是从开源开始，然后用开源扩充或增强现有系统，以实现开源的现代化，因为它具有协作性质，不同的公司和个人如何根据行业需求为开源做出贡献。你真的不能把运行大型机的组织的需求与开源分开。开源是运营您的计算部门的一个重要组成部分。因此，如果没有它，我认为大型机将会是公司今天运营业务所需的重要组成部分。

范德尔:我认为这也可以节省大量的成本，因为你让任何一个刚刚从计算机科学项目毕业的人，甚至不是刚毕业的人开始开发应用程序，他们会希望在开源的基础上构建这些应用程序。如果他们不在那里，你的成本就会大大增加。此外，开源是必须具备的另一个领域是 DevOps，如果您想——您是想拥有一个与您组织的其他部分不同的大型机 DevOps 工具链，还是想将其统一起来？如果你要统一它，它必须是基于开源的。

阿什利:这是一个巨大的创新源泉，我不知道我们是否已经到了这里，但是如果我们没有，我们将很快到达一个点，如果没有开源软件，你就无法运营一家公司，一个软件团队。如果你没有使用它，我可以向你保证你的竞争对手正在使用它。所以要好好利用，对吧？好吧，我们来谈谈我知道 Zowe 当然是你们战略中非常重要的一部分。给我们分解一下。更详细地介绍一下开源在大型机的软件开发过程和操作系统中扮演的位置和角色，为我们的朋友和听众描绘一幅画面。

**威灵:**我认为有很多不同的插入方式，但我在与大多数公司交谈时听到的一种正是彼得刚才所说的。你知道，大型机已经存在了很多年，我听说一些公司因为可靠性而变得像瀑布一样。大型机的安全性和可维护性是一个大批量推出变更的过程。随着公司对大型机进行现代化改造，他们开始向大型机之外的大型机应用程序添加组件，例如在混合云中，或者将 web 前端或移动应用程序前端连接到运行在大型机上的后端服务或应用程序，他们希望能够以相同的方式构建、测试和部署跨大型机和不同计算平台的应用程序组件。    为了拥有工具、管道构建工具、管道组织工具，拥有构建这些环境、运行测试、破坏这些环境的工具，他们需要那些在大型机上运行的开源工具，以便能够跨该应用的所有不同组件以统一的方式驱动这些流程。今天，许多公司才刚刚起步，您知道，大型机公司正在开始这一旅程。这些年来，他们中的许多人都在用手转动工具来尝试将它们插入，但正如我们所说的那样，这可能会变得非常昂贵。因此，要让开源软件在大型机上运行，他们必须能够在应用管理生命周期流程中部署这些 DevOps 原则和实践，这一点非常重要。

**范德尔:**我会——

阿什利:非常喜欢。当然还有更多。去吧。对不起，请说吧，彼得。

范德尔:我将在蒂姆所说的基础上引入一个非常重要的区别，那就是有三种非常不同的方式可以将开源软件放到大型机中。我们谈论的大多数开源都是基于单元的。你可以通过 Z 上的 Linux，zCX Docker 容器或者 UNIX 系统服务来完成。过去，低成本的实现方式是在 Z 上运行 Linux，现在是在 zCX 上运行，因为移植并不需要做太多工作，因为这都是自动的，只需移植到硬件上，在这些系统上编译即可。    但是在 UNIX 系统服务上做的话，如果手动做的话会耗费很多时间。但是，如果您在 UNIX 系统服务上移植得很好，其优势在于您离数据很近。我的意思是，如果你在 Z 或 zCX 上的 Linux 上运行开源，这就类似于在网络上的另一台机器上运行它。你不能直接接触数据。一切都要经过 TCP/IP。但是 UNIX 系统服务是 z/OS 的一部分，因此您可以直接访问组织中的所有重要数据，包括 MVS 数据。这是一个关键的区别。Rocket 玩的地方是 z/OS 上 UNIX 系统服务的开源。因此，我们已经接近数据所在的位置，并且我们已经通过 GCC/GLIBC 技术解决了移植的高成本问题，在该技术中，我们通过简单地在 GCC 中编译和链接来实现开源移植的自动化，并且它将 z/OS 特定的更改直接注入到构建的二进制输出中。

**阿什利:**说说那个过程。这是你已经做了一段时间的事情吗？当然，去改变二进制，大多数人可能不会这样做作为一个自然的第一想法。但这听起来确实像是一种非常简单的方法，可以最大限度地减少开始使用它所必须经历的步骤。你实际上可以做到 ____。

**Fandel:** 是的，我们已经以这种方式在这个 GCC/GLIBC 端口上工作了两年多，现在刚刚取得成果，我们将在第一季度发布我们的几个端口的新版本，这些端口不是手工移植的。它们只需用 GCC 构建就可以移植，我们希望到 2021 年底，我们的整个产品组合都可以用这种方式构建。这意味着我们不再需要修改源代码，因为上游不再是一个问题。这意味着我们可以更快地修复安全漏洞。

阿什利:我没有夸张的意思，也没有任何讨好你的意思，但这种方法可能会极大地改变游戏规则，因为你真的在问人们，如果你愿意，这是一个低升力而不是重升力的端口。

范德尔:耶。

**willing:**我通过 z/OS 社区与许多人交谈过，他们认为由于过去通过这些端口的努力，他们觉得更好的策略是运行您的开源关闭大型机——我用括号说关闭——或者在运行 zLinux 的大型机的分区上运行，因为在 zLinux 上运行开源的移植工作是最小的。所以他们觉得版本流通、Peter 所说的安全补丁、可用软件包的广度、z/OS 上可用的开源软件包将永远落后。所以他们觉得在 zLinux 上运行是一个更好的策略。    我们不相信 at 火箭。正如 Peter 所说，我们相信，从 DevOps 的角度来看，运行开源软件具有技术优势，但对于那些希望通过 Python 库来扩充遗留应用程序的人来说，更是如此，他们希望在已经找到了具有特定功能的开源软件的地方进行部署。在 z/OS 上运行 Python，并直接与正在运行的遗留应用程序协同访问数据，或者通过现代化工作中的一些子功能访问数据，这与在 zLinux 或平台外的机器上运行 Python 并访问数据有很大不同。你所能做的事情的延迟，试图在事务中的代码中嵌入开源的那种，变得更加困难。因此，我们认为，Z 客户在寻求现代化时，将从 Z 上运行的开源软件中受益匪浅。

阿什利:据我所知，我想正如你所描述的那样，彼得，你真的是在说编译过程，对吗？这就是你介绍 GCC/GLIBC 图书馆的地方。这就是这个过程发生的地方，改变二进制文件中的东西，使之适应开源。差不多就是这样吗？或者你还需要做什么来验证或测试它？或者当人们开始将它引入流程时，他们想要经历什么？

范德尔:一旦我们构建了它，我们显然必须通过测试套件来运行它，我们有两种形式的测试。我们有大多数开源产品自带的内置测试套件。我的意思是，如果你去 Git 或 Python，从社区下载源代码，它将是产品加上大量的测试代码，自测代码。因此，我们执行该测试代码，以确保它的执行结果与测试 UNIX 系统上的结果相同。我想我们用 Ubuntu 作为比较，我们比较结果。如果 z/OS 上有任何偏差，我们会检查这些偏差。    除此之外，我们还有一系列测试来测试您在开源中想要的 z/OS 特定功能。这主要与 ASCII/EBCDIC 转换有关，因为 z/OS 和包括 UNIX 系统服务都假定 EBCDIC 是默认的。你处理的大部分数据都在 EBCDIC 中。因此，我们在 UNIX 系统服务上移植的理念是，ASCII 是内部默认的。我们用 ASCII 编译。开源包和程序之间的通信是用 ASCII 进行的。但是当你接触到操作系统时，这就是转换发生的地方。因此，我们为所有端口准备了额外的测试套件，以确保 ASCII/EBCDIC 转换在 文件 IO 和管道 中正确进行。所以这增加了我们的测试过程。所以不仅仅是建造和运输。我们也做了彻底的测试。

**阿什利:**太好了。我也很高兴你解释了这一点，因为在操作系统和环境中确实存在一些根本性的差异，甚至可以追溯到—

**Fandel:** 确定。

阿什利:——我们正在使用。有没有更容易以这种方式移植的应用程序？这不是正确的说法。这不是移植它，但是，你知道，理解开始以这种方式或其他可能更具挑战性的方式使用开源，你可能会想等一等再使用这种应用程序？你会建议人们如何开始？

范德尔:嗯，我的意思是我们发现移植一门语言是最具挑战性的，因为它涉及到操作系统的方方面面。因此，我们对 Python 和 Perl 端口的转换将是我们在 2021 年底发布的最后一个版本。我们今天的 Python 和 Perl 仍然是，我们发布的是基于手工移植的。

**阿什利:**好的，很好。对此你也有什么想法吗，蒂姆？

**willing:**我原以为你的问题就像是在谈论一个客户的应用程序，他们希望在可能更容易的基础上增加和添加开源。

阿什利:我也想去那里。那实际上是我的——但我很高兴你这样回答，彼得。从客户的角度来看，我很好奇数据密集型、超高安全性、高容量的东西，在决定您可能首先使用哪种应用程序时，会有很多参数。你有什么想法可以推荐看看，或者选择你可以尝试的应用程序吗？

**willing:**我的意思是有很多大型机应用程序利用 CICS 进行在线事务处理，CICS 是部署开源软件的一个很好的环境。在其开发过程中，采用 COBOL 编写的 CICS 应用程序，并说您希望通过一些用开源语言编写的模块来扩充它，这是非常超前的想法。这是很有可能的，要实现这种交流，你首先要考虑的是是否有一个运行时环境，我要如何降低运行时环境，这样它就不会在每次事务转移或从遗留代码转移到现代语言时加载？    如果没有，如果只是一个没有运行时环境的二进制，那么你就不用有那些类型的顾虑。因此，考虑一下这个问题，从建筑的角度考虑一下你是如何布局的，并确保你考虑清楚了。遗留和开源语言环境之间的转换速度，这可能是最大的问题，取决于你想做什么。但是许多公司已经成功地做到了这一点，并说，好吧，我们不一定要去重写我的 3000 万行 COBOL。

阿什利:在计费系统中，我可能不会从这里开始。

**【willing:】**但是我们想增加一个新功能，通过连接到另一个可以获得客户数据的系统，这个功能可能会增加，你当然可以这样做，许多公司已经成功地做到了。同样，利用更现代的语言并使其可用于这种增强比完全重写和重新搭建平台要便宜得多，风险也小得多，即使这样，您编写的许多语言或您编写的许多内容也不一定会在云中的新系统上运行。因此，移植也是非常昂贵或者非常危险的，这取决于代码行数。    无论如何，我可能走得太远了，但这是我从网上交易的角度考虑的。但是一个批处理，又是不同的，你可能只是有一些你想要重新处理的数据，然后从那个批处理中写一个新的输出，在那里增加开源要容易得多，因为，同样取决于语言，它可以批量运行，它需要在一个 web 服务器中托管吗？但是，即使这样，您仍然可以有一个批处理进程，提醒 web 服务器现在去读取这些文件，这样您就可以将您的开源嵌入到 WebSphere Liberty 或其他 web 服务器中，这样甚至可以增强批处理进程。首先确定正确的架构，然后告诉他们你想怎么做。

**Fandel:** 另一个领域是数据科学和机器学习。在过去 20 年左右的时间里，学者、科学家和企业工程师开发了机器学习扩展、数据科学扩展，但他们没有用 COBOL 编写这些扩展。他们一直在用 Python 写。这是数据科学的常用语言。

**Ashley:** 仅仅因为语言和平台，它确实给你带来了很多新的创新—

**Fandel:** 一点不错。

**阿什利:**——和软件栈的差异。在剩下的时间里，我想探索另外两个领域，你提到了 DevOps 和开源在其中扮演的角色。它如何有助于推动大型机应用程序的迁移，或者将大型机应用程序开发成更像 DevOps 的方式？因为库有编译时过程和其他工具，所以有一些固有的东西吗？有 Zowe 之类的东西可以在界面、工具链、工作流程等方面帮助你。你对那个话题有什么想法？

T2:去吧，彼得，你开始。

Fandel: 嗯，我正要说 Git，自从我们发布 Git 以来，我想 z/OS 已经三年了，我想它是我们发布 30 天内下载量第一的。现在世界上每个人都在使用 Git-

阿什利:以 Git 开头，不是吗？

**Fandel:**——或者源代码控制。因此，正如我之前所说，它使您能够拥有一个统一的 DevOps 管道，这非常重要。

**任性:**耶。我想补充的是，将所有源代码放在 Git 中，然后开始构建过程，然后考虑大型机及其一些遗留组件，如帮助组成数据库的应用程序部分。您知道 DB2 在大型机上非常大。所以说，你可以把应用程序的这些部分放在 DB2 中，接触表或平滑表，提取它们，然后把它们存储在源代码管理存储库中，因为在 DevOps 中，你真的想把所有东西都存储为代码，并用代码表示所有东西，这样就可以随时跟踪变化。因此，采用开源技术，采用一些甚至是商业工具，采用一些开源脚本语言，开源让你可以与运行在大型机之外的 DevOps 管道进行交互，从而驱动构建并深入其中。你知道，DevOps 真的不是一个产品。这是一种文化，也是一种——

阿什利:这是一个过程。这是一种创建软件的方式，对吗？

那真的不可能。同样，拥有一个用于大型机的 Git 客户端和许多其他工具对于这个过程非常重要。

阿什利:我对这方面的安全性很好奇。你知道，许多应用程序的空气间隙要求之类的东西，或者安全修复的频率或及时性。我不知道大型机环境和开源环境之间是否有很大的区别。当然，这往往会更加透明地发生。从安全的角度来看，采用这种方法有哪些优点、优点和缺点？

**Fandel:** 是的，我很高兴你提到了这一点，因为这是我们今年推出 Rocket Open AppDev for Z 解决方案捆绑包时做出的重大改变之一。我们已经从旧的风格，一次一个的下载 tarball 和 FTP 它，然后通过十个步骤来设置环境斜面，并为每个源工具或语言安装它。举个例子，GIT 有四个依赖项，这意味着要下载四到五次。然后你把它们翻过来，然后你把这 10 步做 4 到 5 次。就像 _____ 方式。我们已经改用 conda 作为在 z/OS 上下载、安装和部署开源的系统。这在用户体验和所有权体验方面产生了巨大的差异。    现在，一旦在您的主机上安装了 conda，包括下载和设置大约需要 30 分钟，然后从命令行安装 Git 及其所有依赖项只需一个命令；此外，conda 有一个渠道的概念，这是他们的一个软件库或软件下载库的名称。Conda 支持称为文件通道和互联网通道的东西。    除此之外，我们还在 Rocket 建立了两个互联网渠道，一个是位于[anaconda.org](http://anaconda.org)的公共渠道，世界上的任何人都可以使用该渠道进行下载，我们的网络上还有一个安全的渠道服务器，可以为我们的客户提供认证支持。此外，您还可以在本地设置一个文件通道，这对于气隙系统来说非常理想。因此，如果您有一个 air gap 大型机，您不希望它连接到互联网，您可以建立一个文件通道，用我们的捆绑包的全部内容填充它，然后您组织内的所有开发人员都可以从您的内部通道随意下载。这是安全领域的一大优势。

阿什利:那些真的很大的变化。

**任性:**这是一个大变化。我的意思是，有许多公司已经说过，向我的大型机交付软件的唯一机制是通过 IBM Shopz。所以你知道，我对此有些感觉。就我而言，我认为这是一种老派思维，但在许多大型机客户中仍然存在这样的文化。我认为这种情况正在发生变化，为了使它变得简单，为了保证它的安全性，为了提供选择，Peter 刚刚经历了一些事情，我认为这对于提高大型机对开源的采用是很重要的。因此，Rocket 在这一领域确实处于领先地位，有助于实现这一目标。

**阿什利:**那是文化。这是一种尝试和真实的。你知道，如果它没坏就不要修。但另一方面，当你开始展示新的能力、新的优势、速度的提高、更高的安全性，无论是什么，创新的机会，突然之间，这可能成为一个令人信服的理由，开始打破一些传统或障碍，或者考虑将这作为一种能力。你不是在说改变一切吧？我们讨论的是如何在大型机和扩展环境中增加创建软件的能力，对吗？

**威灵:**对，没错。

**Fandel:** 确定。

**阿希:**好，好。那么，人们可以从哪里了解到更多的信息呢？我不知道你是否有任何试用或免费下载，或者你已经在测试一些即将上市或即将上市的产品。对于那些想与你交流并了解更多信息的人来说，最好的方式是什么—

**Fandel:** 我觉得你可以谷歌一下 z/OS Miniconda。你可以 Google Rocket Open AppDev for Z，这是 9 月份发布的产品，它会带你到我们的产品页面，我们的下载页面，关于如何安装 z/OS Miniconda 的文档，这是让你开始的引导。有几个公开的视频。如果您查看 9 月份的开放大型机项目峰会，并在那里的视频下寻找“演示在 z/OS 上下载和安装软件的安全系统”，您会在那里找到一个视频，展示如何使用它。

我唯一想补充的是去看看 zowe.org 的 T3 和 T4。

**Fandel:** 谢谢蒂姆，是的，绝对可以，[zowe.org](http://zowe.org)。

**阿什利:**当然不想看过去。

**威灵:**它完成了彼得所说的其他一切。

**阿什利:**非常重要。

**任性:**重要的东西。我们没怎么聊过佐伊，但是是的。

阿什利:我们会有机会的。希望你能回来，我们可以深入研究。我真的很想探索更多关于这种软件交付到产品中的情况，以及我们如何开始发展和扩展，帮助更多的组织考虑他们如何做到这一点，因此将有一些伟大的领域需要进一步探索。所以期待和你一起做这件事。聊得很开心。在我们结束之前有什么要说的吗？

**很快，我会鼓励那些大型机 z/OS 商店，如果你没有下载和消费开源软件的政策，我鼓励你召集你的思想领袖，想想开源软件将在你的现代化努力中提供的优势。看看[zowe.org](http://zowe.org)但是创造一个不仅消费而且贡献的政策。参与项目。这是扩大您的员工对大型机兴趣的一种方式，使那里的开源可用。所以，如果你还没有这样做，你真的应该这样做。**

**阿什利:正如彼得之前提到的，获得更多的天赋。这真的是开辟了新的途径，而不是平台，因为开源，你现在有很多不太吸引人的选择。所以人们肯定应该考虑这个问题，看看它，进入它，参与进来。太好了。先生们，很高兴和你们谈话，火箭软件公司的蒂姆·威灵和彼得·范德尔。保重，先生们，我们下次再见。**

****willing:**谢谢。**

**Fandel: 好的，谢谢。保重。拜拜。**

****任性:**拜拜。**