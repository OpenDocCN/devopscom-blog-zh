# 适应右移以提高弹性

> 原文:[https://devo PS . com/get-comfort-with-shift-right-to-improve-resiliency/](https://devops.com/get-comfortable-with-shifting-right-to-improve-resiliency/)

运营团队在凌晨 2:00 收到一个页面。有些东西工作不正常。他们知道如何修理它吗？或许更重要的是，他们是否知道这对客户是否重要，或者这对业务有何影响？公司实施不同的技术来最大化他们软件的质量。我们谈论向左或向右移位，[混沌工程](https://devops.com/what-chaos-engineering-is-and-isnt/)等等。虽然他们每个人都有自己的提高质量的目标，但是也有一个潜在的共同目标:所有这三种技术都增加了您的团队对系统的了解以及他们快速解决问题的能力。

在这里，我们将遍历软件生命周期，并讨论软件质量的常见挑战，运行复杂的系统和管理团队之间的依赖关系。共同的主线是一个适当的[可观察性](https://devops.com/?s=observability)策略，它可以帮助软件质量、不同团队之间的移交，并通过确保从设计到维护的整个系统的弹性来快速解决问题。

### 提高质量的技术

左移是最近备受关注的一个概念。这种实践围绕着这样一个理念，即越早发现和纠正问题，其影响就越小。按照这种想法，它们更容易修复，最终成本更低，坏代码的问题也更少。

DevOps 和 DevSecOps 的兴起推动了左移的流行。然而，有一个事实是开发团队经常忽略的:无论一个组织多早发现错误，问题将不可避免地存在。早期测试不能捕捉到一切。结果，一些组织开始反抗并转向右移框架。它将错误正常化，旨在更好地解决整个开发过程中的问题，包括后期制作。

“右移”也许是其叛逆亲戚“混沌工程”的不那么极端的表亲。在混沌工程中，团队成员故意制造问题，让每个人都保持警觉，测试系统的极限。他们关闭服务器，断开线路，删除文件，等等。目标是确认系统的弹性——从用户的角度来看，即使有这么多混乱，也不会有任何影响。一个有弹性的系统意味着团队可以在白天的空闲时间修复故障组件。有了弹性系统，严重故障就不太可能发生，当可怕的凌晨 2:00 页面出现时，修复它们就成了第二天性。与混沌工程不同，右移并不明确地破坏事物——它只是假设破坏的事物会存在，因此团队需要准备好处理它们。

两个概念(是的，甚至是混沌工程)都是有效的——但是每个公司都需要仔细分析哪一个适合他们。要考虑的一个变量是您正在构建的系统的复杂性。研究火箭发射或手术机器人？或许应该尽可能向左移动。改变按钮的颜色？也许在生产中验证修复并不是世界末日。对我们大多数人来说，项目介于这两个极端之间——所以有时候向左移动是必要的，而其他时候向右移动是务实的。应对风险进行仔细分析，以确定需要哪种测试。

尽管团队倾向于很好地分析他们软件的复杂性并做出开发过程决策，但是他们经常忘记他们所依赖的其他公司代码的复杂性。即使是今天部署的简单 web 应用程序也有大量的依赖项:运行它的服务器、本地 ISP、中转 ISP、负载平衡器、DNS 提供商、TLS 证书、CDN 和浏览器，等等！在分析了互联网上所有依赖关系的复杂性后，很明显，找到每个可能影响其应用程序的问题是一项艰巨的任务。

同样，目标是在问题进入生产之前发现它们。或者，如果它们进入生产环境，在影响客户之前解决它们。或者如果它们影响了客户，那么在那之后尽快修复它们。要快速完成这些事情，整个系统的可观测性是至关重要的。对于简单的系统，甚至是完全由一家公司控制的复杂系统，应用程序性能监控(APM)等工具都很常见。但是，当系统的范围像互联网一样大时，互联网性能监控(IPM)工具是必要的。

使用 APM 和 IPM 工具，目标是尽可能多地了解系统——使团队能够快速识别问题，查明根本原因，并修复它。当一个组织能够有效地监控从应用到交付的开发和操作过程时，就向更高质量的代码、更少的错误、更高的安全性和更低的企业成本转变。对于工程师、开发团队和其他人来说，干扰和分心也更少了。

### 处理断线

无论使用左移还是右移，都会出现进入生产的问题。在许多组织中有一堵无形的墙——工程团队将代码“扔过墙”给现在负责运行它的团队。在一些公司，这是运营团队；在其他情况下，它是站点可靠性工程或生产工程——通常的趋势是，在大多数公司中，创建软件的不是同一个团队。

这些运营团队通常缺乏解决生产问题所需的细微信息。他们可能会花上几个小时甚至几天的时间试图找到问题的根源。创建或拥有系统不同部分的不同团队之间经常相互指责。事情会很快陷入混乱——脾气也会变得暴躁。毕竟这种问题总是发生在凌晨两点，对吧？

这就是端到端可观察性的来源。想象一个框架，证明开发团队已经向运营团队进行了足够的知识转移。运营团队已经询问了关于运行和维护应用程序的所有相关问题。使用正确的工具，工程和运营团队需要监控系统的每个方面和每个组件。创建这种监控策略意味着参与的每个人也建立了对系统的理解——每个人都在同一页上。突然间，有了一种共同的语言来讨论问题，在产品中操作软件的团队可以在需要寻求帮助之前进行更多的调试。

最终，左移或右移是每个组织的个人选择。即使在部署到生产环境之前执行了所有可能的测试案例，问题还是会发生，所以要抓住机会实施一个强大的系统级监控策略，用于解决凌晨 2:00 电话中的技术问题。