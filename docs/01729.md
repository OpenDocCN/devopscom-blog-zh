# DevOps:商品化基础设施

> 原文:[https://devops.com/devops-commoditizing-infrastructure/](https://devops.com/devops-commoditizing-infrastructure/)

硬件供应商面临困境。如果你不能继续发展一个独特的架构作为你的竞争优势，你如何从你的竞争对手中脱颖而出？但这种困境并不仅仅始于硬件厂商，也不仅仅止于硬件厂商；操作系统厂商和虚拟机厂商在同一地平线上。为了“简化”硬件特性，我们的行业从开放标准发展到“公共”语言或功能集的最小公分母功能，随着时间的推移，出现了容器等技术。如果我能把我的应用从硬件厂商的“唯一性”中抽象出来，从配置设置的复杂性中抽象出来，只做 CPU、磁盘、内存等基础的假设。，那么我可以自由地专注于应用程序，并允许我的“硬件缓解技术”执行其功能。

## **App 与存储的关系**

但是为了完成这一壮举，我必须同意我打算调用的一组基本特性或函数，比如为我的应用程序提供“x”数量的机器内存。无论是磁盘还是 RAM，我都希望定义我的应用程序需要什么，然后期望容器(或者我选择的硬件缓解/抽象管理器)来管理实际的分配。然后，困惑开始了。作为一个例子，请求 1TB 的磁盘空间已经足够普通了。但是，我的请求是否包括能够指定我只寻找转速超过每分钟 7，500 转的磁盘，还是我将背负着每分钟 5，000 转的磁盘？我的应用程序在速度上有明显的暗示。

最终，当我坐下来调整我的代码时，因为我的应用程序变得“慢”，这可能是无害的，因为它的实际执行发生在使用较慢磁盘旋转而不是较快磁盘旋转的云提供商身上。更糟糕的是，可能是同一个云提供商在它的一个数据中心有一批速度较慢的应用程序，我最终在那里执行(只是暂时的)，我永远无法完全找出为什么我的应用程序会“慢”一段时间。那种随机的坏 ju-ju 需要执行一只鸡来修复(我自己更喜欢大力水手的)。

不同的存储供应商可能有更多的特性，使其在速度、可靠性或性能方面优于各自的竞争对手。但是容器的主要功能是为我的应用程序提供“磁盘”。理论上，特定磁盘供应商或提供商的规范是云提供商的问题，而不是应用程序开发者的问题。但硬件更新可能会很昂贵，而且声称“我们所有的磁盘”的 rpm 规格都在 10，000 以上，只有在 12，000 rpm 型号问世后的大约 10 分钟内才有意义。当然，工程中还有更多旨在提高速度和可靠性的架构设计。如果不忽略这些，就必须决定“谁”有责任管理它们的使用(通常是云提供商)，以及当事情变得缓慢时“谁”会抱怨(通常是你这个客户)。

当某项特定技术出现“突破”时，会发生什么？例如，固态硬盘现在并不算新，但曾经是。当你把你的应用从一个高速旋转的硬盘移动到一个以内存速度运行的芯片硬盘时，速度上的差异会好一个数量级。不可避免的问题出现了，我的容器是否能够指定基于 RAM 的磁盘而不是传统的旋转磁盘，作为它提供给我的应用程序的磁盘商品的一部分？

既然速度差这么大，你会以为它会想出办法。您同样会期望在我的容器结构中提供诸如磁带(从恐龙时代开始)之类的离线存储有自己的名称(由于速度差异，不等同于离线旋转驱动器)。当您进行备份或恢复时，磁带和硬盘之间的差异就像固态硬盘和旋转硬盘在应用程序执行上的差异一样明显。因此，当一个平台发展时，我的容器缓解也必须随之发展。但是，要提供供应商优势的独特性，需要我的程序员学会向谁请求(或者他们必须知道什么级别的硬件规格)，这就是想要一件商品的全部意义所在:我不需要知道。

## **商品对其他成分的影响** 

同样的困境也可以在 CPU 厂商身上体现出来。英特尔吹嘘自己的优势，AMD 不会同意，可能总会有一个新贵想在任何领域与当前的领导者竞争。以免我们认为基于英特尔的计算是无可争议的冠军，量子计算可能会颠覆这一假设(当然，除非英特尔也垄断了这一市场)。这里的要点是简单地问:我们编程团队需要了解我们的平台提供商多少特性、多少规范，才能理解我们的应用程序运行得更好和更差的原因和位置？在容器风格的意识形态出现之前，硬件供应商吹嘘他们的差异和独特性是他们更好的原因。现在怎么办？

然后是我们的虚拟机提供商，最后是我们的操作系统。如果我想真正从我的硬件层中抽象出来，我一定不能调用只有 Linux 或 Windows 才能执行的操作系统特有的命令。我必须坚持两个操作系统实例都能合理理解和适应的功能。虽然这一最小公分母对于扩展我的应用程序的运行环境(在多种类型的硬件上，在多种类型的操作系统安装中)非常有用，但它对独特性和潜在的竞争优势也有同样的影响。如果目的是想出一个单一世界的操作系统，我通常是赞成的，但我们的旅程肯定会在创新方面有一定的牺牲，单个操作系统适合，而它的竞争对手不适合。

一个不可避免的问题是，我们要在多低的地方或多高的地方形成计算能力的商品供应？有人可能会说，iPhone 平台的简单性是以用户为中心的商品供应在堆栈顶部的表达。拖放式编程语言是将计算能力分成更简单的表达式的另一种表达方式(更多的人可以理解，因此可以利用)。通用性和简单性确实增加了受众。在我们行业的许多领域，这是面向公众销售的天堂。

## **对底线的冲击** 

DevOps 专注于支持创新。DevOps 的核心是软件创新。让我们面对现实吧——硬件平台的变化通常不太频繁。如果这些硬件平台与某个特定的应用程序结合在一起(而不是在同一个机器、同一个虚拟实例等上为大量应用程序提供服务)。)那么至少可以用 app 进行一对一的调配。但是，随着将基础设施变成应用程序程序员不必考虑的通用商品的愿望，出现了他们不再考虑它们的事实。随着时间的推移，他们会越来越不理解为什么事情会变得缓慢，或者工作得更好，因为独特性的知识消失了。

根据你的市场重点，无处不在要么是你的朋友(因为它触及消费者)，要么是你的敌人(如果你是硬件供应商，试图在日益商品化的市场中保持相对于竞争对手的相关性)。我在本文中提出的问题旨在关注如何让我们的硬件缓解趋势不至于扼杀我们所依赖的硬件平台的创新。无论如何，我欢迎你对这个话题的想法。

要继续对话，请随时[联系我](/cdn-cgi/l/email-protection#074c756e74736e66692949626b746869476f68736a666e6b2964686a)。