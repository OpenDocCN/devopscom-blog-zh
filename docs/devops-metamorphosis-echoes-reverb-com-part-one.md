# 一个德沃普斯的蜕变回响在 Reverb.com，第一部分

> 原文：<https://devops.com/devops-metamorphosis-echoes-reverb-com-part-one/>

Reverb.com 高级基础设施工程师 Adam Enger 表示:“[Reverb.com](http://www.reverb.com)是一个连接音乐人的电子商务平台，让他们能够买卖二手设备和乐器。作为一个电子商务网站，对 Reverb.com 来说至关重要的是，它的工作流，如结账、购买要约和信息，要与销售工作流协同工作，包括创建新的列表和管理订单。

Reverb.com 团队还开发了一个免费、全面的在线价格指南和一个复杂的内部内容和监管系统，允许他们为客户挑选和推荐最好的设备。在 Reverb.com 市场中，所有软件组件必须运行顺畅，以便客户在进行音乐设备交易时获得最佳的研究、购买和销售体验。

为了创建这些组件，Reverb.com 的开发人员主要在 MAC 电脑上用 Ruby on Rails 编写代码。etailer 在其生产环境中运行 Linux。Enger 说:“我们的后端堆栈包括用于数据库的 [PostgreSQL](http://http://www.postgresql.org/) 、用于搜索引擎的 [ElasticSearch](http://www.elasticsearch.com/about/) 以及用于队列和键值存储的 [Redis](http://redis.io) 。

不太好，老式部署

在开发运维方法之前，Reverb.com 从个人用户工作站部署代码。“对于我们基础架构的配置更改，我们必须使用 SSH 连接到生产环境。当然，我们一直在祈祷，”恩格尔说。这种松散的部署过程给 Reverb.com 带来了一些明显的挑战。

Enger 说:“如果由于工程师的网络连接不良而导致部署失败，我们可能会有两台更新的主机，而三台仍在运行旧版本的代码。这尤其成问题，因为这些部署通常包括数据库迁移。

也没有真正的方法知道部署何时失败或谁开始了部署。Enger 说:“这个过程没有任何部署日志记录，所以当部署被开发人员的终端吞没时，错误和异常更难发现。”。

这些风险使得 Reverb.com 有可能面临一个更大的风险:客户的信任缺失。Reverb.com 作为一个市场的声誉取决于其客户的信任感。组织的每个方面都会产生信任。从 Reverb.com 如何作为人与客户互动，到其系统如何呈现给用户，该公司希望散发出信心。Enger 说:“如果我们经历了中断和缓慢的性能，我们可能会削弱我们与观众的信任。

DevOps 的目标

Reverb.com 对 DevOps 有很多目标，希望它能满足他们快速、可伸缩、可靠地交付代码和配置变更的挑战。Reverb.com 需要知道什么时候会有变化。该公司需要能够在接到通知后立即进行部署。

Enger 说:“所有流程都必须在点击按钮或 SCM post/pre 触发器之后。所有 Reverb.com 的部署都必须被记录和绘图。如果团队拥有快速、可重复的过程，允许他们将新的特性和错误修复快速推送到新的 DevOps 平台上，那么扩展团队和业务应该变得更加容易。这应该允许 Reverb.com 市场的可扩展和动态的工作流，因此它可以灵活，适应用户的需求。

Reverb.com 的推理:自动化宣言

Reverb.com 转向 DevOps 是基于自动化程度越高，人为错误的可能性就越小。从这一点来看，当消费者浏览网站、购买和销售硬件时，Reverb.com 的开发人员应该会为其客户群制造更少的问题。

恩格尔说:“在这里寻找根本原因是非常重要的:如果我们只是在网站速度变慢或宕机时处理症状，我们将永远在玩打地鼠游戏。”。通过使用 DevOps 思维模式，启动可重复的自动化部署，并实时测量性能和应用指标，Reverb.com 开发人员应该能够跟踪某个产品的发布时间、它对用户的影响以及客户是否因此体验不佳。

希望这将使他们能够快速查明问题并修复根本原因，Reverb.com 的程序员团队踏上了开发运维之路，发射了第一个连续交付的 power chord，并等待反馈。

结论:扣人心弦

下次 DevOps.com 将在“DevOps 蜕变回响于 Reverb.com”的激动人心的结论中揭示 Reverb.com 如何采用 DevOps 并使用它来应对这些发展挑战和目标。