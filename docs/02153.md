# 自动化证书管理不再是一种奢望

> 原文：<https://devops.com/automated-certificate-management-no-longer-a-luxury/>

2018 年 12 月 6 日，英国电信提供商 O2 的大约 3200 万客户醒来后发现了一个令人沮丧的现实:该国最广泛使用的移动网络正在经历其 4G 移动网络的[天中断](https://www.computerweekly.com/news/252453970/Software-failure-paralyses-O2s-4G-network)。

对一些人来说，无法查看天气预报、交通报告或足球比分只是一个小小的不便。对其他人来说，影响要严重得多，因为全国各地的人们都意识到，他们无法收集电子邮件、使用他们连接的应用程序或执行任何其他需要使用数据的任务——无论这些数据对他们的业务或个人生活有多重要。世界很快意识到，英国的 O2 用户并不孤单:全球其他移动提供商，包括日本的软银，在同一时间内遭遇了类似的中断。

是什么导致了这次全球停电？是软件故障吗？一个测试不佳的更新，分享得太快？甚至可能是针对移动网络基础设施的网络攻击？最终，解释变得简单多了:爱立信后端移动数据服务中的数字[证书过期](https://www.computerweekly.com/news/252454067/O2-outage-highlights-importance-of-software-certificate-audits)导致了一系列系统故障，最终导致这些移动服务的数据中断。这个问题突出了证书错误在我们现代数字企业中的潜在影响，以及自动化在管理这样一个关键流程中的价值。

## **人为错误、缺勤导致停机**

虽然 O2 和软银服务中断在他们的国家造成了严重的后果——美国相当于像威瑞森这样的提供商失去数据服务一整天——但他们不是唯一遇到这个问题的人。今年早些时候，在美国联邦政府关闭期间，许多重要网站关闭或失去功能，因为没有人手动更新到期的网络证书。甚至像美国航天局这样的受欢迎的机构和司法部提供的关键服务也不能幸免，这些机构和它们所服务的公民都被迫无助地看着他们的证书过期和服务中断。

虽然这对于醒来时没有移动数据的客户或无法使用政府服务的公民来说没有什么安慰，但如果利用自动化来管理有问题的证书，这种情况可以很容易地避免。当证书被手动管理时，确定像 O2 和软银所经历的中断的原因并不总是容易的。过期的证书可能不是脑海中浮现的第一个答案，可能只有在仔细研究代码、查看网络监控和检查其他潜在罪犯后才会被注意到。对于 IT 团队来说，证书并不总是最重要的，这凸显了简化管理的价值。

技术部门在这方面取得了重大进展，各组织都有工具可以帮助简化证书的颁发、管理、更新和撤销。必须手动一次颁发一个证书的日子已经一去不复返了，组织保留证书到期日期的电子表格，希望他们记得更新它们。虽然我们无法具体说明导致爱立信证书失效的根本原因是什么或如何失效的，但可以通过正确使用证书自动化来消除意外的证书过期——如果采取了正确的步骤，这种灾难就不太可能重演。

## **在秤台上安心**

开始比你想象的要容易。数字证书管理自动化的兴起为组织提供了一个简单而令人兴奋的解决方案，远远超出了断电保护的范围。也许最好的一点是，许多在 Windows 环境中运行的组织可能已经可以使用自动化证书服务领域的先驱 [Microsoft CA](https://docs.microsoft.com/en-us/windows/desktop/seccrypto/certification-authority-renewal) 来访问自动注册和自动续订工具。您可能已经熟悉使用 Microsoft CA 作为管理内部(私有)证书的简单方法。

但是公证呢？诚然，微软 CA 不处理这些，所以大多数组织将需要找到第三方供应商来管理他们的 web 服务器、负载平衡器、VPN 设备和其他网络设备的 SSL 证书。无论您在 Windows、MacOS、Linux 或其他环境中操作，都有供应商能够在一个平台下管理所有证书要求。像[自动化证书管理环境](https://en.wikipedia.org/wiki/Automated_Certificate_Management_Environment) (ACME)这样的标准的出现使得集成不同的环境变得越来越简单。

由互联网安全研究小组设计的 ACME 已经成为一个流行的证书管理工具。超过 1.5 亿个网站和 130 个开源客户端工具使用 ACME。事实上，ACME 得到了许多使用 DevOps 来管理部署的人所熟悉的工具的支持，包括 Kubernetes、Chef、Ansible、Salt Stack、Terraform、Istio、Docker 等。

随着企业越来越频繁地利用 DevOps，有效的证书管理有助于提高容器、微服务和应用程序的安全性。此外，编排工具如 [Kubernetes](https://devops.com/kubernetes-adoption-are-you-game-for-it/) 支持本地证书管理，利用 ACME 作为底层协议。私钥可以存储在 Kubernetes Secret 或 Hashicorp Vault 中，因此证书管理系统可以无缝集成。

使用私有 CA 对您的 DevOps 容器进行数字签名有助于验证给定容器的身份，因为它通过 TLS 进行通信，同时还可以防止未经授权的应用程序 ACME 用户可以使用的工具增加了重要的价值。当然，这只是冰山一角—使用自动化来管理这些证书意味着接入一个巨大的资源生态系统，减少部署时间并消除人为错误的可能性。真的就这么简单。

## **新的自动化未来**

证书管理并不是人为错误会产生巨大影响的唯一领域，但 O2/Softbank 的中断清楚地表明了此类错误可能产生的严重影响。证书管理不善会导致服务中断、声誉受损和消费者失望，组织越来越多地转向自动化来解决这一问题。随着诸如 ACME 之类的协议被集成到越来越多的常用 web 工具中，并且外部供应商扩展了他们承担证书管理负担的能力，组织将自动化元素集成到他们自己的环境中只会变得更加容易。

阿布·萨莱克