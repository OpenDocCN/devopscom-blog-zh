# 2022 年最佳:现场可靠性工程师的一天(SRE)

> 原文：<https://devops.com/day-in-the-life-of-a-site-reliability-engineer-sre/>

随着 2022 年的临近，我们 DevOps.com 想要突出今年最受欢迎的文章。以下是我们 2022 年最佳系列的最新内容。

到目前为止，我们大多数人都熟悉[现场可靠性工程](https://devops.com/site-reliability-engineering-sre-comes-of-age-in-2022/) (SRE)的概念。这个术语最初是由[谷歌](https://cloud.google.com/blog/products/devops-sre/how-to-start-and-assess-your-sre-journey)创造的，近年来，SRE 作为致力于提高数字生态系统弹性的角色越来越受到关注。为了实现这一点，SRE 主义的很大一部分是“自动化你的工作”

对于 DevOps 和 SRE 来说，可观察性和监控工具极其重要。但是对于你的普通 SRE 来说，实际上每天的体验是什么样的呢？SRE 人做什么活动？SRE 人花在特定任务上的时间比例是多少？

我最近会见了一家大型跨国公司的首席现场可靠性工程师 James Curtis。根据柯蒂斯的说法，SRE 的方法需要某种类型的人——血液中流淌着 Ops 的血液，对根除重复性任务充满热情的人。下面，我们将利用他的意见和其他来源的意见来更好地理解站在 SRE 的立场上是什么感觉。

## 了解 SRE 的角色

各组织对这一角色有不同的理解。但是在一般意义上，SREs 试图维护软件应用程序的高可靠性和可用性，并在事件发生时做出响应。为了帮助他们的工作，SRE 试图简化和自动化尽可能多的操作，以消除人为错误的机会。

SRE 的一个标志性目标是减少辛劳柯蒂斯将辛劳定义为“没有持久价值的单调乏味的行为。”例如，假设管理员必须在每次触发事件中断服务时手动重启 Microsoft Exchange 中的服务，这一操作当然可以自动完成。sre 花费大量时间通过编码自动化和配置内部工具来消除辛劳，以便更好地与软件基础设施交互。

sre 通常还负责使用 Splunk 或 Datadog 等工具来观察和接收数据，从而记录日志和设置基准。Curtis 自己使用 Cribl，它提供了一个可观察性管道来解析和路由日志数据。由于 sre 监督内部服务级别指标，因此他们通常负责规范行为和设置 SLO 和 SLA。

## 常见的 SRE 活动

一个 SRE 杂耍很多任务。为了证明这一点，读一读新遗迹博物馆的 SRE·约纳坦·舒尔茨的《生活中的一小时一天》。Schultz 平均每天都在配置基础设施，从一个项目跳到另一个项目，当然，还要参加许多会议。以下是 SRE 每天可能会执行的一些其他任务:

**监控服务级别指标(SLIs)** 。SLI 可以是所有请求中成功请求的数量。在这种情况下，拥有高 SLI 将是一个目标。SREs 跟踪其他指标，如可用性、正常运行时间性能、延迟、错误计数和吞吐量。定期监控系统对于确保[适当的容器资源利用](https://containerjournal.com/features/identifying-and-trimming-hidden-container-costs/)和避免内存不足(OOM)错误是必不可少的。

**设置 SLO 和 SLA 并确定误差预算**。一旦确定了基线系统性能，就可以设置服务级别目标(SLO)。这些通常是内部目标，如 99.99%的可用性。虽然 sre 通常监督功能性度量，但是一些团队也为[非功能性度量](https://devops.com/could-full-stack-observability-help-lessen-its-burden/)设定目标。sre 有助于确定[服务级别协议](https://www.catchpoint.com/blog/sla-resources)(SLA)，这些协议更具法律约束力，通常面向合作伙伴。

**应对突发事件**。待命 sre 的任务是在问题出现时找到问题的根本原因。对事件进行分类时，立即准备好所有必要的日志和工具会很有帮助。柯蒂斯说，这是自动化可以帮助的一个领域，通过提取相关细节来立即建立一个案例。

**写验尸报告**。事件处理后，从中吸取教训是很重要的。事后分析在网络安全实践中很常见，通常由 SRE 负责。这些审查旨在回答设定的标准，以深入事件的核心，并确定问题的根本原因，从而防止问题再次发生。

**自动化其他系统任务**。SREs 将花费大量时间编码和构建工具，以便工程师与基础设施进行交互。例如，SRE 可能会生成考虑长期性能的可靠性报告。

**跨部门协作**。sre 不倾向于拥有应用程序代码。相反，他们支持多个软件部门。这意味着与其他开发人员一起检查，传播最佳实践并审查新的体系结构，以代表等式的可靠性方面。

正如您在上面看到的，SRE 角色可能混合了许多不同的活动，并且跟踪它们可能是工作本身的一部分。Pinterest 的 SRE 夏嫣·慕克吉分享说，在 Pinterest，每周都有一个会议，让 SREs 分享他们所花的时间。关于另一个有用的“生活中的一天”的故事，让我们看看[对 SRE 一天的描述](https://www.linkedin.com/pulse/day-life-site-reliability-engineer-red-hat-job-id-72421-wadhwani/)。Nikita 每天都在回复开放的 JIRA 卡，处理事件，将代码推送到 GitHub，并在换班时与其他地区的 SREs 同步。

## 时间花得值

那么，SRE 人如何分配他们的时间呢？正如 Curtis 解释的那样，理想的目标是在工作模式下花费的时间和尝试自动完成工作的时间各占一半。他承认，当然，这更像是一种滑动秤。柯蒂斯说，当东西坏了，注意力自然会转移到更多的体力劳动上。虽然前期的自动化程度可能会降低，但是构建越多，规模就越大。

这在其他机构也是类似的。例如，在接受 DZone 采访时，Paul Greig 解释说，他一半的时间花在服务可靠性维护上，一半的时间花在减少工作量上。来自 Squarespace 的 spent】约翰·特纳说他 70%的时间都花在了写代码上——大部分是自动化代码。

## 谁适合成为 SRE？

如上所述，SRE 的工作需要一种解决运营问题的特殊态度。柯蒂斯将此人描述为“讨厌重复做某件事的单调乏味的人。”他说，这个人应该有不断解决新问题的动力，因为一旦你自动化了一件事，你就会转向下一件。

不要认为自动化程度高的职位就等同于轻松的薪水。我们都听说过这样的故事:系统管理员秘密地将他们的工作自动化了，而且从未告诉任何人。虽然这可能适用于其他角色，但 SRE 的工作永远不会结束。柯蒂斯说:“你永远不会用完要优化的东西。”。

同样，SRE 角色融合了许多不同的活动。你也可能会和不同的开发团队打交道。由于该角色涉及这种类型的互动，沟通技巧和理解是必须的。

## 最后的想法

SRE 的做法是广泛而多样的——每家公司都有自己独特的风格。柯蒂斯说，展望未来，机器学习有大量的用例来进一步增强 SRE 的实践。这在安全自动化中尤其重要，在安全自动化中，算法可以针对真实攻击进行训练，以标记可疑行为。或者，通过适当的数据量，可以应用预测分析来预测 CPU 高峰，通知服务器利用率。

在这两种情况下，柯蒂斯都强调了[可观测性](https://containerjournal.com/features/7-open-source-cloud-native-tools-for-observability-and-analysis/)的重要性。他说:“这真的让你有能力查看数据，然后问一个你没有意识到你需要问的问题。”这种能力依赖于简单的数据转换，使事物能够说同一种语言。这就是为什么他的团队选择了 Cribl，这使他们能够动态地标准化数据，并在以后重放。"改变数据的能力——这是可观察性给你的力量."