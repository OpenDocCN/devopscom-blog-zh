# 为什么“企业开发”没有意义

> 原文:[https://devops.com/enterprise-devops-doesnt-make-sense/](https://devops.com/enterprise-devops-doesnt-make-sense/)

最近，一些人建议我们需要一种新形式的开发运维，称为“企业开发运维”或“大开发运维”

有人认为，DevOps 很棒，但大型企业的运营方式与 DevOps 诞生的敏捷 web 初创公司不同，因此它们无法实现与这些初创公司相同的 DevOps 方法。大型企业拥有更大的团队、更高的内在运营复杂性和更强的治理控制(包括自我施加的和外部施加的)；因此，他们需要一种不同类型的 DevOps 来迎合他们的感受，而不是那些敏捷的网络初创公司。

虽然大企业确实在不同于敏捷 web 创业公司的环境中运营，但从采用 DevOps 的角度来看，这并没有什么不同。

简而言之，如果你主张企业开发运维与普通的开发运维有所不同，那么你就错过了开发运维的本质。

原因如下。

## 早期思维:DevOps =工具+文化

为了更好地理解 DevOps，我们需要了解它的来源。

DevOps 最初是一个自下而上的最佳实践集合，几乎没有正式的基础。系统管理员和开发人员看到了敏捷开发实践的成功，并试图将一些相同的想法应用到整个开发到运营的过程中。战壕中的练习者走上前说，“这就是我们正在做的，它似乎对我们有用。”

最早和最明显的例子之一是 John Allspaw 和 Paul Hammond 在 2009 年 Velocity 上的演讲，题为“每天部署 10 次以上:Flickr 的开发和运营合作”

[youtube http://www.youtube.com/watch?v=LdOe18KhtT4]The video is well worth your time, as is the presentation on Slideshare:

[slide share id = 1628368 & doc = allspawhammondvelocity 2009-090623161942-PHP app 01]

请注意，这个演示文稿早于“DevOps”这个名称的实际创建。Allspaw 和 Hammond 谈到开发和运营团队如何高效地合作，但他们从来不说“DevOps”那年晚些时候，帕特里克·德博伊斯创造了第一个“志愿者日”。

在演示中，Allspaw 和 Hammond 讨论了他们在 Flickr 取得的成功，并提供了一系列他们认为重要的建议，分为两个部分:

1.  工具
2.  文化

在工具类别中，他们提供了六项建议:

1.  自动化基础设施
2.  共享版本控制
3.  一步构建和部署
4.  功能标志
5.  共享指标
6.  IRC 和 IM 机器人

一路上，他们提到 Flickr 使用了:

*   Chef、Puppet、CFEngine 和其他自动化工具
*   版本控制的 SVN
*   Hudson 构建
*   用于监控的神经节

最后，在文化类别中，他们列出了另外四项建议:

1.  尊重
2.  信任
3.  对待失败的健康态度
4.  逃避指责

不幸的是，大多数人都忽略了哈蒙德在演示工具部分之前的评论(时间码 7:40):

> 这些是为我们工作的一些工具。它们不一定对每个人都适用，我们会举一些我们使用的具体工具的例子，但我们试图让大家理解的重要事情是重要的概念。

在接下来的几年里，许多自称为“DevOps 工程师”(如果你明白 DevOps 是为了将开发和运营工程师聚集在一起，而不是创造只专注于 DevOps 的新型工程师，这是一个有点荒谬的头衔)的人坚持认为，如果你使用 Jenkins 和 Chef 自动化你的发布，并尊重团队的其他成员，你就是在“做 DevOps”。

虽然 Allspaw 和 Hammond 的演示非常出色(说真的，花点时间看看吧)，而且建议实用而有价值，但许多人离开时对后来被称为 DevOps 的东西只有一个模糊的概念。

例如，在“一步构建和部署”的建议中，Allspaw 和 Hammond 描述了他们将代码转移到产品中的自动化系统。开发人员只需点击一个按钮，就可以让一个版本上线。这个按钮被戏称为“我感觉很幸运”(向谷歌致敬，我敢肯定)。

如果你是一个敏捷的网络初创公司，这是意料之中的事情。

但如果你是一家大型金融服务公司，你可能会想，“不！我们的治理人员将 ***永远不会*** 让开发人员只需点击一下鼠标就可以将代码直接推向生产，不要介意“我感觉很幸运”的标签。不会吧。不会发生的。”

当人们建议我们需要“企业开发”时，他们通常会对其他人做出的选择做出负面反应。他们认识到这些解决方案由于各种原因对他们不起作用，他们说，“我不能用那个。我需要不同的东西。”

但是事情是这样的——devo PS 与具体的实现选择无关。那些都是可选的。你可以做出与奥斯鲍和哈蒙德完全不同的选择，但仍然“做开发工作”

不幸的是，随后的会议充满了 DevOps 演示，只是重申了“DevOps =工具+文化”的咒语，并提供了类似的建议，这些建议通常来自敏捷创业公司，而不是大型企业。

那么，这是否意味着工具和文化对 DevOps 不重要？

不，一点也不。从长远来看，工具和文化对于开发运维来说都是至关重要的。

然而，DevOps 试图解决的问题不是工具问题或文化问题，而是更基本的问题。

为了理解 DevOps，你需要专注于终极目标。

## 坚实的基础:丰田生产系统和精益制造

[![The Phoenix Project](../Images/ff1ee8ec38244c8256c9fa0611557f55.png)](https://www.amazon.com/The-Phoenix-Project-Helping-Business/dp/0988262592)2013 年，吉恩·金(Gene Kim)、凯文·贝尔(Kevin Behr)和乔治·斯帕福德(George Spafford)写了 [*《凤凰计划:一部关于 IT、DevOps 和帮助你的企业赢得*](https://www.amazon.com/The-Phoenix-Project-Helping-Business/dp/0988262592) 的小说。

三人组对 DevOps 运动的贡献在于认识到企业以前面临过类似的问题，但在不同的领域——制造——并且类似的解决方案可以应用于软件工程和应用程序操作。(该小组从制造业获得了另一个线索，从戈德拉特的 [*目标*](https://www.amazon.com/The-Goal-Process-Ongoing-Improvement/dp/0884271951) 中复制了小说化技术，以创建一个虚构的案例研究，其中的人物被允许与正在讨论的基本 DevOps 真理进行角力。)

凤凰项目的关键是 DevOps 试图创造一个从开发到生产的平稳且越来越快的变化流*，在这个过程中尽可能减少浪费*。

[![The Goal](../Images/4f336a2bd870f321ede71b11b17d7e34.png)](https://www.amazon.com/The-Goal-Process-Ongoing-Improvement/dp/0884271951) 这里的模型分别是[丰田生产系统(TPS)](https://www.amazon.com/Toyota-Production-System-Beyond-Large-Scale/dp/0915299143) 、[精益制造](https://en.wikipedia.org/wiki/Lean_manufacturing)，以及戈德拉特的[约束理论](https://en.wikipedia.org/wiki/Theory_of_constraints)。

在制造业的世界里，我们有一个实体产品在工厂里移动，或者在正式的装配线上，或者从一个加工步骤到另一个加工步骤，作为[价值流](https://en.wikipedia.org/wiki/Value_stream_mapping)的一部分。这一过程中的每一步都应该为产品“增值”，直到它完成旅程，离开工厂，运往客户手中。

如果你是一名制造工程师，你需要尽一切可能通过识别系统中的约束和消除时间或资源的浪费来创造一个平稳的价值流。

在软件世界中，应用程序工件和*变更*在软件开发和运营价值流中移动，每一步都旨在“增加价值”并将变更投入生产。

如果你是一名开发或运营工程师，你需要尽一切可能使生产流程顺畅。您使用的技术类似于制造工程师——您识别系统中的约束，并着手消除时间和资源的浪费。

## 形是关键

随着丰田的成功，TPS 和精益制造在制造业风靡一时。

因此，许多西方制造工程师非常详细地研究了丰田的系统。他们注意到丰田用来优化制造流程的各种工具和解决方案，并向他们的雇主和客户推荐使用这些工具和解决方案。例如，丰田的看板在制造业得到大力推广，后来又转向软件工程。

有趣的是，制造业也遭受了与 DevOps 世界相同的困惑。当他们试图运用从研究丰田中学到的工具和技术时，事情并没有像预期的那样进行。

[![Toyota Kata](../Images/5c633b139a61e99eb46384c2d788d580.png)](https://www.amazon.com/Toyota-Kata-Managing-Improvement-Adaptiveness/dp/0071635238)《T4[》一书的作者迈克·罗泽尔这样描述制造业的现状:](https://www.amazon.com/Toyota-Kata-Managing-Improvement-Adaptiveness/dp/0071635238)

> 回过头来看，我们很自然地把丰田的可视工具放在了第一位。这就是我们开始的地方——我们进入丰田话题的“门”。这是学习过程中的一步(当然，这也将在本书之后继续)。从那时起，我回到研究实验室——几个工厂——做进一步的实验，并展示我在本书中学到的东西。丰田生产系统的可见元素、工具、技术，甚至原则都经过了多次非常详细的基准测试和描述。但是仅仅复制这些可见的元素似乎行不通。为什么？少了什么？

稍后，罗泽尔继续说道:

> 丰田公司一次又一次地向我们敞开工厂大门，但我想丰田公司的领导们可能也在摇头，心想:“好啊，来看看吧。但是，您为什么对我们为特定问题开发的解决方案如此感兴趣呢？为什么你从不研究我们如何着手开发这些解决方案？”由于未来是我们看不到的，我们今天采用的解决方案可能不再有效。一个组织的竞争优势不在于解决方案本身——无论是精益技术、当今的盈利产品，还是任何其他产品——而在于组织理解条件并创建合适、明智的解决方案的能力。
> 
> 专注于解决方案并不能使一个组织具有适应性。例如，几年前，我的一个朋友参观了日本的一家丰田工厂，发现零件被放在“流动货架”里交给生产线操作人员。只要有可能，不同车型的不同零件配置都放在流动货架上。通过这种方式，操作者可以简单地选择合适的零件，以适应他或她面前通过装配线的特定车辆，这允许混合模式装配，而无需更换货架上的零件。几年来，我们中的许多人一直在模仿这个想法。
> 
> 当我的朋友最近回到同一家工厂时，他发现丰田装配线上的许多流水架都不见了，取而代之的是一种不同的方式。一辆汽车的许多零件现在被放入一个“工具箱”中，随着汽车在装配线上的移动而移动。当车辆在操作员的工作站时，操作员只能看到那些零件，并且她总是到达相同的位置来获取零件。
> 
> 我的朋友有点不高兴，问他的丰田主人:“那么告诉我，什么是正确的方法？流水架和配套哪个好？”丰田公司的主人不明白他的问题，他们的回答是:“几年前你在我们工厂的时候，我们在这条装配线上生产四种不同的车型。今天，我们在同一条生产线上生产八种不同的型号，在流水线上保持所有这些不同的零件变化不再可行。此外，我们努力向一对一的流程靠拢。每当您访问我们时，您只是在查看我们在特定时间点针对特定情况开发的解决方案。”
> 
> 当我们在 20 世纪 80 年代和 90 年代进行基准研究并试图解释丰田和其他汽车公司之间制造绩效差距的原因时，我们在丰田看到了现在熟悉的“精益”技术，如看板、单元制造、短时间转换和灯等等。许多人得出结论——我最初也这样认为——这些新的生产技术和西方工业仍然依赖旧技术的事实是丰田卓越表现的主要原因。

罗泽尔总结道，丰田生产系统和丰田成功的秘诀不是任何一种特定的工具或技术，而是丰田改进形式，它专注于不断改进丰田的一切，寻求建立流程和消除浪费。

丰田形 是一本很棒的书，如果你想了解 DevOps，我鼓励你买一本自己读。[凯文·贝尔](http://www.kevinbehr.com)向我推荐了它，我很高兴地看到[杰兹·亨布尔](https://continuousdelivery.com)在他最近的[QCon devo PS](http://www.infoq.com/presentations/devops-culture-practices-flow)演讲中引用了罗泽尔的故事。

## DevOps 是什么？

那么，在这一切之后，我们还剩下什么？

*什么是 DevOps？*

提示小号喇叭声…

从根本上说，开发运维是优化开发到运营的价值流的活动，通过创建从开发到运营的越来越平滑、快速的应用变更流，几乎没有浪费。使用各种持续改进技术(如丰田 Kata)不断优化价值流。

“就这些吗？!"我听到你哭泣。

对，就是这样。

“不可能！”

方式。

“但是工具和文化呢？！连续交货和詹金斯呢？！自动化呢？相互尊重呢？!"

是的，那些也都在里面。但这些都相当于罗泽尔的“看板、单元制造、短期转换、等等”它们是你可能面临的特殊问题的解决方案。

如果在试图优化你的价值流的过程中，你面临着那些工具和技术解决的问题，那么你可以尝试它们作为解决方案。或者你可能不会，如果你的情况有所不同。

关键是要明白，简单地部署一个工具，甚至是一个宽泛的解决方案，而没有*考虑你的独特情况*和你的价值流的当前状态及其当前约束，是愚蠢的。毕竟，适用于敏捷 web 创业公司的特定解决方案很有可能不适用于大型企业。反之亦然。

## 为什么“企业开发”没有意义

所以，这又让我们回到了起点。

Enterprise DevOps 没有意义，因为它混淆了森林和树木。那些提倡企业开发运维的人犯了一个错误，他们把注意力集中在特定的工具和解决方案上(Jenkins，Kanban，等等)。)，然后发现他们在企业环境中出于各种(非常有效的)原因想要，然后拒绝 DevOps 而支持企业 DevOps，他们认为这在某种程度上是不同的。

但是 DevOps 讲的是流程和持续改进，而不是具体的解决方案。流程和持续改进同样适用于大型企业，就像它们适用于敏捷的 web 初创公司一样。如果你错过了这一点，无论你选择什么样的工具和解决方案，你都会迷失。

要实施 DevOps，您需要学习如何绘制价值流图，识别其中的约束条件，然后使用持续改进表为您特定组织中此时此刻的特定问题开发特定的解决方案。

如果你是一家大型企业，你所面临的问题和约束无疑会与敏捷网络初创企业不同。因此，您必须选择不同的解决方案。

这并不意味着你“不做 DevOps！”

相反，它意味着你正在正确地做 DevOps。

请记住，无论你想出什么方法来解决你的特殊问题和瓶颈，它们都可能是暂时的。正如丰田对罗泽尔的同事所说，解决方案只适用于特定时间点的特定问题。

## 结语:辛辣的讽刺

关于 DevOps 的一些早期工作源于 Andrew Shafer 在 2008 年末提出的一些想法。

在多伦多举行的敏捷 2008 会议上，谢弗提出了一个关于“敏捷基础设施”的专题会议。只有一个人出现了——帕特里克·德博斯。他发现了一个空房间。原来，谢弗跳过了他自己的会议，因为他收到了如此糟糕的反馈，认为没有人感兴趣。Shafer 和 DeBois 后来在敏捷 2008 大会的走廊上讨论了敏捷基础设施和许多后来成为 DevOps 的想法。

Shafer 还在 Velocity 2009 上介绍了敏捷基础设施:

[slide share id = 1637386 & doc = velo 09-agile-INF-090625020850-PHP app 01]

请注意幻灯片 92 至 97。这一序列的要点是:

*   教条糟透了
*   “不要试图追随智者的脚步。寻求他们所寻求的。”这是日本诗人松尾芭蕉的一句话。
*   可说的道不是永恒的道。
*   你是一片特别的雪花，就像其他人一样。

甚至从一开始，谢弗就指出，一套有约束力的规则是自我拆台的。DevOps *不能*编纂成一套规则。因为它比那更大。

请注意松尾芭蕉的名言:

> 不要试图追随智者的脚步。寻找他们所寻找的。

明智的 DevOps 实践者不会因为坚持 DevOps 教条而寻求实现任何给定的工具或技术。相反，他们寻求在价值流中创造平稳、快速的变化流。不要试图使用完全相同的工具或技术来跟随他们的脚步，而是寻找他们寻找的相同的东西，并找到自己的方式到达相同的目的地。

所以，讽刺的是，谢弗、奥斯鲍、哈蒙德和其他人一直警告我们要关注根本问题，而不是他们所采用的具体解决方案。是的，我们可以从他们的经历中学到一些东西，但每个情况都是独特的。

(不幸的是，我没能找到谢弗的 Velocity 2009 演示视频。如果你找到它，让我知道。但是你可以在 InfoQ 上看到谢弗的想法的最新版本，与保罗·纳斯拉特的想法混合在一起。)

## 其他资源

我希望这篇文章有足够的关键演示文稿和资源的链接，但还有一个应该包括在内。如果你对 DevOps 的历史感兴趣，如果你真的想更好地了解它，你应该感兴趣，那么你需要在 YouTube 上查看达蒙·爱德华兹的“DevOps 的(简短)历史:
[YouTube http://www.youtube.com/watch?v=o7-IuYS0iSE]

## 与我联系

你认为我遗漏了什么或者放了太多东西，完全弄错了或者完全搞定了吗？让我知道！通过评论这篇文章并在 [Twitter](https://twitter.com/sandhillstrat) 上关注我来继续对话。

**关于作者**

[![dave-roberts-headshot_400x400](../Images/9c6a081448737d8c4f6b9dcdca2e5505.png) ](https://devops.com/wp-content/uploads/2014/11/dave-roberts-headshot_400x400.png) Dave Roberts 在 BMC Software 担任执行顾问，拥有 25 年的技术经验。作为敏捷 IT 和数字化转型领域的思想领袖，Dave 经常在世界各地的会议上发言。Dave 是 Twitter #clouderati 的成员，并在 BMC.com[和 Leverhawk.com](http://www.bmc.com/blogs)[和](http://leverhawk.com/)开设博客。他拥有九项专利，并写了三本关于计算机编程和数据通信技术的书。