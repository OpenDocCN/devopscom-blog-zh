# 一个团队，5000 份工作:DevOps 丛林生活

> 原文：<https://devops.com/one-team-5000-jobs-life-devops-jungle/>

达米恩有 5000 份工作。虽然你可能会对工作量感到喘不过气来，但达米恩并没有感到压力。所有 5000 个工作都在他的团队的詹金斯流水线中实现了自动化。他是怎么做到的？Damien 遵循四个关键原则在职场中保持冷静:自助、安全、简单和可扩展性。但是你可能会惊讶，他最重要的生存技巧之一是把他的管道当作“不是代码”

![](img/1549f2578ef8cda3697a5ab5880d3423.png)

在最近的[全天 DevOps 会议](http://www.alldaydevops.com/)上，达米恩·科拉波夫([@达米恩·科拉波夫](https://www.twitter.com/DamienCoraboeuf)，[nemerosa.com](http://nemerosa.com/))讨论了他的组织如何走出工作丛林。即使在詹金斯有 5000 个工作岗位，达米恩也有一个六人的小团队来管理它，同时支持世界各地的一大群开发人员。

在会议期间，Damien 展示了詹金斯工作的主干——管道是如何构建的。剧透:这很简单；因此，詹金斯的魔力。然而，事情很快就变得复杂了，所以达米恩分享了他的团队努力实现的四个原则:

*   **自助服务。**他们不希望詹金斯团队成为瓶颈，也不希望仅仅为了运行詹金斯就不得不部署一支军队。
*   **安全。**对于开发团队来说——他们中的许多人从未见过面——安全性和控制是至关重要的。
*   **简单。**开发者可以专注于开发而不是詹金斯。
*   **延展性。**随着他们的成长和能力的构想或实现，他们的系统需要能够适应。

他们实现自助服务、简单性和可扩展性目标的核心是 [Job DSL 插件](https://wiki.jenkins-ci.org/display/JENKINS/Job+DSL+Plugin)。虽然 Jenkins 拥有强大的用户体验，但随着工作的增加，它可能会变得笨重和笨拙。作业 DSL 插件为作业带来了秩序、自动化和一致性。Damien 介绍了插件的基本知识及其好处，并指出它将管道视为代码。

将管道视为代码允许团队通过版本化库重用代码，并轻松管理数千个作业。要求开发人员像管理代码一样管理更多的工作确实有好处，但是让这么多人访问代码也会产生安全风险。因此，Damien 的团队通过使用属性文件描述管道，实际上将管道视为“非代码”。它还允许他们使用管道作为元数据，因此查询和报告几乎是令人愉快的。

![](img/14239cfdc97fa8579a4260c78e516edc.png)

Damien 的团队还利用他们维护的[种子插件](https://github.com/jenkinsci/seed-plugin)，来“帮助自动化管道的生成和管理”，通过将项目锁定到团队来加强安全性，并通过挂钩来提高自动化。

Seed 插件与流行的 Pipeline 插件共享一些功能，后者由一个大型社区维护。然而，管道插件不允许将管道视为“非代码”Damien 的愿景是有一天 Seed 将成为 Pipeline 的延伸。

![](img/1fa94a02f6aab4e62198a9e24b484e7e.png)

Damien 的团队在管理 Jenkins 方面做得非常出色。事实上，他刚刚给我写了一个更新，自 11 月以来，他的公司已经扩大到 7000 个工作岗位，同时仍然遵循同样的原则。如果你想更多地了解他的团队是如何做到的，一定要看他的全天 DevOps 会议(只有 30 分钟)。全天 DevOps 会议的其他 56 个演示文稿可在线免费获取，[点击这里](http://www.sonatype.com/all-day-devops-on-demand?__hstc=31049440.fff56b041308a66b74cf93c40ea2030a.1456347809383.1485535294436.1485539851201.581&__hssc=31049440.3.1485539851201&__hsfp=1394008546)。

— [德里克·威克斯](https://devops.com/author/derek-e-weeks/)