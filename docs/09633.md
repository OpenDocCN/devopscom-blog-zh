# 迈向多重云的三个关键步骤

> 原文：<https://devops.com/three-key-steps-to-going-multi-cloud/>

您是否正在考虑为您的组织制定一项云计算战略？无论是在经济上还是在性能上，正确完成这一系列基本步骤都会产生巨大的影响。例如， [FinOps](https://devops.com/?s=FinOps) 或像 [Archera](https://archera.ai/) 这样的云资源优化解决方案，通常是在一家公司已经开始采用多云方法并做出长期承诺后才会被考虑进来。这些解决方案可以帮助组织避免或进一步陷入有问题的成本和合同。我们建议组织采用三步走的方法来实现云计算。步骤顺序为:  

**云分区策略:** 确定哪些应用、团队和项目去哪里，以及它们将驻留在哪个云中。

**架构:** 为您的云端基础架构绘制蓝图。这规定了应用程序如何在云内和/或跨云运行，特别是 关注 哪些应用程序需要在 云 之间可移植，并且不能使用特定于供应商的服务，如 AWS Lambda。

**付款:** 通常这被称为“合同和 c 建议”阶段 ，但是我们强烈建议推迟对合同的决定，直到您已经创建了一个整体计划，开始推出并预测使用情况，以便您了解每个平台的整体财务要求。

### 第一步:云分区

首先，是云分区。您的云分区选择将对承诺和成本产生重大影响。您需要规划出将在每个提供商上运行的应用程序和流程。这需要决定什么可以锁定在单个云中，什么需要在云之间移植，以及什么应用程序需要完全是多云的。

例如，云分区政策将涵盖您是否将分析和 web 服务放在不同的云提供商处。

这还包括确定你的特别关注领域。例如，如果您希望即使在 AWS 停机的罕见情况下也能确保持续的正常运行时间，那么您可能会在多个云之间的负载平衡上走极端。

如果全球可用性对您的业务至关重要，您应该设置云分区策略来支持这一要求。

不要忽视不同的团队需要使用不同的同类最佳工具的可能性，这些工具可能特定于某个提供商；例如，一个需要 GCP TPU 的人工智能团队。

### 第二步:构建您的多云

高层次的设计和知道什么去哪里是多云实施的重要基础。预测是一门艺术，因为您需要预测不同服务的利用率将如何增长。

希望你能知道它会如何成长。数据科学和 AI 何去何从？生产应用服务于何处？数据仓库在哪里？他们将如何相对于彼此成长？

[架构阶段](https://devops.com/8-skills-cloud-architects-need-to-succeed/)是您确定项目需要与云无关，不需要可移植，因此可以依赖专有 CSP 托管服务的阶段。

总的来说，从长远来看，我们认为对于公司来说，采用灵活且容器化的方法是具有成本优势的 ，这种方法可以与任何 i 基础架构- 即服务提供商一起工作，或者如果使用托管的 服务，则使用通用的 标准 进行构建，例如使用 EKS 进行编排。这不仅确保了厂商通用计算托管解决方案之间的可移植性，还确保了 单个 厂商托管服务 生态系统 内的可移植性，让客户找到最适合应用需求的解决方案。例如，一个容器化的应用程序可以运行在 EC2、Lambda、ECS 和 AWS 中的许多其他选项上。

预测对特定参数起作用，包括 lambdas 的调用、您的计算将需要的数据存储、计算节点的数量和数据库利用率。

### 第三步:财务——合同和账单

在您选择服务和准备合同时，预测仍然很重要。您需要清楚地了解您的 灵活性需求，因为您正在消耗的 基础架构会随着时间发生变化， 无论是现在还是未来三年。接下来是将成本与每个预测相匹配以构建您的云消费预算的流程，

通过研究你的预测和与每一个预测相关的 不确定性的数量，你可以开始优化 提交 承诺 计划 以关注合同的最佳组合，从而覆盖预期的未来使用。

在这个充满挑战的阶段，寻找减轻你将要做出的承诺的风险的方法。一种方法是通过承诺 回购 担保 或利用 AWS 中更具本地灵活性的承诺选项，如计算节省计划，可在任何地区的任何 AWS 计算使用中使用，以换取更低的储蓄率。

通过仔细的预算和核算，你可以避免混乱和浪费时间。确保承诺成本和节省具体归因于正确的应用程序，而不是像花生酱一样分散到所有地方，这通常是默认的(不幸的是)。

最后，当规划应用程序在供应商之间的迁移时，要在三大供应商和其他供应商之间仔细解读。供应商 X 处的虚拟机的性能语义通常意味着与云提供商 Y 处的虚拟机不同的东西，即使它们看起来具有相同的规格。

### 走向多云:真实视角

在真实的多云计算中，服务按秒计费，几乎不可能实现成本、承诺和性能的 100%优化 。对于手动方法，很少有 组织能够接近。一些公司在归属和标记方面做得非常好，但没有准确地比较三大供应商之间的数百或数千个选项，以了解最佳的 策略 。

这可能极具挑战性，了解亚马逊、微软和谷歌的观点很有用。他们首先主要对客户的技术需求做出反应，而通常会推迟满足客户的其他需求(合同、成本、透明度)。例如，他们让虚拟机 加速 运转，却无法降低成本。

您在实现多云方面面临的挑战要大得多，因为您通过设计来应对复杂性，这使得基于 的优化、简化 流程以及尽可能自动化变得不可或缺。优化您的多云自助餐需要您的参与，也需要外部的中立合作伙伴的参与，他们的存在是为了帮助成千上万使用云服务的组织。