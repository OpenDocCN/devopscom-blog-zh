# DevOps:工作流的粘合剂

> 原文：<https://devops.com/devops-glue-workflow/>

DevOps continuum 中最好的工具是粘性包装器，它将所有的东西结合在一起。是工作流将它绑定在一起，使术语“连续”变得有意义首席信息官们经常迷恋于构建或部署工具，但它是每个 DevOps 战略中的工作流工具，封装了一个以上的功能，是真正的英雄。想象一下，拥有完美的测试自动化脚本，但是除了构建新的构建之外，没有办法执行它们。或者想象一下，拥有完美的 CMDB 集成脚本，但是无法在构建过程之外调用它们。或者更糟糕的是，想象一下在部署发生(或被提升)之前需要人工批准，并且没有办法在定制部署流程之外集成它。

## **精益 DevOps 建设** 

试图让很少的工具在没有工作流引擎的情况下执行这些功能，最终会迫使自动化工程师在一个从未被设计来执行的工具中创建功能。相反，当工作流包装可用时，构建和部署过程可以保持小型、优雅和一致，允许工作流引擎将扩展功能集成到连续交付周期中。您创建的自动化构造的大小很重要:越小越好。

在您的 DevOps 服务中使用精益方法，最好将自动化结构分解成它们想要提供的逻辑功能。例如，构建自动化不应该包含打开或关闭监控功能的扩展。构建自动化也不应该担心部署过程；它唯一的主要目的是建造一座新建筑。然后在哪里部署新构建就成了部署过程的唯一目的。试图将应用程序的整个周期自动化为一个端到端的自动化结构(而不是一起工作的较小块)会增加该事件的规模和风险(以及执行时间的长度)。

## **在自动化中与人类打交道** 

人员整合是 DevOps 过程的祸根。每当您必须暂停自动化以获得人工批准时，您就引入了无法预测或无法持续发生的时间延迟。想象一个部署过程，需要人在继续之前按“是”。在午餐、意外的休息日或假期(当其他人害怕承担通过一个不合标准的构建的责任，即使是进一步的测试)时，人类批准的引入可以在工具屏幕上闲置几个小时。部署工具可以整合人类的反应，但这不是他们的强项。他们通常没有能力使用多种联系方式，在需要时向管理链的上层移动，或者在被列为负责人的用户喜欢时 ping 移动设备。工作流工具是所有这些人与人接触的物流的理想选择。

在 DevOps 服务构建期间，利用工作流包装器的挑战是将人工交互保持在外部监管机构所要求的绝对最低限度，同时仍然实现合规性。另一种方法是以如此高的质量和一致性实现流程自动化，这样人工交互就变得多余和不必要了。工作流包装器不是简单地自动化您今天所拥有的人类交互的借口。相反，它是一个功能强大的工具，允许您重新设计更有效的自动化流程，尽可能限制人工交互。目标是构建小型的、独立的自动化结构，它们以高效的方式协同工作。

## **按住** 

通信或通知也可以在工作流包装器中处理，比在单独的 DevOps 工具中好得多。想象一下，我是一个发布经理，想要知道我的新应用程序的进展(或者说进展的障碍)。为了完成这个通知过程，它必须嵌入到我的构建过程中(以知道它是通过还是失败)。另一种方法是，我的工作流包装器检查构建日志，并以我喜欢的方式给我发送通知(电子邮件、文本消息、悬崖上 Thelma 和 Louise 的 Instagram 图片等)。)此外，我可能实际上不想检查每个提交的构建的状态，因为过一会儿那就会变成噪音。我可能只想知道一个构建候选何时通过并准备好升级到下一个测试环境。由于我的工作流包装器知道这一点，它可以很容易地自动通知我。

现在将管理链的考虑添加到这个通知过程中。如果我外出度假(我希望能够这样做，因为 DevOps 使我的个人生活变得更加便利)，如果我的应用程序在我外出期间由于某种原因无法投入生产，我的经理或主管可能希望得到通知。这是大多数构建或部署工具根本没有设计的自动化级别。他们不知道我向谁汇报，那个人向谁汇报。但是部门通知升级链可以很容易地整合到工作流包装器中，并在我离开时按预期执行(包括 ping 我的手机，以防我需要投入工作并解决问题)。

## **发布管理解决方案** 

大多数发布管理(RM)或发布编排(RO)工具都至少内置了最低限度的工作流功能。对于您的组织来说，这种能力是否足够，或者您是否需要一个更强大的工作流引擎来包装它，这是一个只有您才能做出的决定。大多数发布管理工具被设计成在构建自动化和部署自动化周围放置一个优雅的包装器。它通常包含按业务线或产品进行细分的能力，以及针对权限和听觉合规性的基于角色的访问控制(RBAC)。并且它通常至少包含基本的通知功能。RM 擅长的是人际互动和跟踪进展，因此它确实满足了许多公司的需求。

当 RM 不够用时，通常是您提供的 DevOps 服务开始扩展到辅助服务和二级自动化集成功能的时候。示例包括监控系统集成、多种测试工具集成/评估、配置管理数据库(CMDB)集成和按需提供容量的环境。高度发展的通知系统往往需要一个超出 RM 工具所能提供的正常功能的外部工作流包装器。一个可靠的工作流包装器充当粘合剂，可以将不同的 DevOps 工具(来自不同的供应商或执行不同的功能)与它们之上的进一步的超级自动化过程结合在一起，就像一把总括的伞。

## **对底线的冲击** 

选择提供没有任何形式的工作流包装器的 DevOps 服务就像是带着一支优秀的步枪去打猎，却没有子弹:许多功能永远无法发挥其应有的潜力。另一方面，痴迷于在工作流工具中复制当前的流程就像用火箭筒猎杀兔子一样:当试图保持事情小而优雅时，会造成太多的损害。关键是平衡强大工具(工作流)的使用，以及自动化过程和构造中的精益思想。保持构建模块小且面向功能；限制人际交往；并将工作流用于它最适合的功能—连接和通信。

工作流包装器将为您的 DevOps 解决方案增加的技术能力是巨大的。你的服务将会更加高效和强大。然而，要真正评估一个高功能工作流系统的财务影响，必须确定时间和决策的价值。一个优雅的通知系统可以让你随时了解情况，而不会向你发送无数你学会忽略的电子邮件，或者让你的文本收件箱充斥着超出你的蜂窝计划的数据。通过这种方式，通知是有意义的，您可以根据收到的信息开始做出有意义的商业决策，只在您需要查看的时候。这对你和你的组织有什么价值？只有你能真正评估。

要继续对话，请随时[联系我](/cdn-cgi/l/email-protection#49023b203a3d20282767072c253a26270921263d24282025672a2624)。