# 大数据时代的应用监控

> 原文：<https://devops.com/application-monitoring-in-the-age-of-big-data/>

自从 60 年代第一批共享系统上线以来，运营(俗称 ops)就一直是必不可少的。虽然这个职位不一定存在，但同样的问题在当时和现在一样需要答案:

*   它是否已启动并可访问？
*   它是否在合理的时间范围内做出响应？
*   它现在的表现比以前更好还是更差？

在一个简单的系统中，比如一个静态网站，通过请求页面就可以很容易地回答这些问题。当然是以自动化的方式。

然而，当您查看任何“新型”技术基础设施时，您会发现许多许多移动部件。这些范围从边界路由器到 web 服务器，从工作队列到数据库，从数据缓存到大数据集群。有成千上万的计算实例、软件进程、网络存储设备和网络链接可能会出现故障、故障或完全不稳定。这意味着可能会有数百万个地方出现问题。

你如何留意所有这些潜在的问题？你怎么知道他们是否有反应？你怎么知道事情是变好了还是变坏了？

## 一些监测进展

“旧的”方法是编写某种监视脚本，轮询一些您认为能够代表该组件整体健康状况的数据。这些年来，事情变得越来越细了。我们的监控脚本库已经发展壮大，我们甚至用计数器(statsd、librato 等)来装备我们的应用程序。)并提出大数据存储(opentsdb)来容纳所有这些数据点。

问题是，我们比以前更清楚了吗？毫无疑问，我们有更多的数据点。所以我们*必须*更多地了解我们系统的性能，对吗？

事实证明，在实践中，我们只是有大量的数据和许多人试图破译这些数据意味着什么。如果你在运营部门工作过，你会在凌晨 2 点起床，看着带有绿色、黄色和红色图标的状态仪表盘和许多许多图表，努力回答这个问题:发生了什么事？

当然，有些事件很简单:一个实例退役了，或者堪萨斯州某处的光纤线路被切断了。

我说的是那些不那么明确的，可以这么说:

*   网站感觉很慢
*   平均响应时间比昨天增加了 25%
*   与相关时间段相比，使用量每周都在下降

你如何在一大堆数据点、上升/下降状态以及在某些情况下只是简单的噪音中回答这些问题？应用性能管理器(APM)的出现为我们提供了应用框架和浏览器工具。现在，我们可以了解哪些呼叫表现不佳，以及我们的应用对最终用户的“感觉”如何。

这有助于将干草堆分解成更小的干草堆，并提供了一种搜索和排序潜在性能问题的方法。然而，大多数 APM 工具依赖于插装代码，如 Java。并且不能为快速增长的开源框架如 Grails、Akka、网飞 OSS 等提供监控洞察力。我们仍然面临着干草堆问题:到底发生了什么？

当我凌晨 2 点起床，跌跌撞撞地走到电脑前，想知道 PagerDuty 提醒了我什么问题时，我真的不想一页一页地查看图表和上升/下降状态。真正有用的是一个系统，它可以聚合所有这些监控数据流和状态，实际应用一些智能。然后它会告诉我，*“看看这个组件的响应时间，这个指标报告了一些异常情况。这最有可能导致您现在的问题。”*

换句话说，如果有一个系统能够显示问题的症状和根本原因，将会很有帮助。该系统还将提供有关我的基础架构的高质量、高价值的信息，并将异常检测与根本原因分析相结合，以提供真正的根本原因检测。

一家新的创业公司 [OpsClarity](http://www.opsclarity.com/) 希望通过将数据科学和异常检测与根本原因分析结合起来，使故障排除更加准确和高效。

也许这是一个期待已久的下一个监控时代的开始。

## 关于作者/迈克尔·霍布斯

迈克尔·霍布斯是旧金山创业工作室 Expa 的技术运营总监。在构建、操作和自动化高度可扩展的应用基础设施方面的丰富经验使他能够为 Infusionsoft 和 Stumbleupon 等公司的成功做出贡献。Michael 继续在 Expa 工作，为下一代互联网公司提供建议和帮助。Michael 也是许多开源项目的重要贡献者，包括 dokku 和 herokuish。