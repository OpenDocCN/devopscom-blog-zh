# 为什么 DevOps 需要强制休假

> 原文：<https://devops.com/why-devops-needs-mandatory-vacations/>

"如果一个团队没有时间进行回顾，你应该举行两次."

现在是周五下午 5:00，您刚刚关闭计算机开始周末。Slack 中会弹出一条消息:

“祝贺你，你被选中下周休假！我们将切断所有与工作相关的系统，并取消你这一周的证书。下周一见。”

刚刚发生了什么？

在 DevOps 时代，有一种古老的安全惯例值得复兴:强制休假。在今天的实践中，这看起来更像是在员工已经计划好休假的时候切断他们的联系，而不是强迫他们自发休假。

但是目标是一样的:快速评估瓶颈、关键依赖和安全漏洞。附带利益？你的员工[去度假的时候实际上完全断开](https://devops.com/?s=employee+engagement)！

## DevOps 的双刃剑

DevOps 实践增加了团队的端到端所有权、责任和自主权。团队成员修改代码、部署基础设施和处理运营职责——有时都在同一天完成。将开发团队和运营团队更紧密地联系在一起，可以缩短交付时间，加快部署，并提高软件质量。

但是模糊开发和运营之间的界限需要广泛的访问和权限。当团队中的每个人都可以访问所有内容时，就没有强制功能来阻止对个人或共享帐户的依赖。这种访问权限激增的原因是缺乏明确的指示，即哪些凭证、帐户或权限授权了每项责任。关键任务可能依赖于单个人的帐户。凭据可以共享，并且永不轮换。

例如，部署可能依赖于服务帐户或 bot，每个人都有一个 API 令牌的副本。Admin 或 sudo 权限可以根据具体情况授予个人，而不是基于角色的访问控制或组管理。结果是:角色、权限和依赖关系的混乱泥潭。

## 审查和补救

对所有帐户和权限的明确审查是一项繁重的、类似审计的工作。虽然这可能是必要的，特别是在受监管的环境中，但它并不符合推动开发的敏捷、迭代、自动化和及时的原则。

强制性休假提供了一种选择。这是一个简单的概念:当团队成员去度假时，切断他们的访问。

根据您的设置，您可能会利用这段时间来禁用帐户、撤销权限、轮换凭据、从组中删除它们，甚至归档生产中遗留的任何主目录。

危险在于让日常运营依赖于个人账户。从安全角度来看，个人账户更有可能被心怀不满的内部人员泄露或滥用。它们是进入您的部署和生产系统的自动后门。从可靠性和运营的角度来看，对个人帐户的依赖意味着个人帐户的更改(如员工离职或失去访问权限)可能会导致不可预见的中断。当你把改变作为强制休假的一部分来控制时，你就为可能导致事情破裂的改变做好了准备，并能很快追溯到根本原因。没有什么比破坏构建来强制清理技术债务更好的了！这种技术债务可能包括留在主文件夹中或由单个用户拥有的关键夜间 cron 作业、隐藏在构建秘密中的个人凭据或假设个人身份或角色的操作实践。

此外，强制性休假还有助于确保你的入职实践保持最新和稳健。当你的休息良好的同事回来后重新调配资源时，你不得不承认哪些[特权](https://securityboulevard.com/?s=least-privilege)和权限是真正必要的。根据团队的成长和成熟度，这可能意味着创建记录良好的实践或实现完全的用户管理自动化。

最后，这提供了一个推广关键安全原则的机会。您是否在可能的情况下实施了最低权限，为用户提供了完成工作所需的最低级别的权限？您是否在密码管理器中授予对共享文件夹的访问权限？如果是，当您的同事“离开”公司时，您是否轮换了存储的凭据，不管是多短暂？这可能提供了一个很好的例子，说明为什么是时候实现多方授权(MPA)了，以防这样的差距持续存在，即使在几次强制休假之后。

强制性休假为访问扩散提供了一个“测试框架”。频繁地重复困难的敏捷实践有助于通过更频繁地重复来简化过程。如果你的团队没有时间进行回顾，你应该举行两次。每次同事外出度假时测试您的访问管理实践提供了一种自然、简单的节奏，以确保您的实践保持最新，而不必在违规或团队成员永久离开后手忙脚乱。

## 为了大家好，去度假吧

你可能认为你没有时间处理随机强制休假的后果。但是想象一下，在现场事故中发现一个阻塞点有多困难！如果您没有时间测试外部和内部帐户，这意味着您的访问管理实践已经过时，定义不完善，因此在快速响应场景中需要它们时不可用。笔记本电脑和账户都会受到威胁。员工可能会因为不可预见的原因离职或加入。

所以，请休息一周…为了你，也为了我们。