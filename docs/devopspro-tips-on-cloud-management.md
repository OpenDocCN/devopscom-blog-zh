# DevOps Pro 关于云管理的提示

> 原文：<https://devops.com/devopspro-tips-on-cloud-management/>

在这次 DevOps 聊天中，我们邀请到了来自 [Park My Cloud](https://www.parkmycloud.com/) 的 Andy Richman 和来自 [Cloud Health Technologies](https://www.cloudhealthtech.com/) 的 Samir Mehra。无论是在 AWS、Azure、谷歌还是其他任何地方，这两位云专家都会就如何最好、最有效地管理云基础设施给出合理的建议。如果您对优化您的云部署和总体云管理感兴趣(谁不感兴趣？)，那就来听一听。

像往常一样，下面是我们对话的音频流，然后是我们对话的文字记录，这样你就可以跟着读了。尽情享受吧！

顺便说一句，我们已经录制了另外两个播客。你可以在这里听他们的[，在这里](https://devops.com/devops-chat-parkmycloud-saves-wolfpack-app/)听他们的[。](https://devops.com/devops-chat-cloud-sprawl-devops-park-cloud-w-jay-chapel/)

[https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/384448100&color=%23b8dccc&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true](https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/384448100&color=%23b8dccc&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true)

艾伦·希梅尔:大家好，我是 DevOps.com 的艾伦·希梅尔，您正在收听的是 DevOps Chat 的另一期节目。我们今天有一个很棒的聊天。我们将稍微讨论一下管理您的云基础架构、成本，以及您对您的云基础架构真正了解多少或有多少洞察力。

今天我们邀请了两位伟大的客人加入我们并为我们提供帮助。首先，我有安迪·里奇曼。Andy 与 ParkMyCloud 在一起，Andy，欢迎加入 DevOps Chat。

安迪·里奇曼:谢谢你，艾伦。期待这个。

好的，你知道吗，Andy，在我们介绍 Samir 之前，对于不熟悉 ParkMyCloud 的人，你为什么不给我们介绍一下你的角色背景呢？

当然可以。所以，我是 ParkMyCloud 的产品经理，我考虑所有的自动化和在云中省钱的事情。我们描述的方式是成本优化。我们在 2015 年 9 月成立了这家公司，到现在已经有几年时间了，我们与各种类型的公司合作，从大型财富 500 强公司，一直到诞生在云环境中的小型初创公司，我们都在帮助所有这些人有效地管理他们的基础架构，并从中获得最大的回报。

**希梅尔:**优秀。好的，我们马上回来，安迪，但首先让我们介绍一下萨米尔·梅拉——我搞砸了，萨米尔，我道歉。你为什么不纠正我？

萨米尔·梅赫拉:是萨米尔·梅赫拉。

哦，那我还不算太差。Samir，为什么不告诉我们你的公司和背景

是的，我是云健康科技公司的产品管理总监。CloudHealth Technologies 是一个 SaaS 平台，它提供了对所有云环境的可见性，因此客户可以真正了解需要优化的领域，包括成本、使用、配置、安全性和性能。此外，我们还有一些方法，您可以使用我们的策略引擎自动修复其中的一些优化。

**Shimel:** 明白了。安迪，萨米尔——不要把它归结为美元和美分，而是让我们把它归结为美元和美分。成本是公司在管理云基础架构时考虑的最大因素吗？我的意思是，你们为使用云的组织做相似但不同的任务。你有什么看法？成本是第一优先考虑的吗？安迪，我们先和你一起去。

当然可以。因此，这取决于您在公司云发展中所处的位置。因此，如果您正在从本地数据中心类型的操作迁移到云中，那么不，可能不是这样。您正在考虑迁移，转移工作负载，您知道，在云中获得性能。

一旦你在云中，你知道，很明显，你会寻求优化性能，你知道，你可能会寻求扩大你在那里做的事情。同样，成本也在上升，但可能不是第一或第二。但是一旦你已经在云中呆了几年，你知道，月复一月，你会看到那些云账单在攀升，然后通常，是的，它开始得到很多关注。而且，对于我们合作的大多数公司来说，它们都处于不同的阶段，但可能大多数都非常专注，并且可能是公司的前三名、前五名。

**希梅尔:**优秀。萨米尔，你呢？

因此，我用不同的方式看待它。这取决于你是什么类型的公司。如果你出生在云公司，你应该知道云应该如何管理。我认为成本不是重要的事情，重要的是你希望执行事情的效率，以及你希望生产基础设施或测试开发基础设施的速度。实际上，我认为这些公司非常善于管理他们的一些成本，并确保他们的成本得到优化，因为他们只处理 opex。

但是，当谈到企业公司时，我觉得他们中的一些人，即使他们已经迁移到云，他们仍然认为云是资本支出。他们通常会在不需要过度调配的时候过度调配。你知道，成本对他们来说也是次要的，但他们在所谓的云蔓延方面有太多的额外支出，他们真的需要有人来帮助他们实现这一点，并为他们提供优化成本的方法。

是的。所以，你知道，我总是喜欢说，成本几乎是其他东西的症状，虽然，对不对？尤其是当我们谈论云的时候，伙计们。你知道，成本是相对固定的。你可以在价格图表上查找，你知道，什么是千兆存储，多少 CPU 时间成本或你有什么。

我认为，当我们谈论云成本之类的东西时，实际上，根本问题是控制问题。我们真的了解我们在使用什么以及如何使用它吗？而且，因为我们不这样做，它转化成了我们可能不理解或不期望甚至不知道到底发生了什么的成本。但实际上，根本的问题是控制和更多的管理。

你们两个组织都在其中扮演了一定的角色。你为什么不——不是为了制造麻烦，拖着不走，但是你能给我一个对比吗，Samir，比方说，你的公司做的和 Andy 和 ParkMyCloud 的人做的对比？

**Mehra:** 首先，从我们看到的客户支出来看，IAS 和虚拟机或 EC2 实例仍然是最大的支出。人们还没有真正过渡到很多 TAS 的服务，尽管 TAS 的服务肯定在增加。

我们的做法是，你知道，为了帮助防止云蔓延，我们有一个策略引擎，你可以设置一个策略，告诉你是否启动了比你希望个人设置的成本更高的实例。因此，如果他们开始运行一个非常大的实例，您可以收到警报，您可以实际设置一个策略来关闭该实例，甚至在它开始运行之前。另一件事是，你知道，我们防止蔓延的方法也是，我们给你—我们再次使用策略引擎，告诉你，“你知道吗？有人编造了一个实例，“然后让他们给这些实例贴上标签。所以，没有办法知道是谁实际上创建了这个实例，如果你不知道是谁创建的，你现在可以去问他们，“你为什么要创建它，这个实例的目的是什么？”如果这是一个昂贵的例子。

因此，我们无疑非常依赖我们的策略引擎，依赖于确保我们实施了这些治理策略，以帮助从一开始就防止云蔓延。

**希梅尔:**优秀。安迪，你怎么看？

是的，当然，所以我们在这个问题上确实有一点不同的观点。因此，正如 Samir 所说，当云账单在月底下降时，通常大约 70%的账单会花在计算上。如果您真正观察该计算机，您会很快发现，其中大约一半用于生产系统，这些通常需要全天候运行，但另一半是您的开发、测试、QA 和数据分析类型的环境。至少有可能在不使用这些实例时将其关闭，我们确实专注于这一半的基础架构。

因此，我们所做的是，为开发人员、IT 运营人员、工程师提供一种更简单的方法来关闭这些实例。所以，一周有 168 个小时，如果你不知道，那就是一个月 730 个小时。即使你的团队一周工作 60 个小时，这是一个非常努力的团队，这仍然意味着你可以通过关闭不用的东西来节省 65%。

因此，我们真正关注的是自动化部分。因此，为了确保当东西没有被使用并且没有增加价值时，它们只是被简单地关闭。我们有半相似类型的策略引擎来实现这一点，但它能够有效地创建一个简单的时间表，并将其应用于您的各个不同的团队，从而很快节省大量成本。

**Shimel:** 明白了。因此，在 DevOps 中，我们非常了解自动化，对吗？这是 DevOps 的关键。所以，关掉、关闭、关闭未使用的实例、未使用的资源的想法——我的意思是，这是一件很容易的事，你会这样想，对吗？

但是为什么你认为更多的人或更多的组织没有做那种事情呢？安迪，如果你愿意，你先来吧？

哦，当然可以。我的意思是，他们中的一些人正在这样做，他们在写剧本，但他们往往不会以一种特别系统的方式来做。当你真正与人们交谈时——我花了相当多的时间与我们的客户交谈——很多是因为，你知道，他们不想从团队那里夺走控制权，你知道，交付代码，为公司交付价值。通常，他们不了解这些不同的实例、虚拟机是如何被利用的。这确实需要团队本身的认同。

因此，我们在做得好的公司中看到的是，他们创造了许多买入。人们很快意识到的一件事是，通常这不仅仅是将成本剥离并花在企业的其他地方，这只是关于效率，钱通常会被回收到其他 R&D 项目，你知道，其他人们想做的事情。

所以，我认为越进步的组织越明白。我认为他们能够用像我们这样的工具做的是以一种可扩展的方式来做。所以，你有多个团队，许多个人，许多不同的工作负载。我们给他们一个非常快速简单的方法。这给他们的一周增加了几分钟的工作时间，他们可以适当地安排时间并从中获益。

另一件很棒的事情是可见性。这可能是萨米尔可以多谈一点的事情。一旦你开始回馈 DevOps 团队，你知道，他们获得的节约的实际可见性，这就变成了一种自我实现的预言或一种闭环。他们看到他们得到的节约，他们做更多；他们看到更多的储蓄，他们做得更多——这是一种积极的肯定。

是的，实际上，我们——抱歉，继续，艾伦。

不，不。我想说，萨米尔，你呢？*【笑声】*对不起。

不，那很好。因此，我们已经看到，我们使用我们的产品，我们在 CloudHealth 的 DevOps 工程师也使用 CloudHealth 来管理我们在 SaaS 环境中用于生产的 AWS 环境。我们的 DevOps 工程师肯定不是财务人员，但正如安迪所说，当他看到这些成本节约时，他的眼睛确实亮了。他说，“如果我能正确调整这些未被充分利用的实例，我真的可以节省这么多钱。”他会在周末，或者在我们可以的时候，做一些适当规模的实例来降低我们的成本。

因此，我们实际上使用我们的平台自己来做，我们的 DevOp 工程师正在使用它。我们确实有很多客户在做类似的事情，这不仅仅是对特定实例进行正确的规模调整。你也可以从自动缩放组的角度来看。你知道，你想正确调整自动缩放组或下一个自动缩放组的大小。您希望它的规模合适，因为这样可以节省成本。

Alan，有趣的一点是，人们经常会向你报出他们基础设施的成本，或者说，“这是一个现在 25 美分或现在 50 美分的例子”之类的话。他们没有做的是心算——好吧，好吧，这在一个月后意味着什么？因此，每小时 50 美分的实例实际上是每月 365 美元。如果您可以节省其中的 50%、60 %,这将是一笔可观的资金，尤其是对于拥有数十、数百甚至数千个实例的客户而言。

是的，我完全同意。我认为，一旦你把一个 50 美分的例子乘以 100 和 200，你就会发现你可以节省大量的成本。

**希梅尔:**优秀。很好。伙计们，我想当我们来到这里的时候我已经跟你们说过了，时间过得很快，我们只有时间再回答一两个问题，我想集中在几件事情上。显然，查看您公司的两项服务是开始这项工作的一个很好的方式，可以了解您在云中拥有什么。但是如果你必须给出，比方说，我们的听众应该做的前三件事，不仅仅是签约——和你的公司签约是显而易见的。但是你们两个之间最重要的三件事是什么？

萨米尔，你想先来，还是…

是的，我想说的是，确保你能看到你的支出，这样你就能确保你没有把钱花在不必要的地方。

**希梅尔:**优秀。

因此，成本可见性是肯定的。

安迪，你呢？

**Richman:** 是的，所以对我们来说，这真的是——你知道，关注潜在储蓄最大的地方。根据我们的经验，这是在您的非生产工作负载中。因此，当我们关注这一点，然后开始寻找时，你知道，与你的 QA 团队、开发团队、运行分析工作负载的人员交谈，并真正了解这些实例每周真正需要运行多少小时。我的意思是，即使你很保守，只在晚上很小的时候才关机，节省的钱也会很快增加。然后，真正开始系统地做这件事，一个团队一个团队地做，而不仅仅是临时的努力。

**Mehra:** 是的，我还可以添加第三个，也就是说，您也可以在您的生产基础架构上进行，有两种方法可以真正做到这一点。一个是，您知道，适当调整您的生产基础架构，您可以在停机时进行调整，但也要考虑预留，因为与按需运行相比，预留可以节省大量成本。

是的，绝对是。我的意思是，我们最近添加到平台中的一项内容是引入利用率数据，我们将在接下来的几个月中添加更多内容。所以，你知道，看看你的 CPU，你的网络，你的磁盘使用，并真正利用这些来推动这些变化。

我们最近推出了这种简单的热图，人们可以进来，看看平台，看看他们的实例实际被使用的时间。除了询问人们何时使用，何时使用什么，您还可以实际看到实际使用情况，圣诞节后，我们将以类似的方式，使用类似的指标，进入正确的规模调整空间。

因此，肯定有很多工具可以帮助你以更明智的方式做到这一点。

是的。同意。伙计们，我们快没时间了。Samir，Andy——非常感谢你们成为我们本期 DevOps Chat 的嘉宾。你知道我没意识到什么吗——安迪，对于那些想了解更多关于 ParkMyCloud 的信息的人来说，它是 ParkMyCloud.com 吗？

是的，那是 ParkMyCloud.com。

是的，萨米尔，你公司的网址？

梅拉:对，是 www.CloudHealthTech.com。

**Shimel:** 所以，那就是云健康甲板，D-E-C-K。

美赫拉:T-E-C-H。

希梅尔:好的。明白了。好吧，T-E-C-H。我们也会把它放在节目笔记里，以防有人不清楚。

安迪，萨米尔，感谢你们成为我们的客人。我是 DevOps.com 的艾伦·希梅尔，我们很快会在另一期 DevOps 聊天节目中再见，各位。感谢您的倾听。祝你愉快。

— [Alan Shimel](https://devops.com/author/ashimmy/)