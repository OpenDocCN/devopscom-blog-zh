# FLAP，第 3 部分:完整的数据中心供应

> 原文:[https://devo PS . com/flap-part-3-full-data center-provisioning/](https://devops.com/flap-part-3-full-datacenter-provisioning/)

在本系列的前两部分([第 1 部分](https://devops.com/2016/04/05/flap-part-1-server-provisioning/)、[第 2 部分](https://devops.com/2016/04/07/flap-part-2-application-provisioning/))中，我们介绍了服务器供应和应用程序供应。了解这些工具中的每一个都是有用的(尽管一篇博客很难全面评估优势和劣势，我强烈建议您做更多的研究)，了解它们如何协同工作是全层自动配置(FLAP)的要点。将其中一个自动化会有所帮助，但是将两个都自动化——并集成自动化——会将我们带到“哦，工程需要一个新的测试环境，而且必须是内部的……”的水平，只需按一下按钮，就可以实现。这应该是您的组织的长期最终目标，因此员工可以腾出时间来处理困扰任何给定 IT 组织的许多其他问题。

问题是，这些工具以更好和更坏的方式结合在一起。有些被设计成像一个产品一样一起工作；有些需要做一些工作，但一旦连接起来，组合就会增加价值；有些组合很难组合在一起，几乎不值得努力。

您将注意到的一件事是对组合解决方案的操作系统支持的反复讨论。我们在这里提出这个问题的原因很简单:这些组合的局限性是复合的，尽管我们的字数有限，而且已经在产品报道中提到过。也就是说，如果服务器供应工具不支持 Windows，那么无论应用供应工具做什么，整个解决方案都不支持。这两种方式都适用，并且是大多数商店的重要考虑因素，所以我们在这里提到它。

## 专为组装而打造的工具

首先，我们将采取简单的。这些组合被设计成一起工作，并且做得很好。它们的成熟度各不相同，但除此之外，如果它们适合您的环境，则是不错的选择。

### 剃刀和木偶

这是简单的一个。Razor 是作为 Puppet 的服务器供应部分而构建的。虽然解决方案集相对较新，并且在安装阶段就显示出来了(在 Razor 安装之前和之后都有几个手动配置步骤)，但是它正在迅速成熟，两个开发团队合作得非常紧密。这是仅有的两个对所有配置使用单一 UI 的解决方案集之一，在本例中是 Puppet UI。对操作系统的支持是广泛的，包括所有版本的 Linux 和 Windows。(懂了吗？要启动吗？)如果您的数据中心是高度异构的，或者您已经是一个傀儡商店，那么这种组合值得仔细研究。你只需要记住，它正在快速改善，所以那些你不喜欢的事情可能很快就会改变。

### 卫星+木偶+工头

从 6.0 版本开始，Satellite 是一个工具集合，其中包括 Puppet 和 Foreman。这意味着 Red Hat 在确保这两种工具很好地协同工作方面有既得利益。他们看起来确实如此。虽然操作系统支持仅限于 Red Hat 操作系统，但该解决方案非常可靠，就像 Razor 和 Puppet 一样，自从切换到这个新平台以来，它一直在快速改进。UI 独立于底层的工具，这是另一个为所有安装活动提供“单一窗口”的解决方案。如前所述，Red Hat 的一个问题是，底层系统的功能只有在与 Satellite 一起使用时才受支持。如何适应你的组织的计划取决于你。

## 亲密到可以成为第二代表亲

有一些组合，虽然没有正式的相互依赖，但有着长期的相互支持的历史，因此使它们成为强有力的组合。这些工具都有简单明了的指示，可以让它们一起工作，而且这些指示通常都很有效。配对后，它们可以以相对集成的方式管理完整的自动化。

注意，这些组合甚至没有一点排他性。他们是项目团队认为很有意义的组合，并且已经脱离了亲密关系。这些解决方案集的两端都可以与其他工具进行互操作(参见下一节)。

### Ansible +补鞋匠

Ansible 和 Cobbler 都可以追溯到 Red Hat，他们共享一些员工/团队成员——并且已经有很长时间了。这使得两者紧密结合在一起变得很自然。在 Ansible 开始讨论所有其他服务器供应工具之前，它已经有了 Cobbler 集成。

正如人们所期望的，有 Ansible 设置，Cobbler 设置，然后是集成。但是一旦结合起来，Cobbler 可以做裸机，Ansible 可以做云，他们一起提供了一个全栈解决方案。因为两者都支持大多数操作系统，所以最终的解决方案也支持。

### Juju + MaaS

Juju 和 MaaS 已经互操作了很长时间。两者都是 Canonical 的项目，所以它们的互操作性继续存在也就不足为奇了。几年前，这位作者把它们放在一起使用，这……很困难。但那是几年前的事了，就在去年，两个项目都在文档和易用性方面取得了长足的进步。像这个类别中的大多数解决方案一样，有单独的安装和集成配置。由于两者都支持大量操作系统，因此该解决方案也可以管理整个数据中心。

他们传统的家，也是你短期内最有可能和他们相处愉快的家，是 Ubuntu 商店。但是它们确实支持大多数平台，所以即使对于非 Ubuntu 商店来说，花时间研究它们也是值得的。

## 大家庭和混合家庭

还有一些公司没有建立稳固的一对一关系，有些是因为他们正在打造一条独立的道路，有些是因为他们希望与所有人进行互操作。请注意，上面的一些系统符合这一类别——Puppet 与大多数服务器供应工具集成在一起——但是由于篇幅原因，我们在这里不再赘述这些产品。此列表包含上面没有提到的应用程序供应和服务器供应工具。

### 厨师

Chef 将大部分精力放在了云和虚拟化上，这一趋势的显著例外是 AIX，它支持服务器供应。“它的焦点的大部分”不是绝对的，虽然，这是故意的。Chef 在年度会议上让演示者谈论将其与服务器供应工具一起使用，因此它并非不知道集成解决方案领域，只是这不是他们的关注点。

### 盐堆

盐剧组很乐意支持大家。虽然他们没有大声谈论他们与谁集成，但该产品正在与大多数主要的服务器供应工具一起使用。正如在本系列第二部分的 SaltStack 文章中提到的，云集成也非常广泛，这使得 Salt 可能是关于完全数据中心自动化的最通用的应用程序供应工具。

### 大量

Stacki 最初是为了与 SaltStack 互操作而构建的，现在已经支持大多数可用的应用程序供应工具。Stacki 的问题是，有些在开源层得到示例集成和视频教程的支持，而有些则需要 Stacki 核心工程师的许可和参与才能获得支持。因此，有一个视频显示 Ansible 和开源 Stacki 一起工作，谈论集成，但这需要付费许可和谈判，以获得 SaltStack 或 Stacki 的厨师。由于 Stacki 的设计方式，它可能是所有这些产品中最容易集成的——只需添加适当的“托盘”,并告诉 Stacki 将其包括在安装中。获取正确的托盘需要获得某些平台的许可。

## 结论

由于任何允许用户定制安装的服务器供应工具都可以将给定应用供应工具的代理作为给定安装的最后一步，因此这些概述至少有点武断。确切地说，它们在给定的配置中更容易使用，但是所有的应用程序配置工具都可以强制与列出的任何服务器配置工具进行互操作。

本系列的目的实际上是帮助那些寻求全面数据中心自动化的人快速了解市场上的可用产品，以及一些 1200 字的博客将允许的尽可能多的信息，以帮助将列表缩短到与您的组织相关的内容。它绝不是完整的，每个产品都有问题和顾虑，只有进一步的研究才能揭示出来，所以不要就此打住。