# DevOps 和容器

> 原文:[https://devops.com/devops-and-containers/](https://devops.com/devops-and-containers/)

“在我的机器上工作！”

我们都有过这样的同事。我几乎在所有工作过的公司都有一个。在几份工作中，这变成了一个笑话。

有一种观点认为容器缓解了这个问题。他们可能——或者他们可能只是掩盖问题。选择权在自己。

不可避免的是，在一台机器上有效而在另一台机器上无效的东西可以追溯到动态配置更改。如果“我们使用容器进行开发”意味着开发人员可以完全控制容器环境，那么这也意味着任何配置更改都必须被编码到一个文档化的容器映像中，该映像可以重复运行，如果需要，甚至可以在一个 [Dockerfile](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=&ved=2ahUKEwjXivmZtLf2AhVcSjABHeSPCnoQFnoECBEQAQ&url=https%3A%2F%2Fdocs.docker.com%2Fengine%2Freference%2Fbuilder%2F&usg=AOvVaw38unpVI_-IPb1xDbYUr5jD) 中重新创建。

相反，如果这意味着开发人员在[容器](https://containerjournal.com)中有一个游戏场，一旦他们让它运行起来，他们就可以将其投入生产——即使你没有直截了当地说出来——那么你是在让容器的事情变得更糟，而不是更好。至少在“在我的机器上工作”的时代，这些问题必须得到解决，因为你唯一一次听到这个短语是如果某个东西在机器上不工作，它需要被部署到！

作为一名开发人员，在容器和虚拟环境中，很容易在没有文档记录的情况下升级一个包或调整一个设置。但是一个干净的 DevOps 环境需要能够从 docker 文件构建产品，而不是从预先存在的映像构建。是的，你*可以*只克隆现有的镜像，但是没有[文档记录](https://devops.com/?s=documentation)实际上已经被改变了什么，这对于那些跟踪你并调试未来问题的人来说需要做更多的工作。

所以抓紧时间；保持一个最新的 docker 文件(或任何用于构建容器的等效脚本)。停下来一分钟，打开一个文件，输入几行文字，这并不是什么重大的投资。如果在未来，有人试图弄清楚那里到底发生了什么，这绝对是值得的。请将其视为自文档化的配置。我不喜欢“自文档化代码”，但是对于 config，如果你说“哦，我们需要 10.2 版，不是 10.1 版；让我更新初始化脚本。”

有相当多的商店在修改生产中运行的东西，世界还没有结束——尽管这很可能是如何发生的。因此，帮助那些试图跟随你的人的良好实践显然不是必要的。但是一年后我们每个人都回去说，“为什么我们要这样做？”然后回答说，“哦，这就是环境是如何配置的。”但它可能有助于回答“为什么”。

您的应用正在为世界提供动力，或者您的特定应用正在为您的一小部分提供动力。你踢它只是让他们跑。现在，去做得更好！整合变更，通过 Dockerfiles、Ansible、init-scripts、您使用的任何组合来管理配置……并保持摇摆。