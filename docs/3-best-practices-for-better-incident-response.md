# 更好的事件响应的 3 个最佳实践

> 原文：<https://devops.com/3-best-practices-for-better-incident-response/>

只需要一两次引人注目的大规模互联网中断，就能让人们明白让应用程序一直保持运行的财务和品牌激励。这就是为什么在当今的 DevOps 组织中，事件响应是一个常见的话题。

DevOps 社区中有很多关于有效事件响应的组织流程和设计的讨论，例如[事件指挥](https://en.wikipedia.org/wiki/Incident_Command_System)模型，正如我们在[fast ly 的朋友在本次演讲](https://vimeo.com/212302238)中所讨论的。我们还经常讨论事件响应的技术和工具，涉及监控、警报、日志记录、缓解和许多其他重点领域。在 NS1，我们利用事故指挥模型，并投资了一系列常用的事故响应技术，同时开发了许多我们自己的技术。

即使在投入大量时间考虑如何响应事件以及他们为相关技术分配的预算后，当真正的事件发生时，组织仍有可能无法有效响应。作为为许多大型互联网企业提供关键任务 DNS 和流量管理服务的提供商，我们知道没有失败的余地。我们了解到，通过三种简单的实践来增强我们的流程和技术，会在现实世界的事件响应情况中产生巨大的差异。

# **好的清单的价值**

当涉及到有效的事件响应时，一份好的清单是我最喜欢的工具。清单是一种简单、简明、易于理解的工具，用于帮助操作员回忆在特定情况下需要采取的关键步骤。在紧张的事故响应场景中，操作员很容易跳过或忘记响应中的步骤。清单的工作不是过分的规定，而是帮助一个熟悉他们正在操作的系统的有经验的专业人员在高压情况下最好地利用他们的知识。

我真正开始欣赏的清单与开发运维或网络系统运营没有任何关系。这是塞斯纳 172 飞机在飞行中发动机故障的应急程序:

![](img/bdd433a242bdf468daf0096cdb9fdd94.png)

在他的书《清单宣言》中，Atul Gawande 深入讨论了这份清单。这个例子展示了一个好的清单背后的一些关键原则:它简单而简短，不过分具体或规定；它仅限于事故缓解期间操作员需要回忆的最重要的行动；而且，由于其简单明了，它有助于操作员平静地执行这些关键行动。

这份塞斯纳清单为当今 IT 基础设施的运营商提供了另一个很好的教训。正如 Gawande 所写，“因为飞行员有时会变得如此绝望地试图重新启动他们的引擎，如此被思考可能会出什么问题的认知超载所压垮，他们忘记了最基本的任务:驾驶飞机。”在 IT 运营中，情况也是如此-我们有时会因为根本原因分析和想要知道*为什么*某个事件发生而分心，以至于我们忘记首先关注缓解措施-一旦事件得到解决，分析可以在以后进行。

# **跑步训练**

有可能有经过严格审查的清单、伟大的工具和技术以及最好的组织模式，但是如果人们不习惯使用它们，它们都可能在恐慌中被遗忘。那么，我们如何在现实生活中很好地运用它们呢？通过实践。

任何事故响应策略都需要包含消防演习，因为它们确保我们在模拟场景中定期练习我们的流程、工具和清单，模拟真实世界的事故响应情况。有许多方法可以创建与网络系统相关的防火练习。我们在技术运营社区中经常讨论的一个工具是由网飞创建的名为[混沌猴](https://github.com/Netflix/chaosmonkey)的工具，它是一个已经成为新兴学科的软件体现:混沌工程。这是一种通过创建故障情况来提高分布式系统弹性的方法，例如，通过随机“破坏”分布式应用程序中的虚拟服务器来强制故障处理系统参与。这是一种驱动弹性架构的“自动化”消防演习。

模拟 DDoS 攻击情况的“战争游戏”是我们受益的另一个演练。我们构建与老练的攻击者所使用的工具相似的工具，并通过攻击生产系统来定期练习我们的 DDoS 缓解响应。在这种消防演习中，我们将团队分为攻击者和防御者(类似于信息安全组织用于渗透测试的红/蓝团队方法)。我们已经知道，运行好的 DDoS 战争游戏需要我们用真实的攻击技术来攻击真实的系统，这有助于我们理解我们的分布式系统的动态，并围绕响应真实事件所需的关键步骤在我们的团队中建立肌肉记忆。我们还发现，像这样的消防演习是团队建设的好工具；他们几乎就像在漫长的练习课结束时跑橄榄球或足球混战，帮助团队中的每个人了解他们如何才能最好地做出贡献，以及他们在现实世界的事件中应该扮演什么样的“位置”。

# **事后分析**

事后分析或追溯分析是推动有效事件响应的最终实践。在任何真实或模拟的事件发生后，对事件和响应进行彻底的回顾是至关重要的。询问并仔细回答一些关于事件应对的简单问题是关键:发生了什么，为什么？在我们的回应中，哪些措施行之有效？我们本可以如何更有效地应对？

进行此类分析的原因是应用从事件中获得的经验，并创建一个反馈循环，以便在将来，您的团队对一般事件(当然还有类似事件)的响应更加有效。显然，修复您的系统、事件响应流程和缓解工具在事件响应期间出现的任何问题至关重要。事件发生后，您还应该查看相关的检查表:遗漏了什么，或者什么令人困惑？最后，将真实或模拟事件的结果输入到消防演习中，这样您就可以在将来练习类似的场景。

# **做好准备**

就像死亡和税收一样，事故是会发生的。在网络系统中交付内容或应用程序的公司需要为此做好准备。创建简单的核对表和进行演练等最佳实践有助于团队随着时间的推移提高事件响应能力，有助于减少实际事件中的压力，并增加快速解决问题的可能性。

## 关于作者/克里斯·比弗斯

克里斯·比弗斯是 [NS1](http://www.ns1.com) 的创始人兼首席执行官。他是 DNS 和全球应用交付领域公认的权威，经常谈论和撰写关于构建和部署高性能、大规模、全球分布式互联网基础设施的文章。他拥有 RPI 的计算机科学博士学位。在创建和领导 NS1 之前，他在 2011 年被 Internap 收购的 Voxel 构建了 CDN、云、裸机和其他基础设施产品。