# DevSecOps 实现:动态扫描

> 原文:[https://devops.com/devsecops-implementation-dynamic-scans/](https://devops.com/devsecops-implementation-dynamic-scans/)

这是 DevSecOps 系列的第三部分。阅读第一部分，关于静态分析，这里的和第二部分，关于源代码组成分析，这里的。

静态分析的一个弱点是它不能考虑环境和用途。在生产部署之前，对代码库进行静态分析是唯一的检查，这类似于在组装之前查看[大众高尔夫](https://www.caranddriver.com/volkswagen/golf)的引擎，并宣布该车辆适合使用。汽车组装后的运行方式，以及它的使用方式——或者更准确地说，动态扫描，*可能是*——对任何产品都很重要。这就是动态扫描的用武之地。

在产品运行时对其进行测试是一件大事，这也是动态扫描的目的。通过运用输入和观察结果来自动测试应用程序，动态扫描可以检测静态分析根本无法检测到的各种问题。这些工具是 DevSecOps 中许多噪音的来源，因为它们在每次运行时测试各种场景，动态扫描视为漏洞的东西很可能被开发团队认为根本不是风险。与静态分析一样，随着时间的推移，这也在不断改进，在这一点上，它们非常值得一看。

这些工具的最佳用途是作为网关——在进行测试之前、测试中以及投入生产之前，针对提升要求设置一个策略，然后运行动态扫描来确定应用程序是否符合该策略、是否需要补救或者是否需要批准才能在已知可能问题的情况下投入使用。

综上所述，下面是考虑使用动态扫描时需要注意的一些事项:

*   **生产安全**:这些工具运行测试，尝试一个记录的漏洞，看看应用程序如何响应。问题是，如果你不*非常*小心，这可能会导致生产中的严重问题。由于长期趋势是为除了最注重稳定性的组织之外的所有组织消除纯测试环境，所以知道您选择的产品可以在 prod 中运行而不会导致停机是重要的一步。
*   **测试的漏洞**:大多数供应商都会提供一份他们需要的清单。将这些列表与您组织的需求和其他供应商的列表进行比较。由于选择产品对每个组织来说都是独特的，我没有太多的购买建议，但在这里我要说的是，如果产品不支持*至少*OWASP 前 10 名，请到别处看看，因为 OWASP 既是防止攻击的良方，也是攻击者容易寻找的漏洞的便捷列表。我们为我们的 [ASG](https://accelst.com/) 工作*寻找的所有供应商都*支持 OWASP，所以这可能不是建议。
*   **集成**:产品完全组装后需要运行动态扫描。这并不是说完整，而是各个部分需要结合在一起—扫描通常着眼于应用程序，而不是应用程序的各个部分。这意味着它们可以在构建之后的任何时候生成，或者更具体地说，在构建后部署到开发/测试/生产之后。确保在工具链中有一个地方可以调用扫描器，并且有合适的网关来满足您组织的需求。评估的一部分是如何启动应用程序:你的构建工具能直接调用它吗？是深度融入你选择的环境，还是要做工作？
*   **报告和选通**:可用的报告级别:动态报告和静态报告是否可以集成，以显示静态扫描报告的潜在问题实际上是动态扫描发现的*问题*？能否找到一份总体状态报告( à la C 级仪表板)来显示给定应用程序的安全状况？可以为未通过某些测试的应用程序配置警报吗(例如，这样您就可以在投入生产之前做出明智的决策)？
*   **RBAC:** 这适用于所有的扫描，但我选择在这里包括它，因为对于动态(和交互)来说，它更重要一点。你能限制一个人能看到/做什么吗？最后，动态扫描会报告您的代码库中的实际漏洞——只有那些需要知道如何修复问题的人才能看到它；其他人应该只看到应用程序的整体通过/失败，而不是应用程序中已知漏洞的列表。运行这些扫描的能力同样应该受到限制。谁/什么时候是一个公司决策，它是一个政策和过程，因为它是所选择的工具，但如果扫描器不支持该政策，执行将变得更加困难。

当您进入交互式扫描时，是时候考虑传统上如何处理安全问题以及它们应该如何向前发展了。大多数组织将安全问题与其他应用程序开发问题分开。现在是结束这种状况的时候了——事实上，一些组织很久以前就结束了这一过程，但太多的组织仍停留在过去。可能给组织带来风险的安全漏洞需要作为高优先级错误在系统中运行。因为他们是。我们曾经认为，让 5%的客户觉得 UI 很糟糕的事情比不影响任何人的安全问题更重要。一个真正的全球互联网和自动化的兴起，甚至在攻击者中，使这一立场变得愚蠢。在这第二个时刻，没有人受到安全问题*的影响，但在下一分钟的某个时候，*每个人*都可能受到影响。这就像说你不需要黑色星期五的可伸缩性，因为服务器现在处理流量很好*(写于 11 月初)。动态扫描器警告的问题通常是真实的(在动态空间中消除误报已经有很长一段时间了)并且通常是危险的。如果您的扫描工具可以找到它，假设攻击者的扫描工具也可以。**

*与其他部分一样，我将感谢大家在一个非常混乱的 IT 环境中保持光明——你们在为我们所有人提供服务——并提到如果您组织的安全性没有得到重视，您所有的辛勤工作都将面临风险。我们很快发现了公共互联网上突然开放的数百万个 RDP 端口带来的威胁，你们大多数人都采取了措施来保护自己的端口。继续下去。确保您正在开发和部署的应用程序尽可能安全。保持前进——你是支撑突然分散的公司前进的岩石。*