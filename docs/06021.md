# 如何比较和对比 API 以改进 DevOps 流程

> 原文:[https://devo PS . com/how-to-compare-and-contrast-API-to-improve-devo PS-processes/](https://devops.com/how-to-compare-and-contrast-apis-to-improve-devops-processes/)

从 web 应用到移动应用，从合作伙伴集成到 API 货币化，云正在推动数字化转型。甚至自定义应用程序也在向云迁移。如果你给所有这些趋势划一条线，API 将是所有趋势的核心。

我们知道我们需要吃蔬菜来保持心脏健康，但有时在漫长的一天工作后点外卖更容易。健康的 API 卫生也是如此。在一个完美的世界里，开发人员会在一个 API 目录中注册他们的 API 规范和蓝图，并且他们会随着应用程序的变化保持更新。但这是一个繁琐的手工过程，有时经过一整天的工作，说起来容易做起来难。

API 目录对于通过质量保证和测试改进 DevOps 流程至关重要。此外，与开发和测试环境相比，API 的生产环境可能受到更加苛刻和更加不友好的访问和使用模式的影响，而开发和测试环境往往更加独立。好消息是，通过维护 API 目录，DevOps 可以获得这些环境之间的对比的更多可见性，以确定应该弥合的差距。最终结果是改进的 DevOps 流程，推动更好的产品和服务的生产。

创建 API 目录有多种方法，从手动将 API 记录到 Wikis、电子表格和供应商解决方案，到更自动化的发现工具。API 目录应该包括元信息，比如创建者、最后修改的日期、它属于哪个应用程序等等。在更深的层次上，API 目录还应该包括参数，例如数据类型、数据类型的界限、传输机制、身份验证和授权机制，以及关于参数中携带的数据的简要描述。

## **比较和对比从开发到测试和从测试到生产的 APIs】**

在应用测试阶段，受质量保证、回归、性能和交互案例的影响，API 目录应更新并与其开发状态进行比较。开发 API 目录和测试环境中生成的 API 目录之间的对比有助于识别:

*   **在开发目录中列出的 API，但在测试目录** 中没有列出，这将表明 QA 没有测试该 API 或其有效载荷；因此，可以改进 QA 流程。
*   **测试目录中列出了一个 API，但开发目录** 中没有，这表明开发目录不完整；因此，您不能假定它是“黄金”映像。这也暗示了 DevOps 过程中需要改进的地方，因为开发人员没有维护最新的 API 目录。自动化工具在这里可以提供更多的帮助，因为它们在没有 API 目录的地方生成 API 目录。

还有第三种情况，一个 API 没有记录在开发目录中，也没有出现在测试目录中，但可能会在生产流量中出现。这被认为是一个未发布的或“不符合规范”的 API。

同样，当从测试环境转移到生产环境时，API 目录应该更新以反映真实世界的应用程序访问。生产 API 目录和测试 API 目录之间的对比有助于识别:

*   **测试目录中列出的 API，但生产目录中未列出，这可以识别未使用的 API。这将表明 QA 测试与应用程序的实际使用不一致，并表明开发周期可以在其他地方优先考虑。T3】**

*   **一个 API 列在生产目录中，但没有列在测试目录中，这表明 API 目录没有获取最新的规范。这是影子 API 的一个例子，该 API 原本是应用程序的一部分，但是没有经过与测试和应用程序安全性相关的所需过程。T3】**

此外，识别生产目录中的 [API](https://devops.com/api-security-in-devops-are-we-too-comfortable/) ,而不是测试目录中的，对于识别搜索漏洞以利用未发布 API 的威胁参与者是有用的。

比较和对比开发、测试和生产环境有助于发现改进的机会。然而，手动创建和维护 API 目录由于其繁琐的本质而经常被忽视。DevOps 需要自动化工具来帮助发现 API、生成蓝图并将其存储到目录中。对于开发人员来说，手动记录 API 是一个很大的负担，但是持续更新的 API 目录是使用比较和对比方法获得成功的最重要的关键。

——[ravi balobili](https://devops.com/author/ravi-balupari/)