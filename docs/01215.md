# 供应的短暂性或永久性

> 原文：<https://devops.com/transience-permanence-provisioning/>

我意识到这篇文章的标题可能会让人联想到量子计算中纠缠的影响，但是不，我们还没有到那一步。相反，我指的是一个组织可以从确定其软件开发生命周期(SDLC)中的哪些环境应该保持永久以及哪些环境更适合作为过渡环境中获得的好处，以了解创新的谨慎成本(理想情况下，如果虚拟化)。

首先，为了保持一个公平的竞争环境，确保您的 DevOps 服务使用“一次构建，多次部署”的理念。在这种思想下，构建了一个单一的构建，它被单方面部署到 SDLC 环境的每个类中(而不是每个类的唯一构建)。测试中的一致性消除了结果的可变性。基本部署流程的统一性、构建一致性和可预测性也将减少错误和解决错误所需的时间。

其次，无论您提供自己的裸机资产(私有云基础)还是完全使用公共云，您在任何环境中交付的实际计算能力都可能被虚拟化。了解一类环境是暂时的还是永久的，只会影响你如何规划运营它的成本和政策，最终会导致创新的谨慎成本。

## 创造的成本

当这个话题通常被认为是第一个和直接的观点通常是 R&D，或开发类环境。是的，调配开发类环境并在工作完成后将其拆除的能力是证明虚拟基础架构合理性的正常使用情形(公共云、私有云或混合云使用)。显而易见的好处包括没有“油门”来控制有多少并行工作可以加速。

瞬态开发环境也建立了失败的概念，或者延长的“游戏”，不是为了产生特定的结果，而是为了尝试创新，看看什么“可能”是可能的。所有这些都不包括建设和维护 R&D 实验室所需的资本投资，也不包括为其预留固定的计算能力。有意图的开发工作(例如，正式项目的一部分)可以通过计划的创新谨慎地跟踪成本。没有意图的开发工作(例如，更像过去在 R&D 实验室发生的)可能与所有创新的间接成本相关联。

## 评估的成本

但是除了 DEV，下一个要考虑的主要环境类是 integration (INT)类。如果你的公司有不止一个应用程序，有协同工作的应用程序，或者有依赖上游或下游的应用程序，你可能需要一个 INT 类环境。这个班级环境的主要职责是提供“有所指的东西”您的应用程序(正在经历变化)有一个环境，在这个环境中，它可以指向所有其他应用程序来测试互连是如何工作的。从逻辑上讲，这类环境更适合永久存在。这是因为您很难预测在整个产品组合中，哪些应用程序会在什么时候需要这项服务。许多正在经历变化的应用程序可能会同时使用这一点，以确保它们都可以相互协作(例如，在生产之前或早期评估它们与未来版本的互操作性)。

维护一个永久 INT 类环境的另一个原因可能涉及到你作为一个供应商与其他公司的交互，这些公司作为一个服务提供商把他们的应用程序“指向”你的。即使是在他们自己的应用程序之间很少交互的组织，也可能是大量客户应用程序的重要提供者。如果您的客户需要一个指向的地方，int 类环境通常是您想要的。所以在这种情况下，永久性是合乎逻辑的需要。

接下来，成为性能测试(PT)类环境。模拟生产，或者能够预测您使用的平台和生产提供的产品之间的差异，是成功的关键。然而，这类环境是短暂性的完美候选(特别是如果您的开发和生产环境已经是虚拟的)。为什么要维护昂贵的硬件，只是为了进行定期测试，这需要大量的重新配置和预先规划。扔掉它。相反，使用虚拟化平台，在该平台上，资源调配几乎是即时的，并且可以完全模拟开发和生产–请记住:一次构建，多次部署。

SDLC 中要检查的另一个重要环境类别是用户验收测试(UAT)。从逻辑上来说，这个类环境可能会得到很多使用，但理想情况下只有在应用程序通过了开发、INT 和 PT 中的测试之后。因此，UAT 也应该是短暂的。不使用时可以拆除的好选择。您可能希望为这个类的设置和拆卸做一个计划，以模拟正式开发工作中发生的事情。

最后，质量保证(QA)或预生产(PreProd)类环境(如果使用的话)被设计成完全模拟生产的当前状态，允许改变中的应用在更复杂类型的 INT 类环境(可能具有复制的生产数据等)中运行。).当早期的 INT 类环境包含大量正在变化的其他应用程序时，这种情况会更常见。这个提供了一个“更干净”的指向，只有生产操作应用。当在生产中发现错误时，QA 环境也可以用作事后措施，以便进行调试或更广泛的监控。显然，如果您的组织发现需要这类环境，它将具有永久性特征。

## 运营成本

生产本质上是永久的。虚拟化生产提供了按需扩展的能力。但是可扩展的生产解决方案受益于更成熟的 DevOps 服务(无论您是否拥有数据中心)。想一想，在 DevOps 拥抱之后，归因于代码 post 的错误数量。错误的数量减少了，解决错误的时间也减少了，工作的规模也变小了，风险更小，速度更快。这种组合意味着生产将会大大减少异常代码的泛滥(由于错误需要大量的内存、CPU 或磁盘)。这些问题在 SDLC 流程中更早地被发现(因为 DevOps ),并且在 DevOps 投入使用后很少进入生产阶段。

随着 DevOps 的成熟使用，这意味着任何一种按需扩容的可扩展解决方案都将被采用，原因只有两个:客户需求的急剧增加(理想的解决方案)或拒绝服务攻击，这些攻击试图在没有真正客户使用的情况下提高您的成本。您所采用的监控解决方案将有助于解释这种差异。如果您的应用程序内置了日志记录功能(即，您生成一个日志，详细说明什么客户在什么时间执行了应用程序中的什么关键功能)，您应该能够通过自动监控检测来避免后一种情况。

## 衡量创新成本的新能力

理解瞬时和永久环境的成本增量是值得研究的。这将有助于你更好地理解每年的创新成本。它也可能揭示了在每种类的测试中投入了多少真正的努力。例如，如果用户采用受到影响，并且您确定 UAT 级环境很大程度上未被使用或被破坏，那么您更知道在周期的早期在哪里解决问题。对于 PT 来说也是如此，需要多少测试，在生产中需要何种规模的性能。

如果您的组织维护 INT 或 QA 类环境，您可能希望将它们的成本分摊到 SDLC 开销中，因为它们往往是永久性的，并且是价值共享的。开发、PT 和 UAT 环境，如果是短暂的，代表了特定创新努力的可变成本，可以很好地跟踪。在考虑虚拟化的时机、价值和优势时，您可能希望考虑您在 DevOps 连续体中所处的位置。如果您已经运行了一段时间的开发运维，那么虚拟化和按需扩展容量的时机可能会比您刚刚起步时更好。

请记住，大多数已经从瀑布模型过渡到敏捷模型的组织，将会失去大量以前在瀑布模型中有效的财务控制，并且在敏捷模型中也不能很好地工作。DevOps 交付还能够以比以前的手动方法高几个数量级的速度移动变更。这种组合使得谨慎地为创新定价变得更加困难。能够将暂时的环境成本与正式的开发工作(有目的的开发工作)联系起来可能会恢复一些财务上的判断力。它还可能有助于确定在被更好地归类为永久环境的操作中的创新的真实间接成本。

要继续对话，请随时[联系我](http://kristian%2Enelson@hotmail.com/)。