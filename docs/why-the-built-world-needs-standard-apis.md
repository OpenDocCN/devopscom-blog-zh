# 为什么构建的世界需要标准 API

> 原文：<https://devops.com/why-the-built-world-needs-standard-apis/>

最近，新的 [ESG 计划](https://devops.com/sustainability-no-longer-just-a-buzzword-for-cloud-it/)成为焦点，因为公司寻求将他们的业务对环境的影响联系起来并加以限制。对于建筑世界来说尤其如此，建筑世界是指为人类活动提供环境的人造环境，包括住宅、建筑、分区、街道、人行道、开放空间、交通选择等，在这里，监控能效变得越来越普遍，甚至是法律要求的。例如，[纽约州的一项法律](//www.gkvarchitects.com/news/understanding-new-york-citys-building-energy-efficiency-rating-system)现在要求一定规模的建筑在其入口处张贴能效得分。然而，计算这样一个分数并不那么简单——在大多数大型商业和住宅建筑中，有许多传统技术在使用，从这些系统中提取数据是众所周知的困难。

建筑经理可能会寻求这些系统的更大可见性，以便不仅确定建筑的能源得分，而且进行程序优化、通知建筑安全或制定新的数字化。但答案不是匆忙淘汰和升级旧硬件——像空调和电梯这样的旧设备可以使用 50 年或更长时间，可以无缝运行。相反，这是另一个领域，[REST API](https://devops.com/trends-in-the-api-industry/)通过将遗留的集成软件和不同的硬件与一个标准层结合起来而被加速。

我最近会见了 Mapped 的首席执行官兼创始人肖恩·库利。根据 Cooley 的说法，API 驱动的建筑环境标准可以为硬件组件行为和建筑内系统之间的相互关系提供透明度。下面，我们将简要考虑构建协议的历史，并着眼于像 Brick Schema 这样的旨在统一传统和现代物理基础设施的标准。我们将考虑 API 给构建的世界带来的竞争优势，以及增加数据可访问性如何帮助操作。

## 物理建筑数字协议的现状

构建的世界由各种数字通信标准组成。大多数建筑物都有许多针对照明、HVAC、电梯和其他系统的旧的内部协议。例如，许多电梯和消防安全系统是由系统集成商在 20 世纪 70 年代安装的，并采用了使用 [Modbus](https://modbus.org/) 的连接，这是一种基于串行连接的通信协议。 [BACnet](http://www.bacnet.org/) 也常用于控制 HVAC 系统，是 Modbus 的一个进步，因为它可以更容易地连接到 IP 网络。

让时间快进几十年，直到云时代的到来；库利解释说，许多公司在这些旧系统上覆盖了传感器。这些以太网供电(PoE)或电池供电系统将数据立即转发到云，并且通常使用专有协议。单个商业建筑可以很容易地处理一堆不同的通信协议，所有这些协议都来自于不同时期的安装。库利说，这些细微差别意味着你“不断处理你的投资组合中的混乱”。他说，有如此多的数据，但让它们规范化和可用非常具有挑战性。一个人必须集成许多传感器和协议，他将其描述为没有人愿意建造的“肮脏管道”。

不同建筑之间也必然会有差异，这可能会给管理多个建筑业务带来进一步的压力。如果没有了解建筑数据的窗口，就不容易知道诸如大厅的当前占用率或占用率如何影响能耗之类的事情。除非管理者能够将系统之间的点连接起来，否则就不可能理解组件之间的关系。

## 制作建筑物的数据图表

例如，以商业建筑中的空调系统为例。这样的单元不像单户家庭的典型恒温器和炉子那样简单。它通常是屋顶制冷机组、管道、泵和控制空气的变风量调节风门的组合。库利说，虽然协议擅长描述单个组件如何执行，但组件的组成才是定义建筑系统及其效率的真正因素。

根据 Cooley 的说法，建筑物需要一个图形数据模型来充分表示硬件互连，而不是采用垂直数据模式。这也是他支持砖块模式的原因，砖块模式是一种用于建筑物的开源统一元数据模式。与垂直数据模式不同，砖块模式建立在图形数据模型上，这使得系统中的关系更具描述性。

## 最终收益

将非结构化数据从 20 个不同的数据湖中提取到一个干净的 API 中，可以更容易地访问新的解决方案。库利说:“我们希望为这类环境构建应用程序变得非常简单。他说，通常情况下，系统集成商必须进行逆向工程，并连接到传统的建筑硬件，这可能会很快变得非常昂贵。他建议使用基于开放标准的沙盒，这种标准可以很容易地推广到任何建筑，以减少这些障碍。在创建创新的建筑应用程序时，具有公共端点的更易使用的层可以提高开发人员的可用性。

就像 Twilio 让短信变得简单一样，Cooley 说他希望在建筑世界中也能有类似的发展。许多应用程序都可以用这样的抽象层来构建。例如，管理人员可以更好地了解能源使用情况，以减少消耗、满足法规要求并节省资金。或者，这种抽象层可以通知预测性维护，以便在故障发生之前创建自动警报。也有很多方法可以改善居住者的体验或智能地优化空间的照明和温度。

“全新的商业模式和概念出现了，这是我们以前没有考虑过的，”库利说。例如，他描述了一个“尾随应用程序”,它使用砖块模式作为安全用例。该应用程序防止大楼住户在有人刷了他们的徽章后让其他人“尾随”进入他们身后的大楼。为此，该应用程序与许多独立的建筑系统(电梯系统、监控系统、远程呈现系统和其他传感器)相连接，以确保建筑中的人数与刷卡进入的居住者人数相匹配。一种通用语言有助于将不同的硬件连接起来。

## 建筑自动化的未来

这绝不是标准化建筑数据的第一次尝试。例如，[绿色按钮倡议](https://www.greenbuttondata.org/residential.html)提供了一个标准 API，通过它可以下载电力、天然气和水的公用事业使用数据，并与解决方案提供商共享。然而，根据库利的说法，这些信息只能到此为止。建筑业主将需要更多的现场上下文数据。

例如，也许一栋建筑的玻璃窗会导致特定的房间在阳光下过热。热传感器会发现这种情况，但总能耗读数不会确定根本原因。访问实时粒度数据(如当前占用计数)对于开发现场应用程序也是必要的，这些应用程序可以更好地精确描述人类活动如何影响能耗。

当然，随着建筑系统变得越来越智能，侵犯隐私的可能性也越来越大。例如，使用面部监控和识别的系统最终可能会存储个人身份信息。库利说，在这种情况下，你“需要给数据所有者控制权，让他们决定哪些应用程序不能访问 PII”。

虽然这一领域有许多只读应用，但库利预测，未来的写操作将使建筑硬件实现更多的自动化。这可以允许应用 ML/AI 来预测电梯楼层呼叫。或者，一个预测系统可以只在安排会议的时候给房间降温。当这样的数据容易被开发人员访问和使用时，它提供了许多创新的机会来优化构建的世界并与之交互。