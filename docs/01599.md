# 微服务部署的 3 条黄金法则

> 原文:[https://devo PS . com/3-黄金法则-微服务-部署/](https://devops.com/3-golden-rules-microservices-deployments/)

作为开发人员，您重视 SOA 的原则。您渴望通过端点将应用程序构建为一组可消费的服务。还记得亚马逊如何使用 SOA 构建 AWS 平台，以及谷歌如何模仿 AWS 吗？然而，在 SOA 世界中，并不是一切都很好。

开发是一回事，但是运行、管理和维护服务是另一回事。说到后者，很多企业还是表现得[铁板一块](https://en.wikipedia.org/wiki/Monolithic_application)。它们在一台或多台服务器上作为一个单元运行和管理应用服务。当服务本身扩展时，或者当您需要定期更新和维护它们时，这种方法无法扩展。那么，你会为花费在这些努力上的成本和时间而哀叹，还是会解决这个问题呢？

最近的趋势指向微服务作为答案。根据定义，微服务比服务小得多。事实上，[维基百科](https://en.wikipedia.org/wiki/Microservices)说微服务执行一个小任务，通常只有一个。有许多文章深入探讨了[微服务架构](http://martinfowler.com/articles/microservices.html)，但是我们在这里涵盖了一个重要的部分，那就是部署自动化。换句话说，我们的日常工作。

微服务架构的自包含、独立和可重用原则有助于解决扩展和维护应用服务的问题。

*   **自带**。微服务是独立运行的操作，不需要其他服务。这意味着它们各自独立运行。考虑到业务需求和负载，您可以扩大或缩小规模，单独替换一项服务，而不是更新整个服务。
*   **可重复使用**。微服务是独立的，因此您可以在其他应用程序和功能中重用它们。我们正在讨论重用已经部署的微服务。
*   **独立**。微服务是平台无关的，这意味着您可以独立于基础架构需求来设计它们，以便在任何地方、任何云中运行。

那么从基于 SOA 的架构转向微服务容易吗？采用微服务并非没有挑战。举几个例子，您需要将现有的软件服务模块化为自包含的单元，您需要配置微服务以相互通信，并且您需要大量的部署和测试自动化。

为了解决这些开箱即用的挑战，我们推荐像 ElasticBox 这样的 DevOps 解决方案。看看 ElasticBox 是如何支持微服务部署的。

# 1.模块化独立微服务

ElasticBox 中的箱式模型将每个微服务包装为服务目录中的独立组件，您可以跨应用程序重用。脚本盒使用 Bash、Puppet、Chef、SaltStack、Ansible、PowerShell 自动化微服务的生命周期；容器自动化 Dockerfile 部署；CloudFormation box 实现了 AWS 资源栈的自动化。

# 2.通过绑定连接微服务

更多的微服务意味着需要管理更多的端点。这种端点处理网络上的 REST 或其他协议通信。有了 ElasticBox 绑定，网络引用就像编程变量一样容易操作。想要将数据库连接路由到另一个 MySQL 服务？这很容易做到。只需用不同的绑定值指定要部署的服务。

# 3.独立部署微服务

盒子本质上是不可知论的。将 CPU、内存、存储、附加磁盘、虚拟网络、防火墙、负载平衡和自动扩展的基础架构元数据放入与 AWS、Google cloud 等云服务相关的部署策略中。策略可以帮助您将脚本框中定义的微服务部署到任何平台和云中。ElasticBox 中的编排引擎与云 API 交互，根据部署策略中的元数据自动配置虚拟机。因此，很容易按需启动和销毁微服务，而不会中断服务可用性。

ElasticBox 可以简化微服务部署。例如 [Jenkins ElasticBox 插件](https://wiki.jenkins-ci.org/display/JENKINS/ElasticBox+CI)持续地将 ElasticBox 自动化与 Jenkins jobs 集成，以测试和交付软件开发团队持续构建的东西。所以下一次你想到 SOA 的时候，想想微服务吧。请随意查看 [ElasticBox](https://elasticbox.com/signup/) 如何提供帮助。