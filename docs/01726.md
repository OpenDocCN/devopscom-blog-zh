# 信任&被信任的形象

> 原文:[https://devops.com/trust-the-trusted-image/](https://devops.com/trust-the-trusted-image/)

## [![Graphic No BG](../Images/9b68a6cedfa88d79198943dda3976adc.png)](https://devops.com/wp-content/uploads/2014/03/Graphic-No-BG.jpg) 你的信任模式是什么？

信息安全对话通常以“您的威胁模型是什么？”这个问题开始这篇博客问道:“你的信任模式是什么？”。信任是一个复杂的主题，也是管理面向 DevOps 的组织和高度自动化的 IT 基础架构不可或缺的一部分。谁(开发人员、运营人员)或什么(代码、流程)被信任来完成基础架构中的特定任务，有时很难向管理人员、审计人员或运营/事故审查人员描述。目标是描述 DevOps 世界中工作的人和系统之间的关系，并讨论使系统更加透明的方法(对编码人员和非编码人员！).

#### 可信映像

像 Amazon、Canonical 和 Red Hat 这样的组织提供流行的操作系统发行版的虚拟机映像。通常直接“按原样”启动这些映像，并在启动后在其上安装软件。

然而，专门化这些映像中的一个(或几个)并使用它来代替基本操作系统映像是有优势的。补充了满足应用程序需求的配置和安装包的基本映像称为“可信映像”。将你的信任放在一个有目的的和有特色的形象上是有价值的。

#### 为什么要做一个可信的形象？

原因有几个:

*可靠性:*虚拟机需要下载的资源越多，出错的可能性就越大。网络错误、包存储库中断和随机下载错误会导致虚拟机不可用或不稳定。将基础包构建到受信任的映像中可以最大限度地减少问题。

*安全配置:*如果您希望在每台虚拟机上确保配置选项，您可以将这些设置构建到您的可信映像中。例如，您可以在受信任的映像中配置防火墙(iptables ),以保护您启动的每个虚拟机。

*安全通信:*如果您想在应用程序中使用 SSL 或 TLS，您可以通过可信映像在根证书中建立信任。

*内置服务“连线”:* 您是否希望确保您启动的每个虚拟机的系统日志都发送到您的日志服务器？或者确保在您启动的每个虚拟机上都预装了特定版本的 Python、Ruby、Java、Node.js 等？客户端库怎么样？配置管理代理？将这些构建到您信任的形象中。

*速度:*不再等待包安装；将它们构建到您信任的映像中，并更快地推出最终产品。

*虚拟机身份和授权:*您可以构建可信映像，为每个虚拟机创建一个身份，并帮助虚拟机获得在您的基础架构中进行相应操作的权限。引导凭据可用于访问虚拟机加入应用程序所需的资源，如数据库凭据、系统密码、API 令牌和其他敏感信息。

#### 对位..

使用受信任的映像可能会有缺点，例如:

*安全补丁:*厂商的安全更新很频繁。您构建的任何新映像都将内置所有最新的安全补丁；但是，随着操作系统供应商发布补丁，您的映像很快就会过时。一种方法是将虚拟机配置为按计划进行自我修补，例如在夜间的“静默期”进行修补。[注意:修补非常困难。请大家分享一下这个问题的经历！]

*管理*:一旦你建立了一个可信赖的形象，你将需要一种方法来管理它们。您的云提供的图像标签和其他元数据功能在这里会很有帮助。像对待构建系统的任何其他产品一样对待您的图像:严格地对它们进行版本控制，并跟踪其出处(历史)。最后，确保您用来构建可信映像的系统本身是可信的！

#### 权衡利弊

总的来说，对于许多组织来说，可信映像在安全性、性能和可靠性方面的优势大于劣势。我想听听你们中使用可信图像的人和考虑过可信图像但选择了另一条道路的人的更多经验。