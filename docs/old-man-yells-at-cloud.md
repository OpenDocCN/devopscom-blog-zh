# 老人对着云喊道

> 原文：<https://devops.com/old-man-yells-at-cloud/>

如今，软件程序员越来越疏远硬件。大多数千禧一代和 Z 世代开发者从未安装过物理服务器。他们从来没有被服务器房间里同步和谐的轻微嗡嗡声所催眠。今天，你甚至不一定要建立自己的电脑或担心太多的磁盘空间。

相反，云原生软件开发人员可以方便地将服务器负担转移给云服务提供商(CSP)。例如，在像 AWS 或 Azure 这样的云中托管很有意义——它允许程序员专注于自己的专业。弹性计算模式对于初创公司来说是经济高效的，电信运营商通常会提供一个垂直堆栈，其中包含有用的集成平台即服务(PaaS)和软件即服务(SaaS)产品。然而，我们牺牲了什么？

首先，研究表明，随着企业规模的扩大，云模式变得[成本效益更低](https://lwn.net/Articles/748106/)。其次，随着越来越多的公司转型为技术平台，云的使用可以更好地促进他们的竞争。第三，对于某些服务提供商来说，更直接地访问裸机可能是增加所有权和控制工作负载优化的一个有吸引力的选择。

这些论点得到了大公司的支持，如 [Dropbox](https://www.geekwire.com/2018/dropbox-saved-almost-75-million-two-years-building-tech-infrastructure/) 、[脸书](https://www.wired.com/2014/06/facebook-instagram/)、[沃尔玛](https://www.techrepublic.com/article/walmart-forces-tech-partners-to-leave-aws-following-whole-foods-acquisition/)，以及其他选择放弃对云的忠诚，转而建立自己的数据中心或采用主机托管(换句话说，在别人的数据中心运行自己的硬件，也称为“colo”)。

我最近会见了 Equinix 裸机部门的董事总经理 Zach Smith，以了解硬件即服务的现状以及混合服务器模式的未来。他认为，在未来几年，访问底层基础设施的改进接口将为 IT 提供更好的消费者选择，使他们更接近金属。然而，为了实现这一点，硬件世界将需要从上层堆栈中吸取一些关于透明度、开源社区、可编程性和改进开发人员体验的经验。

## 避开云

公共云作为一种便捷的一站式商店出现，用于托管整个软件应用程序环境。因此，“我们这一代开发人员将永远不会接触硬件，”史密斯说。

据 Statista 估计，2020 年第四季度，云基础设施服务市场价值 398 亿美元。目睹了“超大规模云的垂直化趋势”，Smith 现在认为基础设施即服务(IaaS)市场是一个高利润和费用不断攀升的行业。这得到了其他寻求降低[不断上升的云费用](https://devops.com/how-to-respond-to-rising-cloud-costs/)的人的响应。

尽管云计算的使用正在大幅增长，但数据中心并没有死亡。相反，计算模型正在变形，变得混杂。“到 2025 年，85%的基础设施战略将集成内部部署、主机托管、云和边缘交付选项，相比之下，2020 年只有 20%，”著名副总裁分析师 David Cappuccio 在 [Gartner 报告](https://www.equinix.com/resources/analyst-reports/data-center-not-dead-morphing-changing)中预测。

随着[混合云](https://devops.com/3-key-issues-with-hybrid-cloud-transformation/)方法的出现，Smith 注意到人们对基础设施的关注重新抬头。一些大型服务提供商开始建设自己的数据中心；其他公司，如 [Box](https://www.datacenterknowledge.com/archives/2014/07/14/five-most-interesting-things-about-box-data-centers-in-sec-filing) ，现在拥有并从数据中心提供商那里租赁服务器。

## 裸机的优势

如上所述，有几个原因让我们回到金属。首先，对于大型部署来说，它可能更具成本效益。Antoine Beaupré在他的[文章](https://lwn.net/Articles/748106/)中比较了主机托管和 AWS 账单的每月经常性成本，发现盈亏平衡点为每月 10 万美元，即 150 个亚马逊 m 4.2x 大型实例。他的研究还发现，I/O 密集型应用在云中比通过主机托管成本更高。

“虽然许多服务只是在云中启动，而其背后的组织没有考虑其他选择，但大型内容托管服务实际上已经搬回了他们自己的数据中心，”Beaupré说。

除了节省成本之外，使用可编程层自动化主机托管还可以对计算优化提供更细粒度的控制。“我相信我们正在创造的是一个快速变化的硬件基板的运作模式，”史密斯说。他描述了裸机如何打开一个中性的基础设施基板来控制物理网络方面，如交叉连接、IP 传输和对等——这是史密斯半开玩笑地称之为“NetDevSecOps”的好处

另一个论点是，讽刺的是，投资硬件可以带来可持续发展的好处。ITRenew 进行的一项报告估计，在服务器整个生命周期内所需的总能耗中，77%用于制造硬件本身。相比之下，服务器整个生命周期中使用的运营能源仅占 22%。

因此，扭转不断生产新服务器的制造-处置经济趋势对环境有利。相反，硬件所有权可以鼓励更循环的经济。根据 ITRenew 的报告，“循环经济旨在结束我们的采取-制造-处置经济，这是一种非常线性的方法，而是尽可能长时间地保持产品的最高价值。”

## 向上层学习

我们如何构建一个基本的非自以为是的基础设施平台？根据 Smith 的说法，该行业需要“可由开发人员一代编程和使用的硬件和网络”对 Smith 来说，在内核级改变防火墙、改变运行时的工作方式或控制 IP 栈，都应该通过 API 命令来操作。

然而，硬件的可访问性仍然相当不透明，而且从历史上看，对开发人员来说并不友好。“我们如何从堆栈中提取抽象和社区驱动的想法？”史密斯问道。为了实现这些变化，他认为硬件世界应该在几个关键领域建立上层模型:

1.  **透明**:硬件世界并不那么容易理解。“当你接触到交换机和路由器的物理层面时，它仍然是神秘的，”史密斯说。将服务器变成所有开发人员都可以操作的东西需要增加功能和所有权的透明度。
2.  **开源社区**:就像软件世界建立在[强大的开发者社区](https://containerjournal.com/features/five-values-that-define-kubernetes-culture/)上一样，硬件将需要一个开放的社区来规范固件、引导顺序和对驱动器差异的支持。
3.  史密斯说:“如今，自助服务和可编程性是大多数事情的要求，与物理基础设施没有区别。”。以 API 经济的兴起为例——今天的口号是，本质上来说，[如果在用户界面中某些事情是可能的，那么通过 API 也应该是可能的](https://twitter.com/DoerrfeldBill/status/1387020710812528646)。同样，如果可以在服务器中完成，那么应该可以用 API 来控制。
4.  **优质的开发人员体验**:自助式可编程基础设施仅仅是一个开始——操作基础设施的界面需要[良好的开发人员体验](https://blog.apideck.com/how-to-build-a-great-developer-experience)。Smith 认为硬件需要改善购买体验和更好的生命周期管理能力。这可以通过像 [Tinkerbell](https://tinkerbell.org/) 这样的开源工具来实现，Tinkerbell 是一个由 Linux 基金会支持的供应和工作流引擎。

## 回到金属——一个平台玩家的梦想？

所有这些并不是说公共云没有价值，它绝对有价值。云是必要的，并且已经被证明有足够的弹性来支持在线业务和数字生活，正如我们在整个疫情和几年前所知道的那样。“在 2020 年及以后，大多数组织都将转变为完全基于云的环境，”亚马逊首席技术官 Werner Vogel 在一次在线 AWS 峰会上说道。

但是，即使大多数组织都在云中，这并不意味着他们所有的资产都在 T2。尤其是服务提供商，可能会坚持混合模式以获得更多的控制权，从而避免支持竞争，甚至可能是为了省钱。私人数据中心也可以增加安全性。在一个原始计算能力正在成为一种新资产的时代(就加密货币而言，确实如此)，服务器机架又开始变得性感起来。

“当软件和硬件一起工作时，奇迹就会发生，”史密斯说。但是，让从未接触过物理技术的一代人接触物理技术需要一些独创性。正如 Smith 所说，这可以通过更有用、标准化的硬件管理界面来“自动化 colo”。

“我们将在未来 10 年看到运营软件从云基础设施中分离出来的未来，”史密斯说。这是一个大胆的说法，因为这样一个巨大的变化实际上会篡夺当前云提供商 IaaS 的市场份额，改变与全球软件相关的分销和经济模式。

虽然这个梦想看起来有些遥不可及，但如果更多的平台决定放弃云中间人，单干，它就有可能实现。