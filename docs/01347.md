# 为什么开发/测试云不是可选的

> 原文:[https://devops.com/stop-building-locally-put-devtest-cloud/](https://devops.com/stop-building-locally-put-devtest-cloud/)

你如何创建一个私有的开发/测试云来标准化跨团队的过程、工具和环境？最近，我参加了一个主题为“[创建内部开发/测试云](http://electric-cloud.com/blog/2016/05/continuous-discussions-c9d9-podcast-episode-41-creating-internal-devtest-cloud/)”的在线小组，作为持续讨论(#c9d9)的一部分，这是一系列关于敏捷、持续交付和开发运维的社区小组。

持续讨论是由 [Electric Cloud](http://electric-cloud.com/powering-continuous-delivery) 发起的社区倡议，该公司为包括 SpaceX、思科系统、GE 和 E*TRADE 在内的企业提供持续交付。我不是电云的员工或供应商。

以下是我对该小组的一些见解:

### 你对开发/测试云有什么想法？

这不是为什么的问题——你真的没有选择。我不认为这是一件可有可无的事情。如果您正在转向这种现代软件交付，您将不得不构建这种环境。如果碰巧你已经在做一些没有它的持续集成持续交付(CICD)过程，它不会持续很久。如果我换一个稍微不同的角度，我认为有趣的问题是*在哪里？*那么，您的开发/测试云在哪里？

我认为开发/测试是一个概念性的东西；这是你的工厂。如果我们从单个的角度来谈论它，例如，作为一个环境，或者一个集成环境，它将不支持微服务和一些未来的架构，这时您可能会添加多个开发/测试云。例如，如果您认为您将在本地部署浏览器网格，或者将它与其他集成环境混合在一起，这将需要大量的工作和维护。这不是个好主意。但与此同时，如果你用艺术品回购做任何事情，这真的很神奇。即使这些工件中的一些真的很小 Docker 映像可能非常小，如果那些存储库与您的开发/测试的其余部分不在同一个网络上——它可能真的很慢。这就是可以在内部实现的功能。我认为底线是无论如何你都要到达那里。它就要发生了。我认为如何设置它是一个有趣的问题，因为有很多选项可以选择。

### 创建开发/测试云的挑战是什么？

我认为第一个挑战是开发/测试环境和生产环境之间的平衡。复制将是疯狂的，因为你谈论的是数据中心，大量的开销，它降低了灵活性。我们之前谈到的一切——开发人员随心所欲地开发开发/测试环境和集成环境的能力。然而，有些事情你绝对可以考虑，那就是你所有配置之间的一致性，确保你所有的框架都是一致的，因为在整个系统中追踪跨应用程序的错误是非常困难的。但是总是需要解决这个问题。

我们甚至在谈论坐在你节点上的特工。我的意思是，如果您在您的服务器上运行一些工具，了解在您的开发/测试环境中拥有或不拥有这些工具的潜在影响是有好处的。我想说，奇偶校验可能是最大的挑战之一。另一个挑战是知道谁拥有它，因为我认为我见过的最好的场景是当你有一个开发/测试环境的管家时。可能是 DevOps，也可能是其他人，他们负责维护您在这些环境中所做的战略，而不是在蛮荒的西部。因此，他们并不拥有它，但他们有助于确保奇偶校验的存在，并有助于确保自动化和资源调配等一切尽可能高效。开发者不应该考虑这些。开发/测试应该更像是一种产品。在更大的组织中，这正是他们所做的。他们创建了一个共享服务或云服务部门，负责设置这些服务。

### 您看到人们在尝试创建开发/测试云时遇到了哪些挑战？

开发人员有一个很大的习惯就是在本地进行构建，我想我告诉过的大多数开发人员都抱怨不要再这样做了。这是一个大问题，只是从纯粹的污染角度来看，事实上你并不真正知道每个显影剂盒的状况，没有一致性。希望开发/测试云很容易利用，他们看不到需要，并且有一些培训——我认为这可以追溯到这样一个想法，即如果您将它视为单一事物，您会知道一些开发/测试环境在一个小时的时间段内生存和死亡。它们非常短。这应该是一个想法，你旋转它，把你的代码和测试它很快，获得 IP 地址。你测试它，杀死它，就是这样。您继续前进并继续编码，随着它向下游移动，您可以拥有一个更健壮的集成环境。

我确实认为存在同类最佳的开发/测试云。我认为你有开发/测试云，非常适合上下旋转的极点实例。然后，我认为您有过去类型的环境，我认为您有负载测试云，您有功能测试云。可能有理由将它们分成不同的类型。最重要的是，一切都紧密结合在一起，而且有一个战略。它不只是即兴的，因为那相当于影子它。即使每个人都知道它正在发生，这是一样的区别。

### 开发/测试云的先决条件是什么？

我认为你必须有一个管理者，一个拥有它的人，标准化。您需要完整的主脚本、快照、映像，来代表实际的开发/测试环境，并且需要有人来确保这些是最新的，这样您就可以在所有地方保持一致性。矛盾的是，如果你使用一个性能测试云进行负载测试，一个功能测试云，你不能控制基础设施。在这些场景中，如果您正在运行 Selenium 脚本，您将从外部进入内部，因此这并不重要。

### 怎么做

如果你是自下而上开始，你可以在开发它之前想清楚。但是大多数组织都不在这个位置上；他们将虚拟化融入到其他东西中，您可能已经有了这个概念，并且已经在使用虚拟化，所以您可能已经有了一部分虚拟化，但可能不是以最有效的方式。我见过的许多组织都是从小处开始的。例如，他们从一个健壮的集成环境开始。Druva 是实现这种转变的公司的一个例子。但是在我看到的所有场景中，还有另一个催化剂，它从来不只是开发/测试云。总会有别的东西。微服务的架构变化，将您的产品从内部解决方案改变为基于云的解决方案，这就是 Druva 的情况。似乎总是有别的东西。我不认为必须如此，但似乎有其他驱动因素需要改变和改变渠道的机会，它们是由应用程序驱动的。我不认为有简单的答案。我认为你必须依靠自动化，你必须依靠工具。不能怕明面。不要让工具决定你做什么。您应该告诉工具该做什么。如果最终你是一个厨师商店和詹金斯，它决定了你在做什么，那么这就是你要做的一切。你永远也不能采用未来的工具，所以想想吧。惯性是一种强大的力量。

我对如何建立开发环境有非常强烈的看法。停止本地建设，放到云端。