# 关于混沌工程的 7 个重要事实

> 原文：<https://devops.com/7-important-truths-about-chaos-engineering/>

作为一种相对较新的实践，混沌工程有许多神话围绕着它，从随机关闭生产系统到需要大量的时间和金钱投资。关于[混沌工程](https://devops.com/?s=chaos%20engineering)的目的、价值和实践有很多困惑。这给 DevOps 团队带来了一个问题，特别是在 2019 年 Gartner DevOps 调查中，超过一半的受访团队将提高系统可靠性和发布质量列为他们的五大 DevOps 目标之一。

在本文中，我们将通过介绍七个重要的事实来澄清一些困惑，以帮助您做出关于混沌工程的明智决策，以及它如何帮助您的工程组织。

### 真相一:混沌工程不混沌

当你想到混沌工程是一种实践时，你会想到什么？如果答案是导致随机生产中断，您并不孤单。像[混沌猴子](https://www.gremlin.com/chaos-monkey/)这样的工具普及了这个想法，但是对于大多数实践混沌工程的团队来说，这是一个精心计划的、受控的过程，旨在减轻混乱而不是引起混乱。

混沌工程的目标不是*增加*混沌，而是*减轻*混沌。

的确，它会给原本健康的系统带来潜在的危害。例如，我们可以通过增加服务器上的 CPU 使用率来测试应用程序处理负载的能力。借助企业解决方案，我们可以完全控制哪些系统会受到该测试的影响(称为*爆炸半径*)、我们消耗了多少 CPU(称为*量级*)以及它会运行多长时间。我们还可以立即停止测试，并在出现意外后果时回滚其影响。

我们也确切地知道我们将什么条件引入到我们的系统中，并且可以随时恢复这些变化。是的，我们仍然在造成伤害，但我们这样做的方式有助于我们了解我们的系统，并降低失败的风险，包括现实世界和诱导。

### 真相 2:开发者关心可靠性

开发人员不仅对构建新功能感兴趣。虽然开发团队经常优先考虑功能开发，但这可能是由于业务驱动的计划导致了快速的发布时间表。开发人员——尤其是那些对事件做出响应或通过错误报告工作的开发人员——理解弹性软件的价值。他们只是没有时间去建造它。

问题是，这在我们的应用程序中产生了可靠性差距。在没有充分测试其弹性的情况下快速构建功能会产生故障模式，导致开发人员需要返回并修复问题，从而牺牲新项目。我们在发现这些故障模式之前花的时间越长，我们就越有可能在应用程序中经历意外的行为和中断，解决方案也就越昂贵。

增加开发速度而不测试可靠性会增加失败的可能性，导致我们预期的可用性下降。

为了防止这种差距的形成，我们需要优先考虑并提供适当的工具，以便开发人员可以测试他们的代码并提高我们应用程序的弹性。这就引出了我们的下一个真相。

### 真相 3:你有足够的时间进行混沌工程

混沌工程为您节省了应对、排除和修复生产事故的时间。当您通过混沌工程建立弹性时，您将减少工程时间、精力和花费在事故上的成本，并且可以更加专注于您的核心竞争力。

也就是说，采用混沌工程确实需要一些时间投入。工程师将需要学习[原则和实践](https://www.gremlin.com/community/tutorials/chaos-engineering-the-history-principles-and-practice/)，采用新工具，进行实验和实施修复。但是，与生产中断的成本相比，这相对较小。没有混沌工程，您的工程师将需要暂停他们的日常工作，并急于恢复服务。这是他们可以花在功能开发和其他创造价值的任务上的时间。

几分钟的主动测试可以发现在生产中需要几个小时才能修复的缺陷。

### 真相 4:你的系统支持混沌工程

你不需要使用特定的硬件、软件或云平台来从混沌工程中获益。虽然有些工具有特定的要求，但大多数工具只需要访问主机操作系统。有些甚至可以针对特定的资源，比如容器。

### 真相 5:你不需要全面的可观察性(但这很有帮助)

你不需要一个全面的监控或观察实践来从混沌工程中获益。您的云提供商免费提供的基本指标仍然可以提供关于您的系统如何响应实验的重要见解，一些混沌工程工具可以为您提供基本的监控。

也就是说，[混沌工程在与监控和可观察性](https://www.gremlin.com/community/tutorials/chaos-engineering-monitoring-metrics-guide/)一起使用时提供了更多的价值。我们想知道我们的系统如何响应我们的实验，我们的方法是通过收集指标和跟踪。即使您目前正在实施监控解决方案，chaos engineering 也可以帮助您确定要跟踪的指标，微调您的警报并避免[警报疲劳](https://en.wikipedia.org/wiki/Alarm_fatigue)，从而简化这一过程。

### 真相 6:混沌工程自掏腰包

像任何新的工具或实践一样，混沌工程需要时间和金钱的前期投资。解决方案需要评估和购买，工程师需要时间来适应实践。但是，它提供的价值远远超过这些成本。使用混沌工程可以帮助你:

*   **避免因事故和解决事故所花费的工程时间而导致的收入和生产力损失**。
*   **帮助您建立可靠的系统，为需求增长时期做好准备，从而提高您的销售能力**。
*   **通过帮助您优化资源分配和测试非关键基础设施来节省成本**。

## 真相 7:你可以从今天开始

开始混沌工程就像在系统中部署一个代理并选择一个资源作为实验目标一样简单。你不需要有一个稳定、成熟的 SRE 实践或企业级基础设施。事实上，您可以使用混沌工程来帮助建立您的 SRE 实践或加速迁移到一个新的平台。

最重要的事实是，没有一个系统是完美的，在我们的应用程序和基础设施中隐藏着各种故障模式。混沌工程让我们发现这些故障模式，并将可靠性从神话变为现实。