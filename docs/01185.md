# FLAP，第 2 部分:应用程序供应

> 原文:[https://devops.com/flap-part-2-application-provisioning/](https://devops.com/flap-part-2-application-provisioning/)

在本系列的第 1 部分中，我们讨论了服务器供应工具。在那篇文章中，我们提到了市场上与集成相关的一些比较突出的应用供应工具。这篇文章将关注全层自动配置(FLAP)的应用层。

## 应用程序配置谁是谁

应用程序供应技术很可能是大家熟悉的:Puppet、Chef、Salt 等。我们将逐一查看它们，比较它们在控制机制、操作系统支持和易用性方面的差异(在本系列的第 1 部分和第 3 部分中，主要从服务器供应工具的角度介绍了与服务器供应工具的集成，因为集成必须在服务器供应工具中进行管理)。一个博客太短了，不能深入太多，但这将帮助您确定哪些应该在您的环境中考虑。此处的信息在撰写本博客时有效，但市场发展很快，所以请不要犹豫，查看提供的链接进行改进。因为这个话题很受欢迎，所以也不要犹豫去寻找其他来源提供的最新信息。

值得一提的是，所有这些工具都支持网络设备的配置。对于一个在网络设备供应商那里花了几年时间担心可编程性和互操作性的人来说，这是一个非常好的消息。我还没有时间实际尝试这些支持，所以我将把评估留给你。

给你一个建议:当涉及到真正重要的概念时，整个市场都有矫揉造作的命名病。当你对着“食谱”或“谷物”或其他什么做鬼脸的时候，*学习那些术语。*这可能有些做作，但这些产品的核心和灵魂隐藏在这些名称和它们所封装的概念的细节背后。在评估期间，你最好——当然，一旦选择了一个，你就应该把这些术语和它们的意思背下来。这会让你的生活轻松很多。各种脚本格式也是如此。他们都在交流基本相同的信息，但英语和日语也是如此——了解一种语言并不会自动让你成为另一种语言的专家。花时间去真正理解你所选择的工具的脚本语言。

### [可回答的](https://www.ansible.com)

Ansible 是一个完整的应用供应工具，允许用户通过命令行和脚本的组合来安装和定制应用。该工具有很好的文档记录，易于安装，并且在其设计任务中运行良好。Ansible 提供对运行在 Docker、OpenStack 和 AWS 上的 Red Hat 和 Windows 的支持。值得注意的是缺少了对 VMware 的支持，但是由于机器可以通过 IP 使用，而且操作系统是标准化的，所以可以用 Ansible 管理/编排 VMware 虚拟机。

该工具的开源版本带有命令行界面，通过命令行和编辑脚本进行管理。Tower 等高级附加组件包括 UI、分析和可编程 API。

自从被 Red Hat 收购后，有理由期待 RHEL 对该工具的关注会增加，而非 Red Hat 操作系统的关注会相应减少。这并不确定，但历史表明这是一个可能的长期结果。如果你是一家 Red Hat 商店，Ansible 是一个很好的起点——尽管看看 Satellite——并尝试预测 Red Hat 的各种开放和附加供应工具将如何发展和出现——在这个时间点进行任何评估都是一个好主意。

### [厨师](https://www.chef.io)

Chef 是最早的应用供应工具之一。在开源版本中，它通过命令行和脚本进行管理，在高级版本中，它通过命令行和脚本以及 GUI 进行管理。与 Ansible 不同，许多 Chef APIs 与开源产品捆绑在一起，只有用于高级服务(如分析和报告)的 API 是高级的。

Chef 支持 Linux 和 Windows 的大多数变体，大多数云和虚拟化供应商都提供平台。就支持的完整性而言，它确实在列表中名列前茅。

如果您有一个高度异构的环境，Chef 是一个很好的工具，可以用来自动配置应用程序—无论是部署、更新还是连续交付。

### [Juju](https://jujucharms.com)

Juju 将自己标榜为这个领域中其他产品之上的一个编排层。虽然这种说法有一点真实性，但是在编排 Juju 方面，您可以做的大部分事情也可以通过其他方式来完成。事实上，Puppet 已经在整个复杂的多服务器系统中找到了自己的位置。Juju 在开源版本中附带了 GUI，但是该产品没有传统的 API。

Juju 支持 Ubuntu 和 Windows，并且可以与大多数主要的云提供商互操作。深度服务器供应集成实际上只为 MaaS(另一个规范项目)提供，但是用户已经使它与其他服务器供应工具一起工作。Juju 脚本(charms)主要是用 Ruby 编写的，当然其他语言也是可以的。对于 Ubuntu 商店来说，Juju 将是我放在应用程序供应列表顶端的项目。对于 Windows 商店来说，这绝对值得考虑。对于红帽商店来说，其他解决方案可能更有吸引力。

### [木偶](https://puppetlabs.com)

对 DevOps.com 的读者来说，木偶应该不需要介绍。作为应用程序配置的标准，它使用脚本和命令行来部署应用程序，具有相当广泛的用户支持基础，相当于大量的用户共享脚本。这个列表中的其他供应商也有活跃的社区贡献脚本，但是 Puppet，通过纯粹的数量(和营销)，有更多的选择。

支持所有主要的操作系统，Puppet 的文档是可靠的。唯一的吹毛求疵是，当你来自一个搜索引擎时，你必须小心你是在开源文档还是专业版文档上。Puppet 附带 API，尽管 GUI 只在商业版本中可用。Puppet 是服务器供应工具 Razor 的前身，虽然在本文的第一次迭代中，它已经与所有供应工具一起使用，但随着 Razor 的发展，它将发挥最佳作用并提供最大价值。

对于高度异构的商店，或者包括多个服务器供应工具的商店，Puppet 是一个可靠的选择。虽然它在其他情况下也能很好地工作，但是如果您的环境映射到另一个工具的优势，那么一个更专注的产品的附加值是值得考虑的。

### [盐堆](https://saltstack.com)

Salt 是应用程序供应人群中有趣的一员。他们不像其他一些玩家那样出名，但却有一个值得尊敬的用户群。他们的产品肯定比得上这个市场上的其他产品，而且用户群体相当活跃。SaltStack 与任何服务器配置工具都没有太大的关联，它已经与大多数工具集成在一起。

Salt Master 可以在几乎所有版本的 Linux 上运行，并且可以管理所有主要的 Linux 发行版以及 Windows、OS X 和 Solaris。

像所有这些工具一样，SaltStack 可以管理任何可以通过网络访问并运行支持的操作系统的机器。此外，dev 分支在 Salt Master 中内置了 Salt Cloud，Salt Master 会旋转云映像，自动将它们放入 Salt 并开始管理它们的配置。预计这种类型的功能将成为市场的规范(Juju 也做了一些，其他的有不同级别的云支持)——这是有意义的，它补充了服务器供应。VM 空间中有一点点重叠，但是您可以选择是使用服务器供应还是 Salt Cloud 来处理这些实例。

对于希望使用同类最佳(实际上“最佳”是一个更好的名称)服务器配置以及可靠的应用程序配置工具的高度异构的商店，SaltStack 是一个值得考虑的重磅产品。如果您有一个专注于单个操作系统的更专业的环境，SaltStack 可以工作，但是它对操作系统和服务器供应工具的广泛支持的优势将无法发挥作用。

### [卫星](https://access.redhat.com/products/red-hat-satellite)

Satellite 是 Red Hat 的供应解决方案。与此列表中的大多数其他产品不同，它是服务器和应用程序供应的结合。事实上，Juju 将自己定位为“供应之上的层”。在幕后，Satellite(从版本 6.0 开始)使用 Foreman 进行服务器供应，使用 Puppet 进行应用供应。它仍然在此列表中的原因是，它确实提供了应用程序资源调配，也提供了流程编排。您可以使用它来提升 MariaDB 或 OpenStack，它是一款已上市的受支持产品，因此符合列表中的要求。

正如人们所料，卫星支持 RHEL。它可以管理 RHOSP 和 RHEV 以及 VMware 和 Amazon 的实例，还可以通过 Foreman 管理裸机。Satellite 与 Foreman 和 Puppet 紧密相关，因此如果您在使用该工具集时遇到问题，它不会是您的首选。因为 Satellite 扩展并改进了 Red Hat 网络访问，所以对于 Red Hat 商店来说，它应该是可行选项列表中的第一项，但是如果您使用许多非 Red Hat 机器，包括(从版本 6 开始)Fedora 和 CentOS，它就不那么吸引人了。过去，Spacewalk 是那些 CentOS 和 Fedora 安装的可行选项，但现在它们是独立的代码库，这意味着您必须维护两个不同的系统。在这一点上，值得看看市场上的其他选择。

较新的版本 6 架构旨在提供一个更强大、适应性更强的平台，因此，如果您是 Red Hat 的客户，可以期待看到它的好处，甚至可能取消不支持 CentOS 和 Fedora 的缺点。

## 摘要

所有这些产品在它们最好的环境下都非常好，在它们最差的环境下大多数都会给你带来痛苦。问题是，你有哪个环境？虽然对于给定的环境/工具组合，只有员工可以回答这个问题，但希望这里和其他地方有一些提示可以帮助做出决定。

在第三部分，也是最后一部分，我们将看看服务器和应用程序供应的组合，以提供完整的堆栈自动化。