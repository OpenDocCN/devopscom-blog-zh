# DevOps 聊天:我们创建的软件更安全吗？Veracode 的第十次报告

> 原文：<https://devops.com/devops-chats-is-the-software-we-create-more-secure-veracodes-10th-report/>

应用程序安全性比以往任何时候都更加重要。十多年来，Veracode 通过其源代码漏洞扫描服务检查了越来越多的代码。在此期间，自动化越来越普遍，使得更频繁、更有规律地运行扫描变得更加容易。但是自动化有帮助吗？我们创造的软件更安全吗？我们在 Veracode 的《软件安全状况报告 X 》(第 10 版)中获得了关于这一点的关键见解。

Veracode 的首席研究官 Chris Eng 加入了我们的 DevOps 聊天。我们讨论了在最新报告中发现的许多见解，例如 50%的应用程序随着时间的推移正在累积安全债务，扫描的规律性与漏洞修复时间相关，以及扫描频率直接影响安全债务。

报告中有丰富的信息，你可以在本期克里斯播报的播客中获得关键发现。

[https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/723168013&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true](https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/723168013&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true)

## 副本

米奇·阿什利:大家好。我是 DevOps.com 的米奇·阿什利，您正在收听的是另一个 DevOps 聊天播客。今天，我邀请到了 Veracode 的首席研究官 Chris Eng。我们正在讨论他们的最新报告，软件安全的 Veracode 状态。这是第十卷。克里斯，欢迎来到 DevOps 聊天。

克里斯·英格:谢谢你，米奇。

阿什莉:很高兴你能来。为什么我们不从你给我们介绍一下你自己，你在 Veracode 做什么开始，对于那些不知道 Veracode 的人，就简单介绍一下 Veracode？

如前所述，我是 Veracode 的首席研究官。我已经在这里工作了 13 年，我的团队主要负责为我们的产品积累知识。

因此，我们有许多不同的产品来帮助我们的客户识别他们软件中的漏洞。我的团队基本上确定了——那么，我们在寻找什么样的模式呢？开发人员将要犯的常见错误有哪些？在每种语言中，我们应该寻找哪些重要的东西？并向我们的工程团队说明我们如何做到这一点。

我还负责 Veracode 的产品安全，确保我们向客户提供安全的产品。我们的客户基本上是构建、购买或部署软件的任何人。因此，我们帮助他们使用多种不同的技术，包括静态分析、动态分析、软件合成等，围绕大规模保护该软件构建程序。

因此，我们与任何从事软件工作的人合作，几乎是所有人。

**阿什利:** *【笑声】*毫无疑问，这些天几乎每个人都在进行数字化转型。非常感谢你和 Veracode 的背景介绍。

好吧，让我们开始，你已经做了 10 年的报告，你在公司的时间很长，你已经能够监督并成为这十年过程的一部分。从你出道以来，你学到了哪些东西？你知道，你正在扫描的应用程序和东西的大小，以及今天发生的事情和你从中注意到的任何趋势？

**Eng:** 是的，每年都这样做是一个很棒的过程，主要是因为我们处于一个独特的位置，在这里我们实际上可以看到行业中正在发生的事情，当我们在第一卷中开始这样做时，我们在数据集中只有大约 1，500 个应用程序，然后快进到今年，我们有 85，000 个独特的应用程序。

阿什利:哇。

英格:所以，比我们以前多了 50 倍。我不知道有任何其他研究在软件安全方面有如此大的量化信息。

因此，除了数据集的大小变大之外，我们查看了修复时间，我们发现这些时间大致保持不变，这有点令人沮丧——但话虽如此，现在的软件比以前多得多。因此，有更多的东西要扫描，有更多的东西要保护，所以，你只有这么多的带宽来做这些事情。

所以，我们看到固定时间大致保持不变。我们确实看到，在这 10 年间，没有缺陷的应用程序越来越少。所以，这是我们能力的一个更重要的因素。我们可以探测到比以前更多的东西。但我们也看到，如今没有严重缺陷的应用越来越少。因此，客户在识别和修复高严重性缺陷方面变得越来越好。

我们从多个不同的角度进行了研究，包括合规性趋势等，但在大多数情况下，我认为修复时间是一个有趣的部分，我们对此进行了深入研究，并探索了导致修复时间的一些因素。

Ashley: 嗯，如果你只是想一下十年来发生了什么变化，我的意思是，10 年前，我们想到了 SQL 注入、跨站脚本——你知道，这些都是应用程序的安全缺陷，至少是很多关注点，从那以后事情发生了巨大的变化。*【笑声】*

是的，我们仍然可以看到绝大多数与 10 年前相同的缺陷类别。我不认为任何每天使用 app sec 的人会对此感到惊讶。

阿什利:嗯。

**Eng:** 这些东西在技术上确实很容易修复，但是当它们数量如此之多，跨越如此庞大的应用程序库存时，要关闭它们确实需要付出很大的努力。所以，我们仍然以十年前的速度看待 SQL 注入。其他类别，如跨站脚本，实际上变得更加普遍。

我们已经看到一些下降。我们已经看到，缓冲区溢出和数字错误的发生率降低了。我认为，部分原因是编程语言的变化，对吗？在 C++这样的本地代码中有很多这样的东西，我们今天看到用这些语言编写的应用程序越来越少。所以，我认为这是造成我们所看到的患病率差异的更多原因。

Ashley: 我也想知道，面向服务的架构、微服务等促进代码重用的东西是否会有所帮助。也许不会——我们拭目以待。*【笑声】*

是的，这当然是代码。我的意思是，任何时候出现重用，你知道，你继承了功能，但你也继承了风险，这是一种趋势，因为我们已经看到人们开始使用比以前更多的开源软件。同样，您得到了功能，但也有了风险，这样您就给应用程序带来了新的漏洞。

所以，当然，通过代码重用，就像你提到的，你也可以得到这样的效果。

阿什利:嗯，甚至可能是作为代码的基础设施。报告中出现了一些非常棒的东西。我希望您能谈谈一些会招致债务的应用程序，有多少人在降低这一成本，您知道，这会产生什么样的影响。

是的，我们在这份报告中第一次谈到了证券债务。而且，你知道，大多数人都有一个技术债务的概念——只是，你知道，随着时间的推移，你的软件中的东西变得陈旧和粗糙，可能是架构上的，或者是你打算回去修复但你从来没有这样做的东西，安全缺陷也有同样的趋势随着时间的推移而积累。

如果你把它想象成金融债务，对吧，如果你用信用卡消费，然后每个月只付最低金额，你会在很长一段时间内付很多钱。当你把它加起来的时候，它将会比你应该支付的余额多得多，对吗？

因此，安全债务，当我们从这个角度看安全债务时，我们会看到，随着时间的推移，应用程序是在积累新的安全债务，还是在降低安全债务？当我们看到应用程序中未修复的缺陷数量时，我们会认为这是安全债务，对吗？

你知道，容量是有限的，对吧？对于一个多年来积累了大量安全问题的应用程序来说，很难说“嘿，我们今天就把这些都付清”，对吗？你必须投入大量的工程师来做这件事，你必须集中所有的精力来做这件事。因此，一下子做到这一点通常不太实际，但重要的是要衡量你是修复的比发现的多，还是发现的比修复的多，因为这有点方向性，对吗？

因此，我们发现近一半的应用程序发现的问题比修复的问题多。所以，本质上，他们在累积债务，所以他们永远不会从下面爬出来，除非他们开始扭转局势，对吗？花更多的精力来解决问题，这样，随着时间的推移，他们会减少债务，并达到一个点，好吧，现在没有什么突出的，然后你可以制定一个规则，你知道，“如果我们有新的发现，我们不会允许这个应用程序进入生产或其他任何东西。”

阿什利:嗯。

英格:但那很少见，对吧？所以，几乎没有人在那里。因此，我们研究了不同的债务倾向或方法、实践如何影响证券债务。所以，我想这些是我想谈一谈的一些发现。

**阿什利:**当然，让我们开始吧，因为我很好奇，当我们向左、向右移动时，我们试图更早地获得安全—

**英格:**正是。

阿什利: *【相声】*早些时候，所有这些事情，希望你在它进入 QA 功能或自动化测试之前就解决了。

英格:没错，所有的研究都表明，如果你能更早地解决问题，成本会低得多。这是有意义的——如果您在开发人员编写代码时修复一个缺陷，如果您可以坐在那里，在他们将代码签入存储库之前告诉他们他们做错了什么，这将比您在渗透测试中发现它要便宜得多，比方说，在代码部署之后，您必须找出根本原因，然后您必须找到一个理解该代码的开发人员，并将其放入他们的积压工作中。所以，这是一种公认的理解，越晚做成本越高。

阿什利:那是在你指出它是在谁的代码中，还是在网络或服务器中，或者——你知道吗？

英格:没错，没错——然后它开始追查。所以，我们真的想说，就像，DevOps 对我们修复问题的速度和我们累积的安全债务有影响吗？

因此，从我们的角度来看，请记住客户向我们提交他们的应用程序，DevOps 不仅仅是自动化，它还是文化和流程，以及许多影响您是否进行 DevOps 的因素。但是从我们的角度来看，我们看不到文化，看不到流程，看不到自动化。例如，我们看不到自动化在多大程度上被整合到应用程序测试周期中。

我们使用扫描频率作为一个组织是否在使用 DevOps 的代理。我的意思是，他们每年对一个应用程序运行多少次扫描？因此，您有许多应用程序实际上每年扫描一次，对吗？36%的应用程序每年扫描一次。

阿什利:哇。

如果你想一想软件变化有多快，每周或每月会增加多少功能，那么一年一次就不太好了。另一方面，大约有 0.3%的应用程序基本上每天或更长时间都在扫描。所以，你知道这可能是由自动化完成的。希望没有人坐在那里提交申请。

因此，如果您看一下—报告中有一些图表显示了这种分布情况，但本质上来说，如果您每月扫描一次，与每天扫描相比，您的中位补救时间要快得多。因此，如果每天扫描，修复缺陷的平均时间为 19 天，而如果每月扫描或更少，则为 68 天。

所以，我们把它分成不同的，甚至更多的桶，对吗？所以，我们做了一年一到三次扫描，四到六次，七到十二次等等。仅仅通过音频很难描述这一点，*【笑声】*但是如果你拿出报告，你会看到所有这些类似冰山的图表。所以，你会看到粉色和蓝色，粉色代表债务。这有点低于线，这显示了每个应用程序的杰出发现的数量。

你会发现，扫描越频繁的应用程序，累积的债务越少。从本质上说，团队能够更快地获得债务，虽然债务不会完全消失，但因为这是聚合我们所有的应用程序，所以它积累得更少。因此，我们看到了扫描频率与固定时间和累积证券债务之间的直接关联。

阿什利:自动化当然是有意义的。这将在 19 天左右显示在您的数字中，每天扫描一次。有办法知道它是否正在发生吗？您是否发现扫描比日常扫描更频繁？这有帮助吗，或者有其他的帮助吗——再一次，帮助向左移动？

英格:你知道，我认为一旦你达到每天一次，你可能——我认为之后会有一些收益递减。我是说，想象一下每次有人登记的时候你都做了全面扫描。你只会得到大量的信息——你不可能比一天或几个小时更快地采取行动。所以，每隔几分钟扫描一次并不能给你带来任何好处。

阿什利:嗯。

**Eng:** 所以，我们关注的另一件有趣的事情是扫描节奏。所以，与其说你扫描的频率如何，不如说你扫描的频率如何？所以，你可以想象——这又是一个很棒的图表，实际上这是我在报告中最喜欢的图表，它只是图表上的一堆点。但它的作用是，它映射出每个点代表一次扫描。

因此，如果应用程序在非常稳定的基础上进行扫描，您会看到一年中间隔均匀的点，而如果您以某种突发的方式进行扫描，基本上是大量活动后无活动，那么您会看到一簇点后只有一堆空白。

因此，我们实际上计算了数据集中每个应用程序的节奏，然后我们将它们分组到桶中，同样，对于那些在稳定基础上或突发基础上扫描的应用程序，我们称之为不规则的，不规则基本上只是一堆小突发，对吗？

阿什利:嗯。

**Eng:** 所以，我们想回答的是，扫描节奏如何影响证券债务？如果你稳定地或者以一种突发的方式扫描，你不太可能积累债务，好吗？哪一个能更有效地消除它？

因为你可以预见它的走向，对吗？你可以设置它，你可以——人们可以习惯于看到结果，然后他们可能会忽略它们。而 bursty，你会说，“好吧，我很关注这个。我们会全力以赴”然后，你知道，把它弄下来。

所以，实际上有一个问题。我们不知道会看到什么。但是，当我们打开它时，我们发现当您进行突发扫描时，您会看到所有的空白区域，并且您会随着时间的推移进行一系列活动，就像，您只是—累积了大量的安全债务。您可以看到粉红色数量的大幅增加，这代表没有得到解决的发现，而随着稳定甚至某种程度上不规则的扫描，您会看到安全债务略有增加，但随后开始减少。所以，曲线实际上是朝着正确的方向走向我们能够绘制出来的时间框架的末端。所以，这是我们的另一个好发现。

所以，我们能做的是，我们实际上可以得到这些结论，并建议我们的客户，实际上，任何正在构建软件的人，如果你想减少安全债务，数据表明你应该经常扫描，并且你也应该在稳定的基础上扫描。你不应该放松，对吗？它必须成为——这是有意义的，对吗？我们养成习惯的任何事情都会成为我们做事方式的一部分。所以，很高兴有一些数据能真实地反映出我们认为是真的，实际上却是真的。

阿什利:这有点像，每天刷牙，对吧，而不是去看牙医的前一天。*【笑声】*

英格:是的，没错——那对你没什么好处。

**阿什利:** *【相声】* *【笑声】。*你知道，我还想到，这种突发式的风格是，真的无法预测一个安全缺陷会在你的代码中存在多久，因为你可能现在就找到它并修复它，但它可能是——如果再过三个月或其他时间你再扫描，谁知道它什么时候会被修复？它可以在那里生存很长时间。

**Eng:** 对。我们确实发现——你提到这一点很有趣——缺陷被修复的最高概率是在第一个月左右。因此，你等待的时间越长，某个缺陷被修复的可能性就越小。

所以，从本质上来说，开发者优先排序，就像，后进先出。如果是新鲜的东西，他们更有可能优先修复。这不是我们想看到的，对吗？我们希望看到开发者修复更重要的东西。我们希望看到他们修复更严重的项目或应用程序中对业务更关键的项目，或比其他项目更容易被利用的项目。

但是，当我们衡量所有这些因素，并寻找能够表明他们以安全从业者认为合理的方式进行优先排序的模式时，我们发现，就某个问题是否会得到修复而言，最近的发现实际上是最高的相关性。

阿什利:嗯。

因此，我们必须更好地确定优先级，不仅要理解安全人员会做什么，还要让开发人员采用同样的优先级。

**Ashley:** 你显然没有衡量这其中的人类心理因素，但我不得不相信你已经积累了如此庞大的债务，在某种程度上，它变得太难寻找、理解、理解，甚至可能有一个放弃率，就像“太大了，让我们现在就处理我们盘子里的东西，这是扫描结果”并跳到它上面。

Eng: 是的，这并不奇怪，看到客户采用这种策略并不罕见。这个想法——好的，我现在开始这个项目，在第一天。我现在负责 appsec。你知道，我来之前发生的任何事？那不是我的问题。让我们专注于不引入新的缺陷——这很好。比如，不引入新的缺陷很好，但这对你过去的任何事情都没有帮助。

**阿什利:**对。

**Eng:** 最终，这都是应用程序的风险，对吗？你可能会受到这些方式的攻击。但是我们已经看到——我们已经看到大客户试图采取这种方式，你知道，这是不可取的。你必须还清债务。即使你不能一次完成所有的事情，也许你在你的生命周期中进行安全冲刺，你会找到一种方法来支付它，最终，你会到达你想去的地方。但是你不能忽视它，然后说，“没有新的缺陷了。”就债务而言，这不会让你如愿以偿。

而且以后修理东西也要花更多的钱，对吗？我们等待的时间越长——你知道，想象一下你有一个要修补的库，而这个库已经过时一年或五年了。修复一个已经过时五年的产品将会花费你更多的精力。东西不可避免地会坏掉，因此修复的成本也会随着时间的推移而增加。

**Ashley:** 在这份报告中，有数百个发现，如果不是更多的话，*【笑声】*。不仅仅是挑出一个，但我很清楚，C++中有一个统计数据比。同期的净收益。所以，这就意味着，语言有很大的不同，为什么会这样呢？

英格:是的，你知道，我们确实按语言进行了分类，只是看了一下每种语言累积了多少证券债务。这并不是说——好吧，如果你用的是 C++，你应该重写。NET 或其他语言。这对大多数人来说不太实际。

阿什莉:当然，是的。

但是它确实表明，随着时间的推移，某些语言更有可能积累债务。重要的是不要过多地关注缺陷的原始数量，因为有些语言天生就更能抵御某些类型的缺陷，对吗？在某些语言中，搬起石头砸自己的脚要比其他语言困难得多。

阿什利:嗯。

但是看看曲线的形状，比如，某些语言的安全债务会增加吗？这是一种——这是一种至少要注意的东西，如果您的应用程序清单的某些部分是用 PHP 编写的，例如，您应该意识到这些应用程序可能会比。网上的。

阿什利:嗯。

英格:所以，这是你做计划时要考虑的事情。

阿什莉:好的。非常好。嗯，我们可能会谈论这个问题好几天，*【笑声】*这里有太多的信息。

**英格:** *【笑声】*

**Ashley:** 所以，我们不会给每个人留下堆积如山的“哦，天哪，这里有这么多东西需要学习和理解，”如果你是一名开发人员、首席开发人员、开发经理或架构师，坐在那里听这些，会说“好吧，我需要知道什么？”你会推荐哪几个外卖？

英格:是啊。你知道，我会重申一些我们讨论过的事情，但本质上，安全自动化，特别是如果我们看一下扫描频率，它肯定落后于 DevOps 的普遍采用，对吗？DevOps 有点像火箭船一样起飞，安全自动化，就像我提到的，只有 5%的应用程序每周扫描一次或更多。因此，在这方面还有一些工作要做。

好消息是，当你真的这样做了，当你真的做了频繁而稳定的测试时，你可能会达到一个点，你可以开始削减安全债务，最终，随着时间的推移，降低安全债务，这样你就可以采取一种策略，你知道，没有新的缺陷，让自己保持干净的步伐。

最后一点，我认为安全团队和开发人员之间需要就优先级进行对话。你知道，我谈到了开发人员如何没有以一种真正安全的方式进行优先级排序，尽管最近似乎比其他任何因素都重要。因此，我认为，大多数团队可以在这方面做出一些改进，即使有同样多的带宽来修复缺陷，他们也可以花时间修复那些比最近才出现的问题更重要的问题。

所以，我认为这些是一些要点，就像你说的，报告中有很多。这是一本非常有趣的读物，我鼓励人们去拿一本并通读一遍。

阿什利:做得很好，如果我自己这么说的话——很好地组合在一起，克里斯。人们可以从哪里获得报告？

**英格:**它在我们的网站上，所以[Veracode.com](https://www.veracode.com/)，它应该在那里的首页，而且——是的，它后面有大约 50 页的 PDF。

阿什莉:好的，很好。我们也会在这一集的描述中加入一个链接，所以。

优秀的。

阿什莉:非常感谢你。我很感激你能来，克里斯。

英格:是的，我的荣幸。

阿什莉:有你在真是太好了。再次感谢今天的嘉宾，克里斯·英格，他是 Veracode 的首席研究官，当然，也感谢你，我们的听众，今天加入我们。我们知道您的时间很宝贵，这是一个很好的话题——安全很重要，我认为拥有这些信息对我们所有人都非常有价值。

我是米奇·阿什利，来自 DevOps.com，你已经听到了另一个 DevOps 聊天播客。在外面要小心。

— [米切尔·阿什利](https://devops.com/author/mitchellashley/)