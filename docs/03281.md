# 威胁建模:为什么、如何、何时以及哪些工具

> 原文:[https://devo PS . com/threat-modeling-the-why-how-when-and-which-tools/](https://devops.com/threat-modeling-the-why-how-when-and-which-tools/)

您可能听说过威胁建模是一种用于识别和管理威胁的结构化活动。威胁建模可以应用于广泛的领域，包括软件、应用程序、系统、网络、物联网和业务流程。

威胁建模的座右铭应该是，“越早越好，但不要太晚，永远不要忽视。”如果没有威胁建模，您的安全就是一场赌博，在当今的商业环境中，您肯定会输。

当您设计应用程序时，在软件开发生命周期(SDLC)的不同阶段，您会面临一些安全问题，因此从一开始就在 SDLC 中进行威胁建模有助于保护正在开发的应用程序，并内置安全性。

简而言之，威胁建模是在开发生命周期的最早阶段确定威胁和漏洞的过程，以确定差距并降低风险，从而保证构建安全的应用程序，节省收入和时间。

## 为什么要进行威胁建模？

*   最好是在有时间修复安全缺陷时发现它们。
*   它可以节省时间、收入和您公司的声誉。
*   构建安全的应用程序。
*   在开发者和安全之间架起一座桥梁。
*   它提供了所有已识别威胁和已评级威胁的文档。
*   它提供关于最新风险和漏洞的知识和意识。

## 如何进行威胁建模

许多人认为只有安全工程师才能进行威胁建模。不是这样的。从开发人员到软件项目经理，任何人都可以建立威胁模型。事实上，我建议他们还应该了解一点威胁建模作为他们工作的一部分。

让我们看看威胁建模的要素:

**资产:**应该保护哪些有价值的数据和设备？

**威胁:**攻击者能对系统做什么？

**漏洞:**系统中有哪些缺陷可以让攻击者实现威胁？

***威胁建模步骤***

![](../Images/3e7711312f8caf437412dd0704060df0.png) **步骤 1:** 识别资产(数据库服务器、文件服务器、数据湖存储、活动目录、REST 调用、配置屏幕、Azure 门户、认证和匿名 web 用户、Azure AAD 客户端应用、数据库用户、数据库管理员)

**步骤 2:** 概述处理有价值资产的架构的细节。它可能包括软件框架、版本和其他架构细节(ASP.net web 应用程序使用 JWT 令牌连接到云数据存储和第三方服务)。

**第 3 步:**根据应用程序的进程分解应用程序，包括运行应用程序的所有子进程。我们创建一个数据流图(DFD)。

**步骤 4:** 以描述的方式列出已识别的威胁，以供审查并进一步处理。

**步骤 5:** 使用并行实例对威胁进行分类，以便可以以结构化和可重复的方式在应用程序中识别威胁。

**第 6 步:**评定威胁的严重程度。

### ***威胁建模方法论***

**STRIDE** (使用以应用为中心的方法)

*   **[假冒](https://en.wikipedia.org/wiki/Spoofing_attack)** 的用户身份
*   **[篡改](https://en.wikipedia.org/wiki/Tampering_(crime))**
*   **[抵赖](https://en.wikipedia.org/wiki/Non-repudiation)**
*   **I** 信息泄露([隐私泄露](https://en.wikipedia.org/wiki/Data_privacy)或[数据泄露](https://en.wikipedia.org/wiki/Data_leak))
*   (DoS)拒绝服务
*   **[特权提升](https://en.wikipedia.org/wiki/Privilege_escalation)**

**PASTA** (以风险为中心的方法): **P** 过程进行 **A** 攻击 **S** 模拟和 **T** 威胁 **A** 分析

**TRIKE** (基于风险的方法，具有独特的实施和风险建模流程)

**浩瀚** ( **V** isual， **A** gile 和**S**simple**T**hreat 造型)

**OCTAVE** (重点评估信息资产泄露可能导致的组织(非技术)风险。)

## 何时使用威胁建模

简而言之，在 SDLC 的早期阶段，执行威胁建模:

*   每当系统架构发生变化时。
*   发生安全事故或引入新的漏洞后。
*   一旦架构准备好。

在 SDLC 的早期阶段并不强制执行威胁建模；您仍然可以在任何阶段进行威胁建模，即使它接近部署。

威胁模型在不断变化，您今天准备的模型明天可能就不再有效。而且很难说你已经免受所有的威胁。但是，如果您已经执行了威胁建模，并尽一切努力最小化您的安全风险，至少一些非常糟糕的事情发生的影响将是可管理的(同样，希望如此，但不是保证)。

## 执行威胁建模的工具

我使用了两个工具进行威胁建模，这两个工具都是免费使用的。

1.  OWASP 威胁龙
2.  微软威胁建模工具 2016。

让我们来看看这两种工具:

| **微软威胁建模工具 2016** | **        OWASP Threat Dragon** |
| 免费提供完整版本(截至目前) | 阿尔法版本可用，缺陷仍然存在。这是一个 OWASP 孵化器项目，所以它处于早期阶段。 |
| 可用的可安装桌面应用程序。 | 该工具有两个版本:一个是 GitHub 的在线 web 应用程序，另一个是可安装的桌面应用程序。 |
| 在 Microsoft 网站上很容易获得文档。默认威胁模板可用。 | 您必须搜索，默认威胁模板存在 |
| 我发现 UX 更好，独特的方法可用，用户可以更好地了解威胁。绘制模型时的指导和反馈。 | 好 UX。有趣且吸引人的用户体验。 |
| 目前使用该工具进行威胁建模。 | 也许我会用。我认为会继续改善。 |
| 最终用户文档可用。 | 还提供最终用户文档。自动化威胁。 |
| 威胁网格，模板编辑器，缓解现有的 DFD。 | 减轻现有的 DFD。强大的威胁缓解。规则尚未编码，因为它是阿尔法阶段。 |
| 附带一组使用步幅类别的基本威胁定义。 | 即使在当前阶段(alpha)，你也可以从这些步幅类别中制造威胁。 |

— [德巴尔基亚·潘迪特](https://devops.com/author/debarghya-pandit/)