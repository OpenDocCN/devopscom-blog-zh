# 供应链安全:下一个网络安全管理软件产品已经发生了吗？

> 原文:[https://devo PS . com/supply-chain-security-has-the-next-solarwinds-always-have-happen/](https://devops.com/supply-chain-security-has-the-next-solarwinds-already-happened/)

网络安全管理软件产品公司现已臭名昭著的黑客攻击事件发生两年多后，这一事件在关于网络安全防御、威胁检测和[事件响应](https://devops.com/?s=incident+response)的对话中占据了非常重要的位置。作为证据:网络安全管理软件产品事件是最近在三藩市举行的 RSA 会议上的五次单独会谈和小组讨论的主题。另外几十次会谈讨论了与供应链安全相关的问题，这些问题直接或间接地引发了网络安全管理软件产品事件。T3】

这是因为网络安全管理软件产品的攻击对软件开发和 DevOps 团队以及运行软件的公司都提出了重要的(如果不是存在的)问题。首先:如果老练的网络犯罪分子可以将恶意后门程序直接插入声誉良好的开发人员的应用程序代码中，那么哪个组织能够承受盲目信任软件的后果呢？第二:如果现在软件团队  的责任是发现他们开发管道中复杂的、有条理的妥协，那么最好的和最可靠的方法是什么？最后，如果现在软件消费者的工作也是监视和检测来自其他知名厂商(如网络安全管理软件产品)的受损二进制文件，考虑到目前的人员和技术限制，他们应该如何去做呢？T3】

这些问题的答案是 DevOps、软件开发和信息安全社区中争论的问题。毋庸置疑的是，网络安全管理软件产品事件并非偶然。在那次攻击后的几个月里，攻击者——包括犯罪分子和国家支持的攻击者——利用软件供应链的安全盲点来攻击开发组织，以此作为获取敏感 IT 环境的手段。虽然我们还没有听说过另一个像网络安全管理软件产品这样规模或重要性的事件，但完全有理由假设下一个网络安全管理软件产品式的妥协可能已经展开，只是尚未被发现和/或公开承认。

## 软件供应链安全弱点

SunBurst 是网络安全管理软件产品软件中的恶意植入程序，它一直是信息安全专业人员、开发人员和开发组织感兴趣和谈论的话题，这正是因为它暴露了开发组织和软件供应链的安全性中的明显弱点。正如我在 2020 年 12 月对黑客 的 [分析和对同一妥协的](https://blog.reversinglabs.com/blog/sunburst-the-next-level-of-stealth) [FireEye 的](https://www.mandiant.com/resources/evasive-attacker-leverages-solarwinds-supply-chain-compromises-with-sunburst-backdoor) 分析中指出的，网络安全管理软件产品黑客在他们实际发起攻击前几个月就获得了对该公司开发环境的访问权。在此期间，他们仔细研究了底层源代码，并模仿网络安全管理软件产品的风格和术语，因为他们添加了恶意代码，并通过公司构建系统的妥协将其集成到网络安全管理软件产品猎户座应用程序中。T9】

尽管经过精心策划和实施，网络安全管理软件产品的袭击并不是万无一失的。攻击者留下了线索，例如他们添加了本机 Windows 功能，使用了加密技术，压缩等等。攻击者使用压缩和 Base64 编码来混淆这些内容，这些编码旨在欺骗简单的威胁搜索规则，这些规则会查找它们的明文变体和其他可疑字符串。尽管如此，在整个植入代码中重复出现的混淆足以向任何愿意仔细观察的人发出危险信号。这使得攻击很容易被发现。

问题是这样的:很少有软件发行商有员工、专业知识或工具来梳理大量的代码库，以便在部署它们之前发现一些粗略的模糊字符串或分析大型二进制文件的异常行为。作为证据，ReversingLabs [发起了一项针对软件驱动型企业 300 多名 IT 专业人士的调查](https://blog.reversinglabs.com/blog/survey-finds-software-supply-chain-security-top-of-mind-for-dev-teams) 。调查发现，87%的人意识到软件篡改，就像网络安全管理软件产品攻击中发生的那样，可能会导致企业安全漏洞。大约 40%的受访者表示 [CI/CD 工具链](https://devops.com/?s=CI/CD+toolchain)暴露给他们的组织带来了风险。尽管如此，只有不到三分之一的受访者(37%)表示他们有办法检测这种软件篡改攻击。

## 对软件开发组织的威胁在增长

攻击者意识到了软件开发管道中的这一弱点，这就是为什么对开发组织的威胁正在转移。仅在去年，我们就目睹了一系列针对开发基础设施和软件供应链的攻击。在 2021 年 4 月的一次  事件中，攻击者成功地 [将恶意的、未经审查的代码直接推送到 PHP 主分支](https://news-web.php.net/php.internals/113981) ，最终导致一个受损的、正式的 PHP 版本被推送到所有 PHP 网站。同月，CodeCov 公司发生了一起 [违规事件，涉及对该公司 Bash 上传程序脚本的未授权访问和修改。对该事件的调查最终得出的结论是，未经授权的第三方对该脚本中的一行代码的修改使得攻击者能够(潜在地)导出存储在用户持续集成(CI)环境中的信息。T11】](https://about.codecov.io/security-update/)

最近，ReversingLabs 观察到概念证明和“白帽子”活动测试所谓的“依赖混淆”攻击，其中攻击者在 GitHub 等公共存储库中设置恶意包，这些包占用私有、非公共存储库的名称，并炫耀高版本号。软件包管理系统中的错误配置会导致这些恶意组件被导入，而不是合法的、私有管理的同名组件。正如 ReversingLabs 发现的那样，在 npm 平台上发现的大量 [恶意模块被用来针对德国的技术、制造和娱乐公司](https://blog.reversinglabs.com/blog/npm-dependency-confusion-hacks-target-german-firms) 。后来发现这是一家白帽公司代表这些公司进行红队演习的结果。撇开红队演习不谈，RversingLabs research 还检测到了其他的，恶意包在[【NPM】](https://develop.secure.software/groundhog-day-npm-package-caught-stealing-browser-passwords)，以及类似的针对 [红宝石](https://develop.secure.software/mining-for-malicious-ruby-gems) 和 [Python 包索引(PyPi)](https://develop.secure.software/suppy-chain-malware-detecting-malware-in-package-manager-repositories) 的攻击。

这还不包括 Travis CI 漏洞，该漏洞向 GitHub、亚马逊网络服务和 Docker Hub 上的开发者账户(潜在地)暴露了数百万张凭证[](https://develop.secure.software/software-supply-chain-alert-7-million-cleartext-access-tokens-in-travis-ci-logs)。这样的失误会助长供应链攻击，让恶意行为者有能力将恶意代码插入合法的开源或专有代码库中。看了这样的标题，没有检查代码意图的方法，开发人员怎么能相信他们的软件会更新呢？他们如何做到这一点，同时被迫频繁更新其依赖关系，以减少或消除关键的软件漏洞？

## 开发团队需要新的工具

对于努力满足交付期限和满足客户期望的软件开发组织来说，重新定位以解决无定形的软件供应链威胁和攻击是一座太远的桥梁。对于努力为安全团队配备人员并简单地控制有针对性的网络钓鱼攻击或对公共 IT 资产的威胁的企业来说，情况也是如此。通常，这些实体只是在软件供应链攻击发生后才发现它们的存在。

软件开发组织需要的是一种保护 CI/CD 管道和发布包的方法，确保他们的软件构建没有代码篡改和其他通过构建系统引入的供应链风险。这应该包括通过监控恶意软件更改和在软件构建过程中实施安全控制和故障条件来检测危害的能力，以确保您可以放心地发布您的代码。

在客户端，组织需要一种方法，在编译后的二进制文件发布到生产环境之前检测其中的恶意行为和未经授权的软件更改，同时监控编译后的代码中可能隐藏的风险，如暴露的秘密或可利用的软件漏洞。