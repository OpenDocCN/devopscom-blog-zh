# DevSecOps 实施:EDR/XDR

> 原文：<https://devops.com/devsecops-implementation-edr-xdr/>

我们在之前的博客中提到过主机入侵检测和网络入侵检测，并顺便提到过几次防火墙。让我们深入研究一下历史，了解这些工具的功能是如何随着时间的推移而发展的。

在主机方面，在互联网发展的早期，我们就有了各种形式的病毒检测。这个想法是，如果一个反病毒程序可以扫描你的文件，它可以帮助保护你免受恶意应用程序。应用于一个组织，如果反病毒应用程序可以扫描所有用户的桌面，它可以帮助保护该组织。它确实有点作用。大多数组织都或多或少受到了防病毒软件的保护。然后，他们意识到需要看到比简单扫描文件所能显示的更多的东西。磁盘上看似无害的文件在执行时可能会汇编恶意代码，因此也需要监视运行时环境。一般来说，相同的反病毒公司带头进入运行时保护。但是，保护系统不仅仅是查看正在运行的应用程序。脚本，甚至数据库条目，都可能被恶意利用，长时间的活动可能表明比病毒更大的问题——入侵。这个问题就是主机入侵检测诞生的原因。所有系统都需要始终受到保护，这一理念创造了一个主要基于代理的环境，该环境监控运行系统的几个方面，以监视可疑活动。

在网络方面，防火墙是在互联网发展的早期实现的，允许通过网络对公司资源进行有限的访问。如果没有人需要 telnet 到子网 X 上的机器，子网 X 的 telnet 端口可以简单地在防火墙上被阻塞，并且不需要因为尝试连接而丢失睡眠。几乎在防火墙出现之后，它们就开始记录访问端口的尝试，并且这些信息可供网络管理员查看。这对主机的管理产生了有趣的影响，因为现在，如果一个内部主机不断试图做一些不应该做的事情，防火墙可以通知网络管理员——可能表明入侵或坏员工(通常情况下，结果是训练不足、好奇的员工只是四处闲逛)。但防火墙——无论是使用白名单还是黑名单方法——都是脆弱和/或具有干扰性的。他们还只是简单地堵住了外围的漏洞，而没有采取主动。这时，一些聪明人意识到，如果您监控通过防火墙的数据流，您可以检测攻击和入侵，并为管理员提供有关潜在威胁的主动信息。这就是网络入侵检测的起源(至少，和所有这些一样，我可以把它塞进一个博客)。

但是随着时间的推移，需要更多。尝试了网络入侵防御，但大多数组织不希望自动系统切断连接，因为害怕影响真实用户。虽然它仍然存在，但它并没有获得那么大的吸引力。可以说，下一步是“把点连接起来”。如果主机 A 上的 HIDS 检测到可疑的行为模式，那么让网络中其他主机上的 HIDS 检查类似的行为才有意义。跨 HIDS 安装的命令和控制是[端点检测和响应](https://devops.com/?s=EDR) (EDR)的核心，它从多个 HIDS 代理收集信息，并将其关联起来，以获得单个主机可能没有注意到的更全面的视图和活动警报(一个超级简化的示例:如果同一用户帐户试图在十几台机器上通过一次尝试获得超级用户权限。HIDS 可能不会对单次尝试发出高优先级警报，但是 EDR 会在 12 台不同的机器上看到 12 次尝试，而不仅仅是给定机器上的一次尝试，并且可以发出高优先级警报。

扩展检测和响应(XDR)将这种信息融合和分析扩展到网络端，包括尝试访问网络(在我们上面的简单示例中，想象一下如果同一个用户帐户试图通过 ssh 访问它无法访问网络的机器)。

在撰写本文时，EDR 和 XDR 正在使用机器学习(ML)来更快地处理他们看到的所有数据，并在向人类操作员发出关键警报的同时限制误报。在攻击者和安全人员之间持续不断的争斗中，我可以称之为最先进的。其他攻击媒介和 XDR-failure 攻击无疑会出现，并且必须得到回应，但是现在，如果你有一个公开暴露的网络，这是你能得到的最好的。供应商已经将 EDR 和 XDR 分析都转移到了云上，表面上是为了改进分析。它确实减少了客户必须执行的维护量，但云的使用附带了一个运营价格标签，潜在客户在签署虚线之前应该明白这个标签。大多数中型或大型组织不存在存储或处理能力不足的问题，因此在大多数情况下，运营效率才是您真正需要支付的。确保物有所值，如果您无法访问云中的 ML 引擎，您应该有一个计划。

同时，继续踢后面。用“至少我们不是[网络安全管理软件产品](https://www.fireeye.com/blog/threat-research/2020/12/evasive-attacker-leverages-solarwinds-supply-chain-compromises-with-sunburst-backdoor.html)”来标记每一天，并且记住:你在一个动态和敌对的环境中尽你最大的努力来保护组织。庆祝每一天的成功，因为有人尝试过。