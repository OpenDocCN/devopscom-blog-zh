# 从迁移到云原生

> 原文:[https://devo PS . com/moving-from-lift-and-shift-to-cloud-native/](https://devops.com/moving-from-lift-and-shift-to-cloud-native/)

分析公司 Forrester 最近 [预测](https://www.forrester.com/blogs/predictions-2022-cloud-computing-reloaded/)2022 年 将会看到大型组织决定性地从“搭便车”的方法转向云，转而拥抱云原生技术

[根据](https://www.gartner.com/en/newsroom/press-releases/2021-11-10-gartner-says-cloud-will-be-the-centerpiece-of-new-digital-experiences) Gartner 的调查，超过 85%的企业“到 2025 年将接受云优先原则，如果不使用云原生架构和技术，将无法全面执行其数字化战略。”

正如 Gartner 分析师所言，“云原生平台改进了传统的提升和转移云方法，这种方法未能利用云的优势，并且增加了维护的复杂性。”

这里发生了什么事？长期以来，迁移被视为将现有工作负载迁移到云的一种相对快速且廉价的方式，这种方式真的会成为一种过时的方式吗？云原生的未来真的到来了吗？

我认为正确的答案现在就在中间的某个地方。是的，许多公司已经采用了云优先战略，将云作为其大部分或全部应用需求的假定起点。但许多其他公司仍然混合了内部基础架构和公共云基础架构，并有机会从一个基础架构转移到另一个基础架构，而不是整体的[云原生](https://containerjournal.com/?s=cloud-native)模型。

在许多组织的云之旅中,“提升和转移”一直是而且仍然是非常自然和有效的步骤。您只需将应用程序的副本从内部数据中心重定向到云中，无需重新设计应用程序的架构或代码。

这种方法提供了一种快速有效的方式来利用云的优势:能够将 IT 资金集中在运营(租金)而不是资本(自有)支出上，并利用云中可扩展的计算能力、存储和其他服务。

与提升和转移相比，云原生方法需要更长的时间和更多的劳动力，因为它需要许多移动部件来重新设计整个应用生态系统。回报是更低的总拥有成本和更灵活、响应更快的基础架构。

如果许多公司仍在提升和转移，为什么分析师们如此乐观，认为它正在退出？因为升降移位并不像看起来那么简单和便宜。它本质上将最终的重新设计推迟到云原生，但仍然需要在容量、人员、资金和时间上的投资。

首先，尽管 lift-and-shift 承诺作为一种简单的方式将现有的应用程序迁移到云上，但是对于组织来说，不管他们有多少计划，在执行过程中遇到一些技术障碍是很常见的。在传统环境中以某种方式工作的应用程序在云中可能不会以完全相同的方式工作，这些细节必须解决。

其次，公司经常被云“价格休克”弄得措手不及，这是指当工作负载超过与云提供商商定的容量时发生的令人不快的计费意外。

第三，虽然提升和转移是在云道路上前进的一种方式，但它不是最终目的地。

云原生计算基金会 [将](https://github.com/cncf/foundation/blob/main/charter.md) 云原生技术定义为使组织能够“在公共云、私有云和混合云等现代动态环境中构建和运行可扩展的应用。容器、服务网格、微服务、不可变基础设施和声明式 API 就是这种方法的例子。”

这是一个比提升和转移所需的中间步骤大得多的愿景。

仍在从事大量搬搬工作的公司应该做些什么来为他们云优先的未来做准备呢？

1.疯狂地集装箱化。虚拟化改变了游戏规则，因为它允许公司抽象出硬件，并在单个硬件上运行多个虚拟机。这使得最佳实践朝着按功能划分虚拟机的方向发展。因 Docker 和 Kubernetes 而出名的流程容器是这一概念的逻辑扩展:剥离操作系统的冗余部分，使每个逻辑单元只包含它被设计来实现的功能所需的内容。这一点，再加上分离应用程序和数据的更谨慎的方法，是云原生企业的秘密武器。容器在企业中的采用一直在快速增长——Gartner 预测，到 2024 年，容器将成为“75%的新客户企业应用的默认选择”。这一趋势预示着从提升和转移到云原生的转变，并使组织更接近“一次编写，随处部署”，因为每个主要的云平台和许多内部工具都提供了作为一等公民运行容器的机制。

2.考虑技能等式和你想努力的方向。每一家实施云原生战略的公司都需要仔细研究他们在多大程度上需要架构师和其他熟练的专业人员来实施这一战略。他们需要考虑在内部雇佣员工、外包给第三方专家以及利用公共云产品(如减少劳动力需求的无服务器计算)方面什么是合理的。  更明智的做法可能是，例如，专注于将应用程序开发迁移到容器，但依赖公共云容器平台、 [低运营 Kubernetes](https://microk8s.io/) 或 [托管数据中心 Kubernetes](https://ubuntu.com/kubernetes/managed) 服务，而不是试图并行构建这种能力。

3.严重依赖自动化。容器封装了它们所需要的一切，其中一个优点是它使构建、测试和部署它们成为 CI/CD 管道的一部分变得更加容易。由于它们通常也更容易水平扩展，因此可以自动扩展应用程序以响应外部因素。对云原生应用采用 [模型驱动的方法](https://juju.is/about) 可以帮助开发团队和开发人员理解复杂软件部署之间的概念部分和关系，同时自动化一些细节和生命周期管理。监控微服务会带来一系列挑战，因此确保您正在使用的可观察性工具能够有效用于云原生应用程序非常重要。原生云可以带来巨大的可扩展性优势，但前提是要有足够的自动化来限制云优先之旅中的摩擦。

4。 **拥有强大的更新策略。** 转移到容器将你的软件起源和更新问题分散到更多的部分；容器通常不被更新，而是被更新的版本替换。这改变了您传统的更新方法。比以往任何时候都更重要的是，您在构建时放入这些容器中的片段具有良好的软件来源和更新故事。

5。**整体思考。** 无情地评估哪些应用可以是云原生的，哪些应该留在数据中心，然后考虑混合云的真正好处。一些组织陷入了这样的思考:他们需要将所有东西全部转移到云中。也许云原生并不适合所有事情。

整个行业从“搭便车”到云原生的转变正在加速。记住这五点，公司也会对自己的前进充满信心。