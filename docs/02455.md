# 纳税日 IT 课程，或者如何避免在一年中最重要的一天筋疲力尽

> 原文:[https://devo PS . com/tax-day-it-lessons-or-how-to-avoid-to-avoid-out-on-your ' s-big day of the-year/](https://devops.com/tax-day-it-lessons-or-how-to-avoid-wiping-out-on-your-biggest-day-of-the-year/)

去年的这个时候，美国国税局(IRS)正在为一年中最重要的一天做准备，存储网络中的一个固件错误正在等待系统崩溃。当纳税日到来时，最后一刻申报者的冲击引发了持续 11 个小时的全系统停机，并迫使国税局将其申报截止日期延长了一天。

国税局下周还有一次机会，但它的 it 团队远非唯一一个在今年最重要的一天犯错的团队。2015 年，政府的[Healthcare.gov](https://healthcare.gov/)网站在奥巴马医改推出的当天[受到崩溃](https://www.cbsnews.com/news/healthcaregov-plagued-by-crashes-on-1st-day/)的困扰。去年，亚马逊的网站[在 Prime Day 开始时崩溃](https://www.theverge.com/2018/7/16/17577654/amazon-prime-day-website-down-deals-service-disruption)，几个月后，沃尔玛的系统[在黑色星期五开始时出错](https://www.tomsguide.com/us/black-friday-sales-crash-walmart,news-28621.html)。

这些小故障可能会给组织造成数百万美元的损失，更不用说对其声誉的打击和给客户带来的不便了。随着纳税日的临近，值得看看任何组织可以采取的一些步骤，以避免在重要日子到来时出现尴尬或代价高昂的小故障。由于突然的流量高峰或未经测试的代码，这些场合充满了风险。

以下是组织可以采取的步骤，以最大限度地降低中断的可能性。

## **拥有您信任的部署流程**

人们经常谈论代码冻结作为解决方案，但这不应该是你的第一直觉。代码冻结束缚了你在最后一刻进行修改的手脚，让我们面对现实吧，很少有团队提前几个月就把代码搞定了。更好的方法是拥有一个坚如磐石的部署流程，让您相信您运送的东西不会损坏。以下是它应该包括的一些要素:

*   **生产前的可信测试门**。您和您的团队需要确信您发布的代码可以在客户使用的设备和浏览器上运行。有很多方法可以做到这一点，但要关注这些因素:所需的吞吐速度、你愿意承受的风险水平，以及让 bug 进入生产环境给你的企业带来的成本。
*   没有人力瓶颈的全自动流程。没有什么比试图将一个补丁发布到生产环境中，却发现有权限批准发布的工程师在 PTO 上。
*   **适当的环境升级**。与上述相反，不要直接发货到生产现场！拥有一个合适的临时服务器，它是生产环境的足够好的副本，这样您就可以在与生产环境相匹配的条件下测试您的应用程序。
*   **良好的测试数据管理**。这是软件公司失败的领域之一。陈旧的数据、不像生产中那样有边缘或细微差别的数据以及包含个人身份信息(PII)的数据都是非常常见的罪魁祸首，这是测试中最难解决的问题之一。

## **稳健性压力测试**

在高流量时期，新的东西打破。压力测试有助于确保服务在高负载下继续运行，但是您需要一种基于实际用户行为的现实方法。当你的新应用上线时，你能应付 20，000 个用户，都试图同时注册吗？客户会通过什么途径访问你的网站或应用程序？过去有哪些功能导致了问题？找出共同的途径和潜在的问题领域，并对它们进行压力测试。

## **建立质量文化**

对于工程师来说，大事件令人恐惧的一个原因是突然强调以前缺乏的责任和质量。在最后一刻解决质量问题肯定不如从一开始就建立质量文化有效。就像大多数管理一样，做好这件事的唯一方法是为你的团队建立责任，并直接把质量的所有权交给他们。一些快速的想法:在你的代码审查步骤中增加一个功能性审查，为你的团队提供工具，这样他们可以在预生产特性上进行自我测试，并通过工程支持轮换让他们感受到进入生产的 bug 的痛苦。

## **测量和指标**

实现这种质量文化部分依赖于良好的测量和度量。可悲的是，这是当今最薄弱和最不明确的发展领域之一。因为不可能直接观察生产中的质量——因为您只能知道被捕获的 bugs 所以创建一些 QA 过程覆盖的度量并将其与业务联系起来会更有成效。一种方法是查看您的客户在生产中使用您的应用程序的方式与您在生产前测试它的方式之间的差异。这可以让您深入了解覆盖不足或覆盖过度的领域，并且是衡量 QA 中的增量投资是否真的会带来投资回报的有用方法。

## **如果你不能做到任何一点…好吧，求助于代码冻结**

如果你没有一个防弹的部署过程，代码冻结是一个蛮力的选择。它束缚了你的手脚，使你不能在最后一刻做出改变，但至少确保你不会在没有足够的时间发现它们的情况下增加新的风险。根据过去的经验，持续时间取决于您的团队发现生产问题需要多长时间。如果你没有这些数据，六到八周可能是一个安全期。但是真的，如果这是你在比赛日避免问题的主要策略，你可能做错了工作。

## **审查补丁管理策略**

这个可能对国税局有所帮助。其存储供应商 IBM 在几个月前发布了一个导致系统崩溃的漏洞补丁，但国税局没有应用它，因为它是不符合其生产测试要求的代码包的一部分。一份政府报告得出结论，国税局需要更有效地审查这些决定，并记录整个过程。底线:有一个适当的结构和流程，确保您在是否应用新补丁方面做出明智的决策。

其他问题也导致了国税局的崩溃:其存储系统没有自动故障转移或内置冗余，造成了单点故障。不幸的是，几个因素凑在一起反对它，但运气不是你应该依赖的东西。一个大型活动的成功执行不是在短短的几个月内就能实现的。它包括建立正确的文化和实践来指导你全年的发展和运营。这将极大地降低风险和你需要做的准备工作。

— [弗雷德·史蒂文斯-史密斯](https://devops.com/author/fred-stevens-smith/)