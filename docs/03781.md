# 在企业中扩展开发运维时面临的主要挑战以及如何克服这些挑战

> 原文:[https://devo PS . com/top-challenges-when-scaling-devo PS-in-the-enterprise-and-how-to-conquer-them/](https://devops.com/top-challenges-when-scaling-devops-in-the-enterprise-and-how-to-conquer-them/)

***准备采用 DevOps 对任何规模的组织来说都是一项挑战。扩展 DevOps 并将其引入企业需要特殊的策略。使用这些技巧来建立你的生活。**T3】*

DevOps 原则适用于所有组织。每个人都有可以通过遵循 DevOps 实践来实现和超越的业务目标。然而，一个组织的规模将不可避免地影响它在实现和扩展 DevOps 时所面临的困难程度。一个大的企业组织会比一个小的组织遇到更多令人畏惧的障碍，即使他们的问题在性质上是相似的。

无论您的组织规模如何，您可能都想知道在 DevOps 转型期间会发生什么，并问自己可以使用哪些策略来克服任何复杂性。幸运的是，你现在有了"[devo PS 手册](https://www.amazon.com/DevOps-Handbook-World-Class-Reliability-Organizations/dp/1942788002)"来寻求建议。这本书是一个极好的资源，它将从困难经历中学到的最重要的见解提炼为克服常见 DevOps 障碍的简单步骤和解决方案。

如今，DevOps 组织在不牺牲质量、性能或安全性的情况下，比许多其他组织发展得更快。这篇博客文章将涵盖“DevOps 手册”中的一些有用的策略，这些策略将帮助您克服您的组织在向 DevOps 转变的过程中可能面临的挑战。

## 改变组织的文化

DevOps 过程中的第一个障碍是管理文化和期望。在整个组织中扩展开发运维需要改变您的业务对自身的看法。它还包括重新思考你向客户交付价值的过程。目标是让您对产品和服务所做的更改更快地提供给客户。用技术术语来说，这归结为部署发生的频率。DevOps 流程使用正反馈循环来快速向客户交付价值。

* * *

**相关内容:**

什么是敏捷 IT 组织？

[Everything Ops:devo PS 原则的应用是否过于广泛？](https://devops.com/everything-ops-devops-principles-applied-broadly/)

* * *

为了实现这个目标，“DevOps 手册”说，有必要将你的重点从成本优化转移到速度优化。优化速度不需要大规模的、自上而下的重组。相反，这意味着给团队更多的自主权。不同的技能(如开发、运营和信息安全)应该嵌入到现有的团队中。这将使团队变得自我服务，这将使他们能够更安全和有效地开发、部署和操作他们的软件。大多数成功的组织，如网飞和亚马逊，将他们的成功归功于这种方法。

然而，建立自助团队只是文化变革的一部分。你还必须改变你的员工对自己和工作的看法。让我们以精益制造流程的先驱丰田为例。“丰田方式”推动了公司的成功，正如迈克·罗泽尔在《[丰田拳](https://www.amazon.com/Toyota-Kata-Managing-Improvement-Adaptiveness/dp/0071635238) *》中所写的那样*在书中，他解释说，虽然结构重组是实现整体改善的重要一步，但投资于员工的发展也很重要。你必须以他们的技术工作能力为基础，并养成不断学习和实验的习惯。丰田通过使用罗泽尔所谓的[改进形](http://www-personal.umich.edu/~mrother/The_Improvement_Kata.html)实现了这一点，这是一个基于协调理论和证据的实现目标的模型。

DevOps 组织将持续学习和实验整合到日常工作和决策中。可验证的实验，如 A/B 测试和群组分析，可以推进业务目标。挑战在于建立数据驱动的学习框架。产品所有者和其他决策者需要各种业务遥测。因此，工程师必须合作并实现提供它所必需的一切。每个人都可以——也应该——使用这种遥测技术来了解业务和 IT 在任何时间点发生了什么。

Etsy 是一个很好的例子，说明一个组织已经很好地实现了遥测技术。根据“DevOps 手册”，2011 年，Etsy 开始跟踪 200，000 个业务层指标，在其部署仪表板上显示了 30 个最重要的指标。到 2014 年，该公司已经跟踪了超过 800，000 个这些业务指标。这种对遥测技术的高度专注使得工程师的工作变得更加容易，尤其是在部署之后，能够快速完成业务和技术文档。

下一个障碍是将遥测技术与不断学习和实验的实践相结合。当过程尽可能快地进行时，这两种实践能够最好地协同工作。

## 更快的迭代

解决与速度相关的挑战比其他挑战需要更多的技术努力。DevOps 要求所有级别的快速反馈循环，从一套新的工程实践开始到结束。

### 基于主干的开发

首先，你应该开始使用[基于主干的开发](https://trunkbaseddevelopment.com/) (TBD)。TBD 是源代码控制分支的一个模型，在这个模型中，多个开发人员在一个单独的分支上一起工作。使用 TBD，开发人员每天将代码签入主干一次或多次。使用这种方法具有强大的连锁效应。自动化测试是针对整个系统运行的，所以如果有什么东西坏了，马上就能看出来。TBD 还减少了长期运行的功能分支，这些功能分支可能最终会产生困难的合并冲突或引入意想不到的错误。

TBD 的另一个优点是它自然地保持了较小的变更，这意味着它们更容易审查、测试和推理，同时保持你的代码处于可发布的状态。它还可以帮助您减少环境总数，每月可以轻松节省数万美元。

### 自动化部署

接下来，您应该自动化您的部署过程。这需要尽可能多地自动化中间步骤，包括开发人员工作站设置、测试环境设置、环境升级、部署本身和遥测数据收集。这是一个崇高的目标，但是将它发挥到极致会产生强大的业务成果。更多的人能够更频繁地部署。部署变得更小、更安全、更常规，生产缺陷的数量也减少了。

要做到这一点并非易事，因为参与其中的每个人都必须采用“自动化第一”的思维模式。从自动化更容易出错和重复的任务开始。这项工作值得您花费时间，因为自动化增加了吞吐量并减少了错误。

Etsy 是自动化部署的忠实粉丝。根据可在“DevOps 手册”中找到的 2014 年 Etsy 案例研究，“任何想要执行部署的人都可以执行部署，例如开发、运营或 Infosec。Etsy 的部署流程已经变得如此安全和常规，以至于新工程师将在他们工作的第一天执行生产部署，Etsy 董事会成员甚至狗也是如此！”你可能不想在你的控制室里有真正的狗，但是你肯定想要那种程度的自信和满足。

## 集成信息安全

这种自动化程度对于开发人员和运营人员来说听起来很棒，但是信息安全呢？对他们来说，法规遵从性和安全性等主题不一定是事后才想到的。DevOps 之所以成功，是因为它使用快速反馈循环在软件开发过程的早期识别和修复问题，但信息安全和法规遵从性通常在最后才出现，给所有相关人员带来了巨大的障碍和问题。

信息安全是另一种技能，如 QA 或运营，因此它可以嵌入跨职能团队。然后，团队可以一起工作来解决已知的安全问题，例如作为 CI 的一部分测试包的漏洞。测试适当的秘密，比如数据库连接字符串，也可以自动化处理。团队还可以集成静态分析，在代码执行前检测可能的问题。

连续交付实践也适用于此。与安全相关的指标，如总密码重置、潜在的 SQL 注入、XSS 攻击、核心转储和其他奇怪的事件，应该集成到部署管道中。这样做可以在事故期间为整个团队提供可见性和可立即采取行动的信息。

## 自底向上缩放

大型企业组织结构复杂。有很多领导，也有更小的团队，每个人都有自己的使命和文化。因此，试图自上而下地改变事情是一个很大的错误——它根本行不通。自底向上扩展是一种更好的方法，有几种方法可以实现这一点。

从小处着手是最好的建议。我们建议你找一小群志趣相投的人，给他们技术自主权、目标和你的信任来改善业务。这可能会帮助他们解决过去阻碍他们的技术性债务问题。他们会尝试新方法，在战壕里学习。

不幸的是，没有 DevOps 训练营这样的东西——只有原则和技术实践。团队中的每个人(以及整个组织)都有责任弄清楚 DevOps 对他们意味着什么。希望他们的结果能说明一切。自然，其他团队会对他们如何工作和思考感兴趣。随着时间的推移，一些团队成员甚至可能准备好培训他们的同事。

塔吉特百货的罗斯·克兰顿使用了一个“技术创新中心”，也就是通常所说的 DevOps 道场。Dojo 教练帮助 Target IT 部门的团队提升他们的实践状态。“30 天挑战”是他们最强化的训练。受阻的开发团队带着他们的工作，与专门的教练和工程师一起工作。挑战的目标是在不到 30 天的时间内为您的团队解封。根据 Clanton 的说法，参加这项挑战帮助许多团队在几天内完成了通常需要几个月的工作。完成这些挑战解决了许多内部问题，并最终使组织作为一个整体更有成效。

## 结论

在您的组织中，扩展开发运维的方式不止一种。在这篇博文中，我们回顾了 DevOps 的三个主要原则，它们将在你的旅程中为你提供帮助。首先，你需要开始改变你的组织的文化和组织结构，以适应“分而治之”的策略。接下来，建立有助于您尽早发现错误的协议。这样做将提高反馈循环的速度，这将有助于更快地交付客户价值。第三，投资于新思想的持续学习和实验。

使用这一点和“DevOps 手册”中的其他建议，您可以满怀信心地完成 DevOps 转换。如有疑问，我们建议您参考这一优秀资源，以获得更多有用的提示。

— [拉米·萨斯](https://devops.com/author/rami-sass/)