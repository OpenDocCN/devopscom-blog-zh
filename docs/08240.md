# DevOps 的工程应用(六)

> 原文：<https://devops.com/engineering-applications-for-devops-part-6/>

这个博客系列解释了如何为 DevOps 设计应用程序。

本博客系列涵盖的主题包括:

用于决定应用程序是否适合开发运维的因素。DevOps 的工程设计实践。
·devo PS 应用于企业应用和软件服务。
devo PS 应用于 COTS 系统。
·devo PS 应用于制造(嵌入式)系统软件。
应用成熟度的五个层次。

这个博客涵盖了应用程序成熟度的五个层次。你可以在这里[阅读](https://devops.com/engineering-applications-for-devops-part-2/)[第一部分，在这里](https://devops.com/engineering-applications-for-devops-part-1/)[第二部分，在这里](https://devops.com/engineering-applications-for-devops-part-3/)[第三部分，在这里](https://devops.com/engineering-applications-for-devops-part-4/)和[第四部分，在这里](https://devops.com/engineering-applications-for-devops-part-5/)。

## **应用成熟度的五个级别**

为什么年轻的应用程序比老的应用程序更成熟？DevOps 最适用于增量更改，而不是耗时的大型复杂更改、构建、测试和部署。DevOps 在短暂的云计算基础设施中也能很好地工作，这些基础设施可以根据支持构建、测试和部署需求的短期工作负载需求快速扩展和缩减。

虽然现有的应用程序最终将被现代化，以利用云，但绿地应用程序的设计应利用基于云的平台和应用程序交付的最新进展。

以下段落描述了应用程序成熟度的五个级别的特征。

**意大利面应用**是较老的、单一的遗留应用设计，往往又大又复杂，就像一大碗杂乱的意大利面。这种复杂性的出现部分是因为这些旧应用程序随着时间的推移积累了大量的代码和补丁，部分是因为架构方法在构思时没有考虑模块化、面向云的需求。意大利面应用程序最不能利用云基础设施。

**模块化应用**强调将应用组件分成功能独立、可互换的模块的架构设计，这样每个模块都包含执行所需功能的一个方面所需的一切。

模块接口表达了模块提供和需要的元素。接口中定义的元素可以被其他模块检测到。模块通常使用一种称为面向服务的体系结构(SOA)的设计风格，其中服务是自包含的黑盒，通过网络协议作为服务向其他应用程序模块提供功能。SOA 可能会与微服务架构混淆。

SOA 和微服务架构之间有一些对 DevOps 很重要的关键区别。相比 SOA 架构，微服务更受青睐，因为微服务更细粒度，并且在功能上受到限制。SOA 使用企业服务总线进行通信，而微服务使用更轻量级的无状态协议和作为产品管理的 API。

对 SOA 模块的更改通常需要新的应用程序版本，而对微服务的更改通常只需要替换微服务。模块化应用程序向云的迁移可能需要返工，以利用云的特性，如自动伸缩。

**使用十二因素应用模块化设计原则的云就绪应用**更加先进。这些模块化设计强调自动化的声明格式、与底层操作系统的清晰契约以及执行环境之间的可移植性。在现代云平台上的部署消除了对服务器和系统管理的需求，最大限度地减少了开发和生产之间的差异，并实现了最大灵活性的连续部署。

这些特性和功能使应用程序能够在不对工具、架构或开发实践进行重大更改的情况下进行扩展。基于 VMware vSphere 或 Microsoft Hyper-V 的虚拟机可通过云基础架构服务(IaaS ),轻松将云就绪应用映射到可用的虚拟机。

云就绪应用不需要重新架构或重构。它们以较低的可用性提供了最轻松的云迁移。但是，传统数据库、第三方应用程序和自主开发的业务应用程序等工作负载通常不是为集群或高可用性而设计的，因此会出现单点故障。

云就绪应用的维护成本高昂。这主要是由于它们消耗计算、存储和网络资源的方式，即使在空闲时也是如此。应用程序的每个组件都运行在专用的虚拟机中，没有优化的余地。升级或修补会导致停机，并使维护变得复杂和昂贵。最终，与云优化或云原生应用相比，云就绪应用从云中获得的价值更少。

**云优化应用**利用云提供商提供的托管服务。例如，他们使用数据库即服务(DBaaS ),而不是在虚拟机中运行数据库。云优化应用通常以云的平台即服务(PaaS)交付模式为目标。它们是便携式的，可以部署在 IaaS 或 PaaS 中。这减少了部署占用空间，为 IT 团队提供了灵活性。这些应用程序非常灵活，能够轻松地扩展和缩小，从而实现资源的最佳利用。与云就绪应用相比，升级、修补和维护云优化应用更易于管理。

云优化应用的缺点是迁移到云的学习曲线。开发人员、操作员和系统管理员将不得不学习部署和管理工作负载的新方法。能够访问源代码的业务线应用程序是云优化应用程序的绝佳候选。它们可以被重新设计和架构，以利用云的优势。云优化应用可以与云就绪应用集成和互操作。

**云原生应用**是在云中诞生的应用的最新迭代。他们通过利用弹性、事件驱动的资源优化和更快的发布周期等功能来充分利用云。处于设计和架构早期阶段的应用是云原生的完美候选。

云原生应用被设计为联合微服务，打包和部署为容器，并通过现代 DevOps 流程进行管理。当您的组织需要扩展到云中的数千种服务时，微服务应用架构提供了超越整体模块化架构的主要优势，包括:

独立的微服务更适合不同的技术堆栈。
联合微服务支持系统不同部分的独立部署。
隔离部署增加了系统的弹性和容错能力。
每个微服务的扩展特性可能不同。
API 被用作连接器。
无状态协议有助于确保无缝恢复。
事件驱动编程减少了开销和流程延迟。
抗脆弱实践预防意外故障模式。

云原生应用的目标部署环境包括容器即服务(CaaS)和功能即服务(FaaS)。这类应用程序提供了终极的可扩展性和可用性。结合持续集成和持续部署，软件可以快速交付，从而加快上市时间。它在开发人员、测试人员、操作人员和最终用户之间带来了闭环反馈。

云原生应用需要容器化、微服务以及构建和发布管理的新技能。然而，与其他应用模式相比，投资回报率更高。仍处于设计阶段的绿地应用程序非常适合采用云原生模式。

## 云迁移的多样化应用

迁移到云的大型企业将处理各种各样的应用程序。通过混合连接和集成，意大利面条式、模块化、云就绪、云优化和云原生应用将共存并彼此互操作。如果您追求模块化的好处，请确保不要欺骗自己进入只提供微服务的思维模式。

探索您最喜欢的技术堆栈的进程内模块化特性或框架。你将得到支持来加强模块化设计，而不是仅仅依靠惯例来避免混乱的代码。然后，慎重选择是否要招致微服务的复杂度惩罚。有时候你别无选择，但往往，你能找到更好的前进方式。

### **这意味着什么**

这篇博客是解释如何设计最适合 DevOps 的应用程序的系列文章之一。本博客系列涵盖的主题包括:

用于决定应用程序是否适合开发运维的因素。DevOps 的工程设计实践。
·devo PS 应用于企业应用和软件服务。
devo PS 应用于 COTS 系统。
·devo PS 应用于制造(嵌入式)系统软件。
应用成熟度的五个层次。

这个博客涵盖了应用程序成熟度的五个层次。你可以在这里[阅读](https://devops.com/engineering-applications-for-devops-part-2/)[第一部分，在这里](https://devops.com/engineering-applications-for-devops-part-1/)[第二部分，在这里](https://devops.com/engineering-applications-for-devops-part-3/)[第三部分，在这里](https://devops.com/engineering-applications-for-devops-part-4/)和[第四部分，在这里](https://devops.com/engineering-applications-for-devops-part-5/)。

有关如何开发开发应用的更多信息，请参考我的书[工程开发应用](http://mybook.to/engineeringdevops)。