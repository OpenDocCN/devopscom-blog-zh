# 选择正确的 API 解决方案

> 原文:[https://devops.com/choosing-the-right-api-solution/](https://devops.com/choosing-the-right-api-solution/)

谈到 API，现在有了比以往更多的选择，这是一件好事。但这也意味着您需要一个战略计划来选择正确的 API 解决方案。

我发现有两个问题可以帮助我做出这个决定:

1.  你现在正试图解决什么问题？
2.  在未来五到十年内，您需要什么功能？

一旦你清楚答案，你可以根据以下五个标准评估 [API](https://devops.com/?s=API) 解决方案，选择最适合你需求的一个。

## 表演

在竞争激烈的全球市场中，仅有可靠的正常运行时间是不够的。速度也很重要——非常重要。一秒钟加载的网站 [转换率比五秒钟加载的网站](https://www.portent.com/blog/analytics/research-site-speed-hurting-everyones-revenue.htm) 高三倍。

为了适应当前客户对页面速度的期望，API 响应时间应该不超过 90 毫秒。实现超快的 API 速度的一个方法是采用客户端方法，将数据传送到 CDN 网络的边缘节点，而不是存储在数据中心的某个服务器上。

但是让我们回到我上面介绍的第一个问题:你想解决什么问题？如果你是一家在线零售商，你希望你的网站加载速度快，这样你的客户就不会点击 *和* 你希望网站上的一切都是准确的——例如，如果一件商品在客户浏览时售罄，他们就不能把它放入购物车。

不是每个功能都需要同样的速度。例如，产品描述内容大多是静态的，而库存则不是。因此，由您的 CMS 的 API 交付的内容可能不需要与来自事务引擎的数据相同的速度。

虽然高性能对您使用的每个 API 都很重要，但每个 API 需要满足的实际性能基准会因功能和您要解决的最终用户问题而异。

## 证明文件

对于您采用的任何 API 解决方案，完整的文档都是必备的。如果没有完整的文档，您的团队将被迫通过反复试验以及耗时的支持交互来找出如何使用 API。强大的文档让开发人员更有效地使用 API，并最终更快地将产品推向市场。

但是，即使在提供全面文档的提供商中，有用的种类也有多有少。例如，我已经阅读了大量的文档，这些文档是在假设阅读它的人已经理解了 API 是如何工作的情况下编写的。这使得新开发人员更难学习和理解 API 的功能。

当你考虑供应商时，寻找那些为完全不熟悉 API 的人编写文档的供应商——你和你的团队几乎肯定是这样的。作为一个文体指南，看看 Mozilla、MDM 和 W3 学校的文档，我认为它们在与非专家交流方面做得很好。

为了评估潜在供应商文档的有用性，我建议让您的团队阅读一些文档，并询问合作伙伴团队他们多久更新一次。最好的情况是，他们认为文档是一个进行中的项目，永远不会完成。

## 安全性

的安全性是不言自明的，所以我不会在这里花太多时间。任何 API 提供者都应该提供强大的安全性，以确保 API 不会被坏人恶意使用或被黑客攻击来暴露敏感信息。REST APIs 几乎总是遵循像 0Auth 和 TLS 这样的标准来维护安全性。值得看看您使用的 API 是如何描述其安全实践的。

## 灵活性和可扩展性

你的团队应该有自由用你使用的 API 创建他们想要的任何东西，这意味着他们不应该被 API 设计中的障碍所阻碍。这种创造的自由应该存在于 API 的所有方面:它应该让您的团队创造他们可以想象的任何客户体验，它应该让您以对您的组织有意义的任何方式管理后端信息。

换句话说，一个 API 解决方案应该是定义良好的，但不应该定义你可以用它做的一切。

## 定价模型

最后要考虑的是 API 的定价模型，我指的不仅是它的实际成本，还有提供商使用其服务的收费方式。

比如它是按订单收费吗？按带宽？按记录数量？这又回到了你试图解决的问题:例如，如果你有很多请求，不要选择限制每分钟请求数的服务。

即使一种定价模式适用于您今天的业务，它在您扩大规模时还能起作用吗？这个问题让我想到了我的最后一个想法。

## API 解决方案应该使其易于增长和发展

我以两个关键问题开始这篇文章，以指导选择 API 提供商的过程:你正在解决什么问题，你的业务将走向何方？

如果你正在探索 API 作为平台再造项目的一部分，那么很有可能你在 10 年前选择了一个可以做任何事情的平台——但是它跟不上不断变化的客户期望或者限制了你的团队今天的创造力。您选择的 API 应该让您满足当前的需求 *和* 随着您需求的发展，可以很容易地进行更改——包括将一个 API 提供者换成另一个。

换句话说，当你选择了正确的 API 解决方案，你就永远不需要再做一个平台。