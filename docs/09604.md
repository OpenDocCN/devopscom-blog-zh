# 对 API 开发者感同身受

> 原文：<https://devops.com/empathy-for-the-api-developer/>

安全团队一直被软件团队视为交付的障碍，他们认为安全强加了武断和不合理的策略，并使用了被高误报率困扰的集成不良的工具。随着 DevOps 的出现，安全性被视为快速部署周期的一个越来越大的障碍。

安全团队认为开发人员不关心安全，会尽力避开安全控制或策略。安全团队在修复漏洞时经常会受到开发人员的阻挠，特别是当他们没有意识到在生命周期的后期进行代码和依赖关系更改的级联效应时。

从我的角度来看，我脚踏两个阵营，有十年的经验帮助开发人员生产更安全的代码，我相信解决团队之间脱节的关键是培养对开发人员更大的同理心。

## 为什么不安全的软件存在

软件开发是一项复杂的工作，有许多(通常是相互冲突的)需求。将不安全的软件归咎于软件开发人员是一种过于简单且适得其反的方法，一位前同事对此做了最好的总结:

“我可以告诉你，几乎所有和我交谈过的开发人员都关心应用程序的安全性。他们关心他们创造的产品的质量，他们的软件处理的数据的完整性，以及他们为之工作的组织的声誉。”——[吉姆·贾斯特泽布斯基，维拉 code](https://www.veracode.com/blog/secure-development/appsec-managers-should-have-empathy-developers)

从我的经验来看，开发人员不会故意着手创建不安全的软件；相反，它的发生有许多原因。

开发人员过于乐观:开发人员是有创造力的人，是天生的问题解决者。他们常常可以想象出自己工作的完美最终结果，而不必考虑他们可能会遇到的技术和安全债务。记住——事情确实会出错。

**过度自信:**我经常把这称为开发者的邓宁-克鲁格效应。面对复杂的平台、语言和框架，开发人员往往高估了他们理解和掌握它们的能力。复杂的系统需要时间来完全理解，过于自信会导致意想不到的后果并危及安全性。当心不安全的默认和配置。

**坏事只发生在其他开发者身上:**把这当成是对开发者的一种幸灾乐祸吧。在与开发人员一起审查代码的过程中，我惊讶地听到这样的评论，“……但这不会发生在我的代码上！”尽管有大量相反的证据，一些开发人员认为坏事只会发生在其他人和其他人的代码上。采取防御心态；做最坏的打算，抱最好的希望。

**走捷径:**开发人员以目标为导向，希望按期产生工作代码。时间安排很紧。不可避免的后果是，有时走捷径(例如，缺少错误处理程序或输入验证)会导致安全漏洞。追踪并解决你的[技术债务](https://devops.com/?s=technical+debt)。

技术债务或遗留代码:说到技术债务，这可能是开发人员面临的最大问题之一:技术债务的消耗和遗留代码的维护。软件系统是复杂的，微小的变化可能会造成巨大的破坏，尤其是在基于微服务的应用和架构中。请记住，开发人员可能有合理的理由担心做出并非绝对必要的更改。

**这个东西很难:**要想发展共情肌，最需要记住的就是体会软件开发过程的难度。开发人员在紧迫的时间期限内面临着多种相互冲突的需求，并且需要掌握多种技术。错误会发生；重要的是吸取教训，改进流程。

这句话完美地抓住了最后一点:

*“90%的安全问题只是复杂性问题。这是技术的复杂性，是网络的复杂性，是组织的复杂性。”*——[艾德里安·路德维希，亚特兰大人](https://www.atlassian.com/blog/technology/security-empathy-collaboration)

## 开发人员的护理和喂养

一旦安全工程师对开发人员面临的挑战有了更好的理解，他们就可以在交流安全问题时专注于他们的消息传递。请记住，开发人员不太可能对每个问题都负有个人责任，也不应该受到指责或责骂。这将产生防御性行为，不太可能取得积极的结果。关注共同面临的安全挑战，以及联合方法如何解决问题。

开发人员经常提到的一个问题是安全工具产生相对较高的误报率，尤其是代码扫描工具。安全工程师应该确保工具适合您的技术堆栈，并尽可能对工具进行微调。理想情况下，安全团队应该对初始报告进行分类，并删除明显的误报。

此外，某些遗留安全工具不能很好地集成到 CI/CD 管道中，并且不能在构建过程中轻松地自动化。如果开发人员不得不使用手动或异步过程来执行安全扫描，他们会感到沮丧，并可能忽略这一需求。确保安全工具与开发人员的环境和工作流程配合良好。

不要假设每个开发人员都对已识别的安全问题有深刻的理解——花时间彻底解释它们和/或在内部记录它们。一个很好的方法是进行共享学习会议，开发人员和安全团队一起通过一个易受攻击的应用程序来学习概念。

开发人员列举的另一个挫折是缺乏对安全需求或不断变化的需求的清晰理解。确保安全策略得到明确陈述，并且可供开发人员使用，并解释这些策略最初存在的原因，例如，为了满足 PCI DSS 鉴定。

最后，确保合并后的团队不仅有时间学习，还有时间**吸取教训**，并且成功得到认可和奖励。

“天总是要塌下来——我们从不庆祝成功。”–[克里斯·罗密欧，安全之旅](https://techbeacon.com/security/why-developers-dislike-security-what-you-can-do-about-it)

## 增强开发者的能力

那么，对于 API 开发者来说，开发者同理心是什么样子的呢？

首先，API 开发者和安全工程师都可以从积极安全模型中受益，该模型使用 [OpenAPI](https://www.openapis.org/) 定义作为 API 行为的契约。该合同未指定的任何内容都被视为无效——换句话说，该合同指定了*允许列表*。这与传统的网络安全方法形成了鲜明的对比，传统的方法依赖于根据*阻止列表*进行阻止——显然，并不是所有的不良输入都是已知的，这种方法会导致误判。过于激进的阻塞可能会阻塞有效的输入，并且通常会导致误报；熟悉操作 web 应用程序防火墙(WAFs)的用户。

OpenAPI 定义提供了另一个优势:可应用的策略可以在定义中表示为代码，而不是通过一些冗长、抽象的策略文档。策略即代码的好处是从开发人员第一次开始编写 API 代码时开始，在整个生命周期中统一实施策略。

最后，开发人员需要在他们首选的环境中工作的安全工具(例如，一流的 IDE 和 CI/CD 插件),并以补救指导或可操作的发现的形式提供价值，帮助开发人员减少技术债务。

安全和发展不一定是不一致的；通过建立同理心和与他们合作而不是反对他们来帮助开发人员自助。