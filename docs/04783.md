# 开发运维设计—最佳实践

> 原文：<https://devops.com/design-devops-best-practices/>

如果没有良好的设计实践，DevOps 实现就没有希望兑现其加速高质量和大规模创新的承诺。

任何做过设计师的人都知道**好的 DevOps 设计是** **说起来容易做起来难。**我的博客“[开发运维的 7 大支柱](https://devops.com/2016/08/01/7-pillars-of-devops-essential-foundations-for-enterprise-success/)”确定了构成成功开发运维的 7 个基本最佳实践领域。七大支柱之一是面向 DevOps 的设计。博客解释说，支柱不是筒仓，而是需要保持平衡的基础。也可以说，好的设计对弥补其他支柱的不足大有帮助。

这适用于任何数量的设计，包括传统、绿地或棕地产品的设计。平台项目、功能增强或修复都是如此。对于企业三层应用或者多层产品都是如此。不管开发人员是使用敏捷、瀑布还是 ITIL 过程，这都是事实。

在每一种情况下，设计师都面临严峻的挑战，并被期望平衡相互冲突的目标。设计师被期望快速减少工作积压，同时生产出高质量的产品，避免昂贵的拒绝和退回。此外，在有限的时间和资源下，增加创造性内容相对于纠正性内容的投入比例也是一种压力。这些相互冲突的目标构成了艰巨的责任。如果没有最佳实践的支持，整个设计体验就是一个压力大锅，很快就会筋疲力尽。

以下最佳实践改进了设计体验和设计产品，简化了开发运维流程:

### 设计师必须彻底理解客户用例

可用性、可靠性、可扩展性、可用性、可测试性和可支持性比单个特性更重要！建议质量重于数量。预期客户实际使用的设计是最成功的。

### 文化需要支持设计师

领导者必须通过激励、指导和培训来支持设计师。没有一个设计师会知道所有的事情。如果吸取了教训，改进很快就来了，设计师犯一些错误是可以的。包括持续监控和快速补救在内的良好 DevOps 实践是有助于将任何错误的影响降至最低的实践示例。

### 设计编码实践至关重要:

*   产品被设计为支持模块化的独立打包、测试和发布。换句话说，产品本身被划分成模块，模块之间的依赖性最小。通过这种方式，可以构建、测试和发布模块，而不需要一次性构建、测试和发布整个产品。
*   在可能的情况下，根据 12 因素不可变非单片应用程序的原则，应用程序被设计为模块化、不可变的微服务，可随时部署在云基础架构中，而不是单片可变架构。
*   在提交到集成/主干分支之前，使用同行代码评审预先检查软件代码变更。
*   软件变更与最新的集成分支版本一起集成到私有环境中，并在将软件变更提交到集成/主干分支之前使用功能测试进行测试。
*   开发人员定期提交他们的代码变更，至少每天一次。

### 良好的 DevOps 设计实践支持 QA:

*   了解 QA 流程。
*   在提交到集成/主干分支之前，通过单元测试预先检查软件代码变更。
*   在提交到集成分支之前，使用静态分析工具预先检查软件源代码变更。静态分析工具用于确保修改后的源代码不会引入严重的软件错误，如内存泄漏、未初始化的变量和数组边界问题。
*   在提交到集成/主干分支之前，使用动态分析和回归测试对软件代码变更进行预先检查，以确保软件性能没有降低。

### 良好的 DevOps 设计实践支持运营:

*   了解交付和部署管道流程。
*   在检入过程中，软件功能使用软件开关(即功能标签或切换)进行标记，以实现选择性功能级别测试、升级和恢复。
*   在代码变更被检入的同时，自动化测试用例被检入到集成分支。通过测试的证据包含在签入中。
*   试验是在飞行前的试验环境中进行的，该环境是生产环境的近似复制品。

### 实现面向开发运维的设计实践需要支持工具:

*   可以根据需要轻松编排、创建和发布的弹性基础设施，以支持设计人员以最小延迟按需完成任务。
*   设计、代码管理、监控和测试工具随时可用，可扩展，延迟最小。
*   监控工具，可跟踪应用程序流程性能，并以易于使用的格式向设计人员报告结果，无延迟。

## 开发运维设计摘要

你怎么想呢?您是否同意以上是 DevOps 设计的重要最佳实践？还有其他你推荐的吗？

虽然与所有七大支柱一起实施的 DevOps 为长期企业业务改进奠定了坚实的基础，但了解 **DevOps 不是一个孤岛**非常重要。实施 DevOps 的企业应该知道 **DevOps 与其他 IT 系统和实践互操作。**我们建议企业选择与工具无关的 it 合作伙伴，这些合作伙伴能够提供最适合每个独特企业需求的解决方案，并且能够将 DevOps 与其所有 IT 系统集成在一起并不断发展。

[马克·霍恩布洛尔](https://devops.com/author/marc-hornbeek/)