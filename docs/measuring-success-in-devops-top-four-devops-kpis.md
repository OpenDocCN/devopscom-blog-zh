# 衡量 DevOps 的成功:四大 DevOps KPIs

> 原文：<https://devops.com/measuring-success-in-devops-top-four-devops-kpis/>

DevOps 概念没有新闻。许多公司已经集成了 DevOps 来改进和加速软件开发，并帮助推动他们的[数字化转型](https://devops.com/how-leadership-drives-digital-transformation-success/)，而且这个数字还在继续呈指数级增长。现在有完整的工具生态系统、方法和转型模型，以及无穷无尽的资源，可用于指导公司踏上 DevOps 之旅。

但是 DevOps 的成功很难衡量。DevOps 不是一个正式的框架；它更多的是一种文化和一套实践，而且只有有限的指导来确保你做得正确或准确地衡量你的成功和失败。DevOps 在每个组织中看起来也不同，没有两个 DevOps 商店是相同的。

然而，尽管 DevOps 组织的定义模糊不清，但有一些核心关键绩效指标(KPI)应该适用于所有 DevOps 环境:资产管理、监控、持续集成/持续部署和持续安全性。

## **资产管理**

在这种情况下，资产管理意味着测量什么是自动化的，以及如何有效地控制它。如果你使用的是 Puppet、Chef、Ansible 或 Terraform 等工具，这并不重要；重要的是你如何有效地使用它们。这些工具允许您自动配置裸机或云资产，以及加入负载平衡器和接收流量。但是，您可以从 Kubernetes 或链接 lambda 函数中获得类似的结果。自动化实际上是控制资产以实现您的业务目标。

无论您使用的是内部虚拟化还是云工作负载，花时间将处理周期简化到所需的最低硬件都可以显著降低每月成本。您的服务器、容器、服务等的百分比越高。自动化程度越高，您花费在修复和维护基础架构上的时间就越少。您的某些应用程序可能是为您的特定组织专门配置的，因此无法实现自动化。然而，如果应用程序不能自动化，可能是时候淘汰它们并构建下一代应用程序了。

## **监控**

您应该监控您所有的资源吗？是的。你也应该过滤掉噪音吗？绝对的。监控代理应该部署到您的所有服务器上，如果您的 PaaS 工具和其他提供商有集成，您应该使用它们并解析出不需要的数据。唯一比什么都不监控更糟糕的事情是监控一切而不进行适当的过滤。

良好的监测应始终与利用所获得的信息相结合。例如，捕获日志、解析日志并使用 ELK、Datadog 或 Sumo Logic 等工具，可以为您提供一个庞大的工具包，不仅可以从大量数据中捕获和收集有用的信息，还可以做出决策并执行预测分析。您可能会发现您的堆栈运行效率低下，或者在高峰使用期间扩展速度不够快。

不同的系统应该聚合到一个公共工具中，以免您花费宝贵的时间来组合跨系统的信息或从数据仓库中提取信息以获得您的洞察力。让工具为您工作。您还应该使用 Logstash 之类的工具来提取和理解应用程序、数据库和堆栈中的其他日志，以获得有意义的数据。如果没有，您就限制了对服务健康状况的了解。

## **持续集成/持续部署**

持续集成和持续部署(CI/CD)是一个季度(或一年)发布一次软件和一天之内发布几十次产品的区别。

但这是最难衡量的指标之一，因为每个环境都是不同的。了解有多少代码提交没有通过您的集成环境非常重要。这些障碍可能是糟糕的编程实践、糟糕的代码质量或糟糕的测试的结果。然而，如果特性在开发或集成中停留的时间太长，肯定会有一个潜在的问题。在大多数情况下，它以自动化测试为中心。

那么，如何衡量好的测试呢？这是企业面临的最困难的问题之一，尤其是在已经编写了单片应用程序之后添加自动化测试时。本质上，好的测试是关于创建好的业务逻辑和集成满足大多数用例的测试，同时覆盖每个功能和类。对失败或成功测试的即时反馈加速了自动化过程。构建的自动化测试越少，QA 就越需要手工测试。未能集成好的业务和集成测试会大大降低整个 CD 部分的速度。还要记住，争取 100%的测试覆盖率是不现实的——超过 80%就足够了。

同样重要的是要记住，不在管道中并且必须手动测试的应用程序将永远跟不上云创新的步伐。如果你正在处理一个巨大的、单一的遗留应用，是时候设计它的替代品了(从测试开始)。管道还应该内置通知，并具有对故障做出反应的链接逻辑。Jenkins、CircleCI、TravisCI 等工具和 GitLab 等大多数代码库解决方案提供了丰富的功能集来帮助创建和管理管道。

## **持续安全**

确保安全合规性的最简单方法是向左转移，在开发阶段解决安全问题。通常，安全性是在生产中应用的，这意味着它不是环境的端到端流程的一部分。在开发级别保护应用程序和网络将使您更加确信应用程序将在生产级别正确地互操作。

左移后，确保以安全的方式持续部署和监控集群、节点和单元。理想情况下，您拥有一个工具，通过查看工作负载安全和治理检查、集群工作节点 CIS Kubernetes 基准检查、集群入口控制器安全最佳实践和 [istio](https://istio.io/) 安全检查，提供集群合规性和安全状态的实时摘要。

## **DevOps 成功永无止境**

成功衡量您的核心 DevOps KPIs 并不是要立即实现完全自动化，而是要了解您最大的问题，不断保护它们，并随着时间的推移不断改进它们。DevOps 没有尽头；成功需要不断衡量您的进步，并使用最有效和最新的工具改善您的环境。掌控全局，实施全面而有意义的监控，满怀信心地交付，安全地完成。

— [Gadi Naor](https://devops.com/author/gadi-naor/)