# DevOoops 的移动:SCM 冲突

> 原文：<https://devops.com/devooops-moves-scm-conflicts/>

DevOps 的最终目标是在软件交付过程中创造效率。但并不总是这样。有时开发计划会导致错误——我们亲切地称之为“开发计划”CloudBees 最近对一些同事进行了民意调查，并提出了五个实施减贫的例子。下面是解决方案架构师 Will Refvem 提交的关于孤立部门的讨论。

## **场景:**

DevOps 中最大的挑战之一是 SCM。在我职业生涯的早期，被授予访问 Git 库的权限有点像把一把皮带式机枪交给一个喝醉的蹒跚学步的孩子。当我在一个项目中试图掌握 Git 的基础知识时，我最大的失忆时刻到来了，这个项目使用了 Git 子模块 — *不要*、*就是不要* — *，并且有一系列 bash 脚本，这些脚本通过在我们部署到的环境中运行来实现原始的 CI/CD 工作流(真的)。我也说不清我遇到了多少合并冲突和超脱头，或者说我是怎么走出来的。幸运的是，我们使用的是 fork-PR 模型，所以我没有造成真正的损害。*

软件配置管理(SCM)不仅是版本控制的关键，也是提供从开发到生产的代码和其他资产的共享视图的关键。适当考虑你的 SCM 结构、分支和合并模型、访问控制等。，将支持协作、可靠性和可追溯性，所有这些都是 DevOps 成功的关键。

在 2019 年 DevOps 和 Jenkins 社区报告中，66%的组织受访者报告使用了现代解决方案 SCMs，特别是基于 GIT 的解决方案 GitHub 或 BitBucket。但是旧的 SCM 解决方案并没有完全消失——45%的组织仍然在使用 GIT 之前、DVCS 之前(分布式版本控制系统),比如 Perforce、Subversion 和 CVS。虽然可以使用这些遗留解决方案应用 DevOps 实践，但设计分支/合并模型和周围的工作流是重要的(也更具挑战性)，它支持 DevOps 的关键方面，如同行评审、协作和短期分支。

现代 SCMs，如 GitHub，具有内在支持协作的特性，包括改变游戏规则的拉请求，使得实现最好地支持 CD 和 DevOps 的过程更加容易。

设计不良的裁谈会工作流程或不完善的裁谈会系统会以多种方式产生摩擦。如果交互过于繁琐，用户将不会足够频繁地向管道提交代码。如果很难访问管道和创建流程的可见性，这可能会导致无法解决的冲突。

你需要选择正确的工具。如果你没有得到现代工具的选择，你需要花时间设计一个遗留工具。

考虑与这个 DevOoops 例子相关的另外两个问题也很重要:分支和获得适当水平的 DevOoops 技能。

*   **分支**:需要一个适当的分支和合并模型来确保您将适当的输入输入到您的 DevOps 管道中，以便您能够持续地集成、测试并最终部署变更。这里有一个简单的指导，它被概括在 KISS(保持简单，笨蛋)原则中。如果你需要一整面白板或一个适合会计师的电子表格来列出你活跃的分支机构，你需要重新考虑一下。尽可能接近主线主干开发的理想状态，具有短命的特性分支，最小的应用程序版本等。
*   **技能**:当组织寻求实现 DevOps 时，新的工具和实践很可能会同时实现。当你学习使用这些新的工具和实践时，理解和适应这个事实是很重要的。例如，从集中式版本控制(如 Apache Subversion (SVN ))转换到分布式版本控制(如 Git)是一种范式转换，可能很难完全理解并导致破坏性错误，如从变更历史中删除节点、覆盖变更或错误配置访问控制。考虑雇佣这些新技能和/或考虑时间和培训。

## **外卖**

*   需要一个适当的分支和合并模型，以确保您将适当的输入输入到您的 DevOps 管道中，从而让您持续集成、测试并最终部署变更。
*   如果您正在使用 Git 之前的遗留 SCM 解决方案，那么在遗留解决方案中开发一个分支和合并策略，以在您的 DevOps 模型中实现适当的速度。
*   考虑你将需要发展新的技能来采用新的配置管理工具，并在你的计划中实践和说明这一点。

— [布莱恩·道森](https://devops.com/author/bdawson/)