# DevOps 聊天:Repos 和 Nexus 防火墙访问，带 Sonatype

> 原文:[https://devo PS . com/devo PS-chat-repos-and-nexus-firewall-access-with-sonatype/](https://devops.com/devops-chat-repos-and-nexus-firewall-access-with-sonatype/)

今天，实际上只有两个不同规模的软件组件存储库:由 Sonatype 管理的 Nexus repo 和由 JFrog 管理的 Artifactory artifact repo。到目前为止，他们是分开的，彼此独立的。

为了保持 DevOps 的开放性和安全性，Sonatype 发布了一个插件，允许他们的 Nexus 防火墙与 Artifactory 和 Nexus 一起工作。

这意味着两个回购的用户现在可以使用 Nexus 防火墙来确保他们下载的组件或工件符合他们设置的政策。他们可以确保用户下载使用的版本没有已知的漏洞。这真的是一件大事，也是 Sonatype 的荣誉。

在本次 DevOps 聊天中，我们采访了 Sonatype 的首席执行官 Wayne Jackson 和 Sonatype 的首席技术官兼联合创始人 Brian Fox，探讨这对 DevOps 社区意味着什么。

[https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/582276753%3Fsecret_token%3Ds-FcpPH&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true](https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/582276753%3Fsecret_token%3Ds-FcpPH&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true)

## 副本

艾伦·希梅尔:大家好。我是艾伦·希梅尔，DevOps.com，您正在收听的是另一个 DevOps 聊天。今天的 DevOps 聊天是来自我们在 Sonatype 的朋友的一些大新闻。我很荣幸也很高兴 Sonatype Wayne Jackson 和 Sonatype CF–CTO Brian Fox 能加入我们。希望我没有搞砸，伙计们。韦恩，布莱恩，欢迎。

布莱恩·福克斯:谢谢。

杰克逊:谢谢你，艾伦。很高兴和你在一起，很高兴再次发言。

希梅尔:是啊。韦恩，你和我只是几年前的事了。

**杰克逊:** *【笑】*

Shimel: 我们不要去做历史的事情了。让我们直接进入今天的突发新闻，这是对 Sonatype 的一个重大补充——我知道它是一个防火墙。你仍然称它为 Nexus 防火墙还是现在有不同的名称？

杰克逊:是的，我们——是的，没错。

**Shimel:** 是 Nexus 防火墙。因此，在我们谈论什么是主要的补充，让我们在这里打下一点基础。什么是 Nexus 防火墙？布莱恩，你是首席技术官，让我们把这个给你。

狐狸:好的，当然。Nexus Firewall 是一组功能，当您通过存储库将组件引入供应链时，我们可以对组件进行分析，并能够根据您的策略进行匹配，以强制执行架构、质量、许可证等内容，特别是当组件违反您的策略时，它可以阻止组件进入您的供应链。因此，您可以阻止开发人员引入具有已知漏洞的组件，或者引入具有不兼容许可证的组件，诸如此类。这就是防火墙在整个产品组合中扮演的角色。

**希梅尔:**完美。而且，你知道，让我们弄清楚；你知道，Nexus 防火墙，如果它在适当的位置，Equifax 漏洞就永远不会发生。

Fox: 嗯，那可能——它不会做什么——你知道，它不会返回并取出你已经输入的东西。

Shimel: 你已经放进去了，你是对的。

**狐狸:**对。当然可以。如果——你知道，我们仍然看到很多案例——我想我们最近做的一些研究表明，组织仍然在下载受到 Equifax 攻击的相同内容，对吗？

绝对的。

**Fox:** 是 Strut 的同一个版本。因此，毫无疑问，防火墙肯定会阻止这种行为，并能够防止它在您的供应链中进一步传播。

**Shimel:** 大声说一下，Equifax 现在是 Nexus——Sonatype Nexus 的客户，对吗？

狐狸:是的，没错。

杰克逊:是的，没错。

希梅尔:所以希望——嗯，至少希望它能阻止下一次。所以，伙计们，我们现在知道 Nexus Firewall 是什么了，再一次说明一下今天发布的重要性，Nexus Firewall 在您从 Nexus 存储库中取出组件时一直工作。伙计们，我说得对不对？

杰克逊:不，没错。

**Shimel:** 因此，今天的大新闻是，你们正在超越 Nexus 存储库，为来自其他存储库的工件和代码等提供保护。

**杰克逊:**没错。这是——你知道，这是一种承认，这可能是这一类别中的第一个，只是承认 DevOps 世界是异质的。你知道，有许多供应商，组织内的人会做出不同的决策，我们只是承认需要提供普遍保护。

绝对的。韦恩，和我一起工作。这是 Nexus 存储库，随着今天新版本的发布，你们也宣布了对 Artifactory 存储库的支持和保护，对吗？

杰克逊:没错。

**Shimel:** 和-

杰克逊:在这两者之间，你知道，我不确定覆盖率是多少，但它肯定在已实现的存储库的第 90 个^(百分点)之内。

希梅尔:我同意你的看法。我认为在 Artifactory 和 Nexus 之间，应该是 90 度左右，对吗？我们说的不是 91%或 92%。我认为它可能很高，当你看到它们之间包含的代码、组件或工件的数量时，它肯定是数十亿。韦恩，你之前提到过当今 DevOps 世界的异质性。真的是；它已经成为 Artifactory 和 Nexus 两大巨头。

但是今天的 DevOps 世界的异质性还有另一个方面，那就是软件开发生命周期的整个概念，管理软件管道，现代软件工厂；不同的公司称之为不同的东西，但它都指的是软件编写和组装的方式——由现代 it 部门编写和组装。为什么你们不详细解释一下。

杰克逊:是的，我——看起来很有趣。如您所知，在 Sonatype 之前，我来自网络安全领域，不知道有多少软件被编写。我相信你知道，我们在生态系统中管理的资产之一是名为 Maven Central 的东西，去年我们处理了 1420 亿次下载请求，这还只是在 Java 生态系统中，你知道，像 NPM 这样的其他生态系统也很大。

希梅尔:是啊。

**Jackson:** 所以当我们开始观察这些下载请求的模式时，我们开始看到这种奇怪的脱节。你知道，漏洞的披露对使用模式几乎没有影响，这让我们思考，你知道，为什么会这样，以及我们如何更系统地解决这些问题，这让我们意识到我们有一个巨大的供应链问题。你知道，东西的生产者没有一个非常有效的机制来与这些东西的消费者沟通，因为有成千上万的项目需要监控。所以，你知道，我们开始看爱德华兹·戴明的作品，是他把丰田从一个纺织品制造商变成了世界上最高效的汽车制造商，这真的没有那么复杂。你知道，你有更少、更好的供应商，你使用最高质量的零件，保持整个系统的透明度，并且不将缺陷传递到下游。

如果你能做到这四点，你瞧，*【笑】*生产汽车就变得容易多了。你知道，我们的结论是，这些完全相同的原则完全适用于软件，你知道，就你的观点而言，你知道，现在突然之间这些软件开发功能，特别是在更现代的组织中，看起来像一个软件工厂，所以让我们使用更少、更好的项目，让我们使用那些没有安全缺陷的项目版本，拥有与我们的分发模型相匹配的许可证，让我们建立一个我们知道系统中有什么的模型*【笑】*。如果在软件工厂的装配线上，我们发现有一个问题，在那里停止它。你知道，不要往下游传。

无论如何，这是一个模型——你知道，我是一个有点汽车的家伙，所以它对我来说肯定是有效的，但它感觉像一个模型。

希梅尔:我同意。绝对是。甚至在你提到戴明之前，当然这是显而易见的，我在考虑第三方供应商，就像我们在汽车行业看到的那样。但有趣的是，正如你提到的，这里的数字的绝对数量——你知道，1420 亿——想想这意味着什么。我的意思是，这只是一个不可思议的，不可思议的使用和其他东西的下载量，你知道，很明显，不需要很多坏苹果就可以破坏每个人的派对。伙计们，你们知道最有趣的是什么吗？再次回到 DevOps 社区，今天的 DevOps 市场，Sonatype 非常——你知道，你是谁，你是什么——反正在我看来——你知道你是谁，你是什么，你在哪里玩，你如何融入其中。

我认为这与——你知道，我们正处于 DevOps 领域的一个小小的动荡时期，随着市场的成熟，供应商们争相试图——我认为他们中的一些人可能，你知道，甚至正在经历一个尴尬的青少年阶段，你知道，他们试图弄清楚自己是谁，长大后想做什么。你知道，Wayne，你是那里的首席执行官，Sonatype 的愿景是什么？你现在对自己的皮肤感到舒服吗？你的角色是什么？

杰克逊:是的。我认为我们对自己的皮肤很满意。我认为这种对软件供应链管理的拥抱是我们现在的样子，也是我们未来的样子，这在 DevOps 类别中是一种独特的地位，它使我们能够与作为装配线一部分的供应商很好地合作，无论是 Artifactory 还是 CloudBees 或任何其他供应商。因此，能够产生转化为知识的信息，你知道，自动化关于供应链完整性的决策，我认为这对我们来说是一个好机会。

希梅尔:我同意。我的意思是，这不仅是一个好位置，我认为这是一个关键角色，正如我们看到的市场的持续成熟，你知道，这一切都围绕着数字化转型和正在发生的一切。布莱恩，你知道，你的背景，你是 Maven 项目的早期主席。你在这个开源世界已经有一段时间了，Wayne 也是来自 Sourcefire Snort 的人，但你对我们看到的这种成熟有什么看法？我的意思是，在某种程度上，看到跨库保护，无论是 Maven、Java 还是 Artifacts 等等，我想这一定很令人鼓舞，对吗？感觉我们在进步。你怎么想呢?

狐狸:是的，我想是的。我指的是我们的方法，因为我们走上了这条路，2012 年左右是采取一种凌驾于所有工具之上的方法，因为我们从早期就认识到，当时我们做了大量的 Maven 培训和咨询，我想我们有特权去公司，看到许多可怕的过程和所有的方式，试图让事情变得更好，无意中让事情变得更糟， 我们认识到，这需要一种跨生命周期的方法，这意味着您不能仅仅通过向存储库或 CI 添加功能来解决问题。 坦率地说，鉴于我们当时正在开发 Nexus Repo Pro 我的意思是我们现在仍然在开发，但那是我们当时的主要产品——在回购基础上增加功能本来是我们最自然的做法，但通过所有这些学习，我们明白这还不够。

它需要集成到 Repo、CI、构建和发布自动化工具等等，以便能够最有效地细致入微地处理流经这些工具的组件的流程，因为您可能会选择以不同的方式响应策略违规，当某个东西实际上即将投入生产时，而不是在您的每个 commit CI 构建中刚刚发生的事情。因此，能够整合所有这些工具，包括所有不同的回购协议，是很自然的事情。这是我们一直采用的方法的自然演变。

**Shimel:** 明白了。所以，我想下一个问题是，现在我们已经——你知道，在两个存储库之间，我们已经获得了高达 90%的市场份额——我们如何利用这款防火墙产品获得 90%的覆盖率，对吗？我想我们都会睡得更好。你们知道，关键是什么，伙计们，让更多的人意识到这是一个显而易见的事情，他们需要在这里完成，对吗？我的意思是，你认为是什么阻止我们真正看到这一点？

**狐:**文化。文化和历史。我认为应用程序安全工具有一段历史，你知道，仅仅是它们的工作和领导方式就容易出现误报，还有一段历史是糟糕的方法，就像我之前谈到的那样，试图将糟糕的工具强加到开发中，最终导致反叛或废弃和齿轮磨损，所以在某种程度上，我认为安全部落已经有点害怕在许多组织中进行开发，对吗？所以他们非常努力地在过程的最后工作，努力产生列表。我们知道，这些事情往往会被忽视，它们通常不会对正在发生的事情产生深远的影响，所以真正成功的组织是那些，你知道，能够抛开所有历史，仍然以 DevSecOps 类型的方式一起工作，你知道，从整体上看问题，并理解这一点，是的，实际上这是有意义的。如果我们能从一开始就阻止不好的事情进入过程，我们就不需要在以后把它们赶走。

安全人员不必在列表中跟踪它，开发人员也不必修改它，对吗？所以，你知道，这是我们一直试图采取的方法，所有这些不同的组成部分都在企业的成功中发挥着重要的作用，当他们都在一起工作，而不是相互对抗和扔手榴弹时，效果最好。

绝对的。

福克斯:所以，你知道，在大多数地方，领养的最大障碍就是文化和历史上的鄙视之类的东西。

是的，我同意，布莱恩。伙计们，我要告诉你们一些事情。这是我一直在研究的一个私人理论，我将在接下来的几个月里谈论它。你知道，我们非常努力地工作——Sonatype 比我能想到的任何其他供应商都努力——来推进 DevSecOps 的事业。您知道，过去五年来，您团队中的 Derek 和 Mark 以及我一直在 RSA 举办 DevSecOps 活动，我们在新加坡的 RSA 也举办此类活动，并在世界各地举办此类活动。最近，在过去的几个月里，我开始看到安全部门在如何处理 DevSecOps 方面出现了分歧，对吗？

我看到一些公司正在拥抱事物的开发方面，让我们称之为 DevSec。他们正在与开发人员合作，使代码更加安全，并确保预部署和一切都经过测试，一切都是安全的，我们发布的版本非常紧凑，质量很好，对吗？安全是质量的同义词，让我们称之为 DevSec。还有另一组供应商，Brian，他们对你所说的很感兴趣，对吗？他们几乎害怕、害怕或厌倦了与开发人员打交道，他们真正关注的是部署后方面的事情，对，让我们称之为 SecOps，因为他们希望与运营人员更多地合作，部署后，你知道，监控等诸如此类的事情。

我并不是说没有理由这样做或者这样做是不对的——绝对是这样——但是当我们开始将它视为 DevSec 和 SecOps 时，我们正在犯与开始时相同的错误，并且我们正在失去它是有理由的。这是开发、运营和安全部门的通力合作。我们不能说，“哦，我们会与运营人员合作，但不会与开发人员合作，反之亦然。”只有每个人都参与进来才能赢。我——

**狐狸:**完全同意。

**Shimel:** 但是我——是的——但是我现在看到安全供应商在这个问题上有点偏袒。我最近做了几个播客——其中一些是新公司，他们正在推出或推出 stealth 和 RSA，他们正在扩大这种区分，即他们是 SecOps，而不是 DevSecOps，或者他们是 DevSec，而不是 Dev——我认为这是一个巨大的错误，一个巨大的错误。

我认为这在很大程度上是由选民主导的。如果你去和保安谈，他们会告诉你他们想要什么，对吗？这是历史的一部分。

希梅尔:是啊。

福克斯:你知道，所以如果你允许你自己直接被拉向人们想要的方向，这是基于他们对事情如何运作的理解，这是永远都会发生的，我认为这就是你最终的结果，所以你必须稍微抵制这种趋势，并说，“伙计们，这不一定是这样的。可以更好。”但是我们必须一起努力，对吧，我们必须用不同的方式思考问题。你知道，我有很多对话——你知道，随着 AppSec 和 OPSEC 越来越普遍地意识到开源组件的风险，这种情况越来越多。他们开始着手解决问题，但不幸的是，他们只是试图向现有流程添加更多数据，我必须时刻提醒这些人，开发人员一直在选择新的组件，他们一直在选择这些组件的新版本。

他们这样做不仅仅是因为你给了他们一个易受攻击组件的列表或一个 CVE 的列表，然后说，“修复它，否则，”对吗？所以，如果你有一个过程和一套工具来支持他们的行为，让他们以后不会出现在你的清单上，这不是很好吗？*【笑】*对吧？很多时候，这对那个部落来说是一个令人震惊的认识，对，这就是我所说的文化。这是一个巨大的挑战。

**Shimel:** 同意。听着，我们的工作还没完成，对吧？这就是对我的意义。我们仍然有更多的工作要做，以宣传 DevSecOps 并确保人们——从整体的角度来看它，这又回到了 Wayne，你刚才谈到的管道和软件，你知道，自动化和管道之类的东西，它没有在部署前和部署后的结合点或结合点分成两部分。它 DevSecOps 是关于从端到端的整个事情。

**杰克逊:**是的，能够从整体上考虑这个问题的组织肯定会更加有效，更加高效，而且，你知道，对于你关于福音传道的观点，我的意思是我们将会看到的事情之一，我认为我们正在看到的是，最高效的组织是那些得到它的组织。

希梅尔:是啊。

**Jackson:** 他们将会利用软件来更有效地区分他们的业务。*【笑】*在某些时候，除非你想输，否则你将不得不开始思考这些，你知道，前瞻性的，先进的组织每天都在做什么来让自己变得更好。

绝对的。你会有赢家和输家，看，这就是资本主义，这就是市场动态，对吗？能适应就适应，能死就死，不是吗？我的意思是这取决于你。伙计们，我们已经花了很多时间在宏观层面上讨论这个问题。Brian，如果你不介意，我想问你一个小问题，问你是否可以向我们的观众解释一下 Nexus 防火墙到底是怎么回事。

是软件吧？本质上，它不是一个设备。它位于何处，如何相交，如何在其中设置策略？你知道我在说什么吗？让我们给观众一点…

Fox: 所以我们的 Nexus 平台可能由三部分组成。核心是一个在本地或云中运行的软件，我们称之为 IQ 服务器，它是您定义策略的地方，它是所有组件的数据库，以及它们在哪些应用程序中使用，仪表板，报告；你知道，所有这类事情都发生在 IQ 服务器中。IQ 服务器与我们云中的服务协同工作，提供有关组件、安全性和许可等所有内容的实时信息，对吗？因此，这是一个实时馈送，而不是您必须定期下载的数据转储。

然后是所有的插件，我之前提到的所有地方的插件；您的构建、您的 IDE、您的 CI、您的存储库、您的自动化工具等等，对吗？所以我们在这里讨论的是，我们已经添加了一个新的插件，可以插入 JFrog Artifactory。因此，当一个组件从外部 repo(如 Maven Central)被代理时，插件将对所请求的东西进行分析，它将理解它是什么，与 IQ 服务器合作以理解它是否符合策略，并且根据策略的配置，它可以允许它，可以隔离它，或者直接阻止它，对吗？这是我们在 Nexus 存储库中已经拥有了几年的相同功能，因此它为我们的 JFrog 用户复制了该功能。

**希梅尔:**妙极了。Wayne，我们怎么把它推向市场？

**Jackson:** 我经常被问到这个问题，我们有一个非常多元化的上市模式。你知道，我们仍然有在关键地区非常资深的人在宣传，因为这仍然是一个不成熟的市场，但随着市场的成熟，越来越多的人开始在我们的营销职能中以产品和产品能力为主导。因此，一个混合模型，但我们认为它符合市场的成熟度，你知道，这将随着时间的推移而变化。

**Shimel:** 明白了。伙计们，我们快没时间了。如果可以的话，我想回到 DevOps 市场。Wayne，你知道，你和我都看到了安全行业的迅速发展，对吧，从 2000 年初到 2008 年、2009 年和 2010 年，你知道吗？我-我们现在都有-我们都看到了 DevOps 市场的快速增长，你知道，从 2013 年，14 年到今天。才四五年。而且，你知道，我们早些时候提到过，一些公司试图争夺他们在哪里，他们做什么，以及他们如何适应这个勇敢的新世界。你知道，戴上你的幻想帽子，如果你愿意的话。这是要去哪里？它在哪里——你知道，在 DevOps 中是否存在安全的逻辑结合？如果是这样，这对更广泛的市场意味着什么？你怎么想呢?

杰克逊:我有点不同意你的观点——关于 DevOps 的迅速发展。我认为我们在行业中感觉到了这一点，因为现在突然所有的人都开始用我们的话来反驳我们，但我认为，你知道，DevSecOps 成为主流只是人们工作方式的一部分仍然有点遥远，我认为，你知道，你正在做的工作，我认为我们和该领域其他供应商正在做的工作仍然非常重要，因为即使是渴望 DevSecOps 的组织也仍然需要帮助。如你所知，这不是一件容易接受和实现的事情，所以仍然有一些工作要做，我认为这很酷。

希梅尔:是啊。嗯，它让我每天坚持下去，让我振作起来。你是对的，你知道，我们倾向于忘记我们生活在泡沫中。当你是一把锤子时，所有东西看起来都像钉子，对吗？

***禅师:**【笑】*对。

当你一直在谈论 DevSecOps 时，人们往往不会看着你说:“你在说什么？”所以，你知道，如果你愿意，我们可以说是在呼吸自己的废气。但是，有很多工作要做，甚至——忘记 DevSecOps——即使是在基本的 DevOps 级别，对吗？很多公司都涉足开发运维，但有多少是真正的端到端开发运维，我想这个数字应该不到 20%，可能接近 10%。

杰克逊:我认为你是对的，我认为你是对的。

是的。所以我们的工作还在前面。但是，你知道吗？如果不是就不好玩了，对吧？我的意思是这让我们——

**杰克逊:** *【笑】*

无论如何，伙计们，这个 Nexus 防火墙的新插件什么时候可以用？

**杰克逊:**差不多吧。

希梅尔:好的。

杰克逊:我想正式发布日期是 3 月 1 日，但是，我很乐意向任何好奇并对这项技术感到自豪的人展示。

绝对的。他们可以在 Sonatype.com 得到更多的信息？

**杰克逊:**没错。

**希梅尔:**妙极了。Wayne Jackson 和 Brian Fox 分别是 Sonatype 的联合创始人兼首席执行官和首席技术官。感谢您成为我们本期 DevOps Chat 的嘉宾。

韦恩·杰克逊:谢谢。我们很荣幸。

狐狸:谢谢你邀请我们。

很高兴见到你。总是很开心，伙计们。好的，我是 DevOps.com 的艾伦·希梅尔。您刚刚听到了另一个 DevOps 聊天。祝大家今天愉快。

*【音频结束】*

— [Alan Shimel](https://devops.com/author/ashimmy/)