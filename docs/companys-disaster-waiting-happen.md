# 你公司的 IT 是一场等待发生的灾难吗？

> 原文：<https://devops.com/companys-disaster-waiting-happen/>

最近的 IT 灾难表明，硬件测试、备份系统测试和不充分的灾难恢复计划存在差距。

虽然夏季通常是大多数航空公司最赚钱的季节，但过去的这个夏天对几家最大的航空公司来说并不太好。今年 7 月，西南航空公司遭遇了 12 个小时的 IT 中断，这是由一个路由器故障引发的，该故障像纸牌屋一样迅速关闭了许多核心操作系统。更糟糕的是，备份系统部署失败。航班延误和取消持续了几天。

今年 8 月，达美航空公司也发生了类似的灾难，当时该航空公司中央数据中心的电源控制模块出现故障，导致变压器浪涌并断电。达美的系统没有按计划切换到备份，导致调度混乱，因为代理无法访问关键系统。对于这两家公司来说，停电导致了数千万美元的收入损失。

当然，这两次中断都会影响运行传统 IT 基础设施的企业，但是即使您的公司运行在云中，您的企业也不能免受破坏性中断的影响。9 月，Microsoft Azure 经历了两次持续数小时的停机，一次在欧洲，另一次影响了美国客户的几项关键服务，包括 SQL 数据库、虚拟机、服务总线和 Visual Studio team services。

作为软件开发人员和测试人员，我们经常狭隘地关注应用程序和运行它的服务器——但是还有很多要考虑的。在测试应用程序的稳定性和可靠性时，硬件和组件、备份系统和第三方提供商都会发挥作用。当然，没有办法防止所有不好的事情发生，但是你可以采取一些措施来更彻底地解决问题。

## 透过软件看问题

如果说从最近的这些 IT 灾难中吸取了三个主要教训，那就是:

1.  ***评估整个环境的风险*** 。软件的质量取决于运行它的组件——通常需要硬件、网络、电源、存储和其他第三方应用程序。了解全貌和所有的依赖关系。根据业务重要性和故障率对应用程序进行分类，将注意力集中在真正重要的部分。

2.  ***备份系统和流程并非“一劳永逸”花更多的时间记录、测试和培训员工。确保流程是最新的，因为它向系统添加了新的组件和供应商，或者公司正在进行合并或收购。***

3.  ***根据自己的风险状况进行投资。*** 如果您的公司无法在不访问某些系统的情况下运行几分钟以上，请计划为热故障转移系统进行预算，这种系统可以实现几乎 100%的正常运行时间，同时始终保持并行系统同步并随时准备就绪。为您的整个环境启用这种故障转移功能太过昂贵，您需要有所挑剔。一些 IT 资产，如航空公司的调度和预订系统，应该得到最优先的考虑和资源，而其他资产，如人力资源系统，则需要较少的资源。IT 主管还需要经常调查是否需要升级陈旧、不稳定的基础设施技术。大多数公司也没有花足够的时间来监控和测试备份和恢复系统。

为了最大限度地降低重大 IT 故障导致业务瘫痪和疏远客户的风险，方法如下:分析故障点，确定哪些是可以修复的，哪些是不容易修复的(例如，安装软件通常比构建新的服务器环境要快得多)，最后，安装和测试故障转移系统和流程，这些系统和流程可以在最大限度减少客户中断的情况下维持基本运营。

## 三角洲和西南:快速分析

在这两起事件中，达美航空和西南航空的备份系统都没有正确部署，或者至少没有及时部署。第一个行动点将包括对这些备份系统和位置进行彻底的定期测试，并在必要时升级功能。第二，由于没有一个灾难恢复系统是万无一失的，因此需要为关键的系统中断创建手动解决方案。这将有很大的帮助，这样客户就不会完全陷入困境。第三，创建完全冗余的第二个数据中心，当主数据中心出现故障时，它会自动切换。当然，这是最昂贵的选择，但是根据风险分析的结果，它可能是值得的。

西南航空公司的一个路由器故障造成了级联效应，导致整个网络瘫痪。不清楚是否有备用网络可用于故障转移，尽管答案似乎是否定的。同样，更好、更频繁的监控可以隔离路由器问题，并提醒 It 部门在灾难发生前修复或更换硬件。

任何拥有来自许多不同供应商的技术的公司都应该尽可能地与供应商和合作伙伴密切合作，以降低可能的风险。供应商通常能够提供他们如何测试他们自己的系统的见解，甚至可以共享测试用例来帮助验证端到端系统。请记住，老化的技术不是唯一的问题——有时新技术会带来难以承受的风险。最近的一个例子是三星 Galaxy Note 7 及其过热电池问题和召回。同样，明智的做法是了解当地公用事业公司如何处理断电，以及在服务中断的情况下它会向客户提供什么帮助。

## 提前计划

拥有复杂 IT 基础设施的大型公司应该全面考虑关键系统的可用性，考虑单点故障可能带来的所有连锁反应。今天的系统和网络越来越相互联系和相互依赖。对于两家航空公司来说，对客户和员工的影响远远超出了实际的停机时间，因为经理们努力让代理商和飞机重组和重新安排。在灾难恢复计划的任何开支计算中都要考虑到这种风险。经历过合并和收购的公司会因 IT 集成而变得更加复杂，或者说缺乏 IT 集成。理想情况下，故障转移策略应该作为任何收购计划的一部分预先纳入。

全面的测试策略在防止停机方面至关重要，尽管有时会被忽视。向核心供应商(如网络设备提供商)索取测试流程信息，并要求查看他们的测试案例。虽然供应商应该负责确保对他们自己的产品进行彻底的测试，但是客户总是遭受系统故障成本的一方。开发和测试团队应该清楚外部系统和供应商如何处理停机时间和设备故障。努力使公司的灾难恢复流程与合作伙伴的灾难恢复流程保持一致。

最后，对于在云中运行关键任务系统的公司，有一些方法可以减轻停机的影响。CliQr(现归思科所有)等多种云管理工具允许 IT 在需要时快速将工作负载从一个云服务重新部署到另一个云服务。由于该技术固有的便携性优势，容器在这方面也有所帮助。公司正在使用容器在一个云提供商内部将应用程序和工作负载从一个区域转移到另一个区域；从云到云，比如从 AWS 到 Azure 甚至从云迁移到本地数据中心。

如今，造成 IT 中断的原因有很多，随着 IT 环境变得越来越多元化，每时每刻都在支持更多的技术、数据和应用程序，这些风险也在增加。我们没有解决这个问题的答案，但有一个策略:不遗余力。让测试人员和开发人员参与停机预防和灾难恢复计划的确是明智之举。

## 关于作者/凯文·邓恩

凯文·邓恩是 QASymphony 的战略和业务发展副总裁。在加入 QASymphony 之前，Dunne 是德勤的商业技术分析师。你可以在推特和 LinkedIn 上找到他。