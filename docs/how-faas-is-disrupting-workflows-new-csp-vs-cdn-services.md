# FaaS 如何扰乱工作流:新的 CSP 与 CDN 服务

> 原文：<https://devops.com/how-faas-is-disrupting-workflows-new-csp-vs-cdn-services/>

[功能即服务](https://devops.com/faas-is-key-to-devops-efficiency/) (FaaS)，无服务器计算的流行化身，与容器一起，在从单片应用架构向基于微服务的架构迁移中发挥了重要作用。它的引入改变了开发人员思考基础设施和应用程序开发的方式。与此同时，它还推动了基于消费的基础架构模式的发展，我们看到这种模式是随着弹性计算的出现而引入的。

FaaS 简化了主要云服务提供商(CSP)提供的增值平台服务的广泛采用，如数据库和认证服务。它已经迅速发展成为开发人员和 It 专业人员的可行基础架构选项，成为另一个工具——非常适合短期或短暂的任务。最近几个月，我们看到内容交付网络(CDN)提供商发布公告，吹捧一种新的 FaaS 产品，承诺低延迟、工作流定制和成本控制。

## **FaaS 电信运营商 vs FaaS CDN**

CSP FaaS 公司位于区域性超大规模数据中心，一个区域内的数据中心数量通常在较低的个位数。这些数据中心提供了无数的基础设施和平台服务。企业在单个区域的虚拟专用云中运行其应用程序，有时他们会配置一个备份区域，但即使使用当今的工具，管理数据复制/一致性并确保环境保持同步仍然很复杂。

与 FaaS CSP 不同，CDN FaaS 解决方案高度分散于各个 PoP 地点。这些 CDN FaaS 架构通常与提供商的边缘交付位置相集成。根据供应商的架构，可能有数百个边缘位置。CSP FaaS 受益于与平台服务的搭配，而 CDN FaaS 受益于最接近 CDN 的行动，在那里接收和处理最终用户的请求/响应。这就是边缘计算发挥作用的地方，因为它最大限度地减少了延迟，同时允许自定义内容交付工作流。

## **通过支持定制来推动创新**

开发人员使用功能定制内容交付工作流程，以创造更具吸引力的用户体验。到目前为止，cdn 为开发人员提供了有限的能力来通过他们自己的代码定义定制的工作流。灵活性仅限于预定义的“重写规则”,自定义行为是专业服务主导的约定的产物，这对开发人员来说并不友好。CDN FaaS 改变了这一点，将部署代码和创建独特、差异化用户体验的权力交给了开发人员。

## **成败要素:等待时间**

最大限度地减少依赖 FaaS 的应用程序服务之间的延迟以避免程序超时非常重要。CSP FaaS 选项通常提供广泛的事件触发器和运行时/编程语言，以支持开发人员的偏好，并与开发环境的其他元素保持一致。

CDN FaaS 拥有与最终用户或原始服务器请求/响应流程相集成的请求触发器。FaaS 调用通常是最终用户请求内容或源服务器提供响应的结果，需要在每个最终用户的基础上进行定制以反映他们的偏好。对规模和延迟的期望如此苛刻，以至于运行时选项通常局限于那些提供最低内存占用和最高性能的选项。CDN FaaS 还可以利用缓存技术进一步改善完成功能的延迟——尤其是在涉及远程服务或网络调用时。

## 成本是如何累积的？

对于 FaaS 的 CSP，定价模型是二维的。它基于请求数量、分配的内存和函数执行所用的时间。一些通信服务提供商提供慷慨的免费层来吸引客户采用——请记住，功能即服务推动了许多通信服务提供商更高价值平台服务的采用。

CDN FaaS 的定价模式相似，一些组织仅对请求收费，但他们限制内存容量和给定功能允许运行的时间。但是，在这些高度分散的边缘位置运行 FaaS 通常会有额外的费用。这并不奇怪，因为分布式/全局构建的成本模型高于集中式模型。此外，由于网络和视频服务的性质和需求，请求量可能比 CSP FaaS 请求量高一个数量级。

## **并非所有 Faas 服务都是平等的**

功能即服务是我们基础架构即服务(IaaS)选择的重要组成部分，但企业不太可能仅依靠 FaaS 产品来打造 CSP。通常，该决定基于哪些增值平台服务器可用于构建和支持应用程序，以及这些服务与 FaaS 的无缝集成程度。

对于 FaaS CSP 来说，一切都关乎大局、基础设施和平台选择。CDN FaaS 的情况也是如此，因为 CDN 的购买决策不太可能孤立地基于 CDN 的 FaaS 能力。选择标准将包括 FaaS，但更大的权重因素将包括内容交付能力，如全球覆盖面、容量、原产地卸载、功能支持等。

总体而言，CSP FaaS 针对灵活性、多运行时间、广泛的请求触发以及与 CSP 的高价值平台服务的紧密耦合进行了优化。延迟很重要，但重点是在 CSP 地区或客户的 VPC，用例通常是 B2B 技术公司的企业应用程序。同时，CDN FaaS 关注的是性能、运行时效率和延迟。它是关于与 CDN 一起运行的功能——最接近最终用户请求发起和媒体响应交付的地方。CDN FaaS 需要巨大的规模——在全球范围内，而不是在一个单一的中央区域内。