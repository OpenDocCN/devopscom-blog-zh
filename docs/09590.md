# DevOps 团队如何防御 API 攻击

> 原文:[https://devo PS . com/how-devo PS-teams-can-defend-against-API-attack/](https://devops.com/how-devops-teams-can-defend-against-api-attacks/)

还记得勒索软件是 DevOps 团队需要担心的主要安全威胁吗？

那些日子已经过去了。勒索软件攻击 [当然还在发生](https://devops.com/rabobank-counters-growing-ransomware-menace-with-cloudian-object-storage/) ，但是 API 安全漏洞——在 2021 年增加了惊人的[600%](https://www.bleepingcomputer.com/news/security/attacks-abusing-programming-apis-grew-over-600-percent-in-2021/)——现在已经准备好成为威胁行为者的首要攻击媒介，根据 Gartner 的说法 [。](https://www.gartner.com/en/webinars/4002323/api-security-protect-your-apis-from-attacks-and-data-breaches)

这是坏消息。好消息是，在许多方面，DevOps 团队已经实施的抵御勒索软件的安全实践也可以重新用于提供 API 安全性——只需稍加调整。

请继续阅读今天的 API 安全状况，以及扩展 DevOps 现有勒索软件防御技术以保护您的 API 的技巧。

## 原料药的优势

虽然 API 突然成为攻击者最好的朋友似乎令人惊讶，但当你退后一步，想想我们在过去五年中对 API 的依赖有多深时，这实际上并不奇怪。

API 已经 [围绕](https://blog.postman.com/intro-to-apis-history-of-apis/) 很久了。但直到最近，API 主要用于特定类型的应用程序、B2B 或基础设施集成。直到转向微服务和分布式架构，内部(或东西向)API 才成为将应用程序环境结合在一起的粘合剂，并在应用程序的组件和微组件之间传送信息(有时是敏感的)。

至于外部 API，发布公共 API 已经成为几乎所有拥有软件产品的企业的基本期望——以至于现在有大约 [22，000 个公共 API](https://www.c2experience.com/blog/living-in-an-api-driven-economy)以及几个数量级的内部 API。

其结果是，在这个世界中，API 创建了针对几乎每个应用程序或服务的潜在攻击媒介。那么，唯一有意义的是，坏人越来越关注于利用 API 作为获取你不想让他们拥有的东西的手段。

## 从勒索病毒防护到 API 防护

您可能认为保护 API 需要全新的安全工具和实践。然而，在现实中，缓解勒索软件风险和缓解 API 安全风险之间存在大量相似之处。DevOps 团队是抵御这些攻击的主要防线。

以下是如何将反勒索策略扩展为反 API 利用策略。

### 防止横向移动

与勒索软件一样，它通过利用缺陷和漏洞从一个端点横向传播到另一个端点，API 漏洞通常也会在整个环境中横向传播。

这意味着，即使您无法防止所有 API(或勒索软件)攻击突破您的边界，您也可以采取措施使突破难以扩大。通过尽早检测环境中的恶意活动，您可以在威胁导致大规模危害之前阻止其横向传播。

### 关注数据安全

勒索软件攻击和 API 攻击都专注于损害同一个皇冠上的宝石:您的数据。勒索软件攻击者希望持有这些数据以获取赎金。API 攻击者——比如那些从受损的 Peloton 账户 中窃取敏感信息的人，或者其他破坏 LinkedIn 的 API 以 [窃取约 7 亿用户数据的人](https://www.securitymagazine.com/articles/95687-hacker-behind-linkedin-scraping-grabbed-700m-profiles-for-fun)——通常都想泄露这些信息，可能是为了转售，也可能只是为了损害你的企业声誉。

因此，减轻勒索软件风险和 API 安全风险归结为保护您的数据。通过对内部和公共 API 可以做的事情实施强有力的访问控制和分段，您可以降低由于 API 安全违规而导致的数据泄漏风险。

### 使用行为安全模型

将所有基于签名的安全控制投入到攻击防御中，对于勒索软件或 API 攻击都没有什么效果，尤其是当它们是零日攻击或未知攻击时。虽然您当然应该尽您所能强化您的环境，但无法保证违规行为不会逃过您的防御。

这就是为什么部署基于行为的安全模型是防范勒索软件和 API 攻击的关键。行为安全模型检测环境内部的异常活动，例如异常类型的请求或奇怪的请求模式。通过对行为进行建模和基线化，并根据您的模型检测异常情况，您可以在攻击开始时阻止其蔓延。

### 不要依赖基于边界的防御

类似地，试图保护您环境的边界并不是抵御勒索软件或 API 攻击的万全之策。相反，您需要在您的所有端点、应用程序、服务等之间分配保护。

同样，没有什么能保证攻击者无法进入。您的防御能否成功，在很大程度上取决于您能否让他们难以将攻击从小规模的入侵升级为影响广泛资源的攻击。

### 透过表面看

勒索软件和 API 攻击是相似的，因为两者都经常涉及旨在躲避常见安全监控工具的攻击方法。

例如，攻击者可能试图利用端口 80 或 443(默认的 HTTP/HTTPS 端口)，这些端口在防火墙上几乎总是开放的。因此，必须避免仅仅依靠标准端口或加密来保护 API 流量。相反，您必须深入研究有效负载，然后解析并理解协议。监控和收集来自多个来源的数据，然后对其进行关联和分析，以更深入地了解环境中的实际情况，这一点也很重要。

## 结论

可以肯定的是，勒索软件攻击和 API 安全攻击在某些方面有着本质的不同。它们涉及对不同协议的利用，攻击者的目标通常稍有不同。

但就攻击者如何操作、他们想要窃取什么(你的数据)以及基于周界的防御的局限性而言，勒索软件攻击和 API 攻击实际上非常相似。

这就是为什么开发人员和 DevOps 团队不需要重新思考他们的整个安全策略来应对 API 攻击的激增。相反，做你已经在做的事情来抵御勒索软件，并使用这些技术来帮助保护你的 API。