# DevOps 聊天:Rafay 的 Kubernetes 和多云应用程序之旅

> 原文:[https://devo PS . com/devo PS-chat-the-kubernetes-and-multi-cloud-app-journey-with-rafay/](https://devops.com/devops-chat-the-kubernetes-and-multi-cloud-app-journey-with-rafay/)

Akamai 收购他的公司后，Haseeb Budhani 决定接受他的下一个挑战，创办 Rafay。

[Rafay](https://rafay.co/company/) 关注部署和管理 Kubernetes 应用程序的复杂性和重复性。Rafay 通过提供应用抽象、集群蓝图和企业就绪集成来解决复杂性，使 Rafay 成为多区域、多云、混合和边缘/MEC 采用的绝佳候选。

加入我们这一集的 DevOps 聊天，在这里 Haseeb 分享了一些让他找到 Rafay 的经历和挑战，以及如何加快您的 Kubernetes 和云计算应用程序之路。

像往常一样，下面是流媒体音频，然后是我们的谈话记录。

[https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/686294146&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true](https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/686294146&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true)

## 副本

米奇·阿什利:大家好。我是 DevOps.com[的米奇·阿什利，您正在收听的是另一个 DevOps 聊天播客。今天，Rafay 的首席执行官兼联合创始人 Haseeb Budhani 来到了我的身边。我们今天的主题是容器化应用的生命周期管理。Haseeb，欢迎来到 DevOps 聊天。](https://devops.com/)

米奇，谢谢你邀请我。很高兴和你聊天。

阿什莉:是的，很高兴和你聊天。我总是喜欢和企业家同事聊天。你能从介绍你自己开始吗，简单介绍一下你的历史，你的职业，还有一些关于 Rafay 的事情？

**布德哈尼:**绝对。所以，Rafay 公司现在成立还不到两年。我们在市场上推出了一款产品，许多客户正在使用该产品，该产品从本质上帮助他们简化其容器化应用程序的持续运营和生命周期管理，这些应用程序可能运行在公共云、混合环境或其任意组合中。

从根本上说，每个公司都有大量的工作要做，因为这与容器化应用的持续管理有关。你知道，本质上，他们在 Kubernetes 的基础上建立了一个内部平台，我们的宣传是，“嘿，你为什么要花时间重新建立——在每家公司一次又一次地重新建立相同的构建？让我们用我们的解决方案来帮助您，我们的解决方案侧重于每个公司都要经历的重复性工作，这样，DevOps 工程师先生，您就可以专注于您的公司正在寻找的真正价值。所以，你关注公司价值。无论如何，我们将帮助您解决您必须做的重复性工作。”

阿什莉:非常好。现在，你在把你之前的公司 Soha Systems 卖给 Akamai 之后，创立了这家公司，我想你花了大约一年的时间才跳出来创立 Rafay。那么，你为什么选择这个特殊的问题呢？关于它的什么？这是你在 Akamai，在你之前的公司经历过的事情吗，或者只是当你花时间真正思考你下一步想做什么的时候？你为什么选择这个地方？

**布德哈尼:**是啊。你知道，Akamai，令人惊讶的是，我的许多朋友都看到了退出，你知道，他们谈到了收购一家公司，这很艰难，我不喜欢这种经历或任何东西。实际上我在 Akamai 玩得很开心。没有以前那么有压力了。我的意思是，你知道创业压力有多大，所以这是一次没有痛苦的经历，真的。你知道，一个不可思议的销售组织。他们真正了解我们的产品，把我们带到了一个全新的水平。

但是，你知道，有时候一个想法在你的脑海里挥之不去，你不可能就这样离开它。所以，在我们之前的创业中，在被 Akamai 收购之前，我们是我们试图解决的问题的实践者。所以，本质上，我们是顾客。

我们在 Soha 的一些同事正在有效地构建一个类似于我刚才描述的平台，其中我们在容器编排之上的这一层进行编写，以便我们可以在许多位置运行我们的应用程序。因此，在退出时，我们在全球多家云提供商之间运行了—我不知道，大约 20 到 30 个 pop，这样我们就可以让我们在 Soha 的基于云的安全平台在全球许多地方运行。

非常非常痛苦。我认为，在那一点上，我们没有意识到，当你在构建一个平台时，当你如此专注于安全这一核心价值时，你知道，DevOps 很重要，但你不会花太多时间从战略角度考虑它。在被 Akamai 收购后，我在 Soha 和 Rafay 的联合创始人 Hemanth 花了很多时间思考这个问题。比如，为什么我们会有这样的经历？因为这不是一次好的经历。然后我们想，“好吧，还有谁有这个问题？”

事实证明，每个人都有这个问题，任何人在云中构建 SaaS 平台或运行应用程序，特别是在容器化应用程序方面，因为这个社区太新了，有很多支持角色，如果你愿意的话——神话。它会到来的。只是，现在，它不见了，因为它太新了。这让我们想到，“好吧，总得有人来解决这个问题。”你知道，当你环顾四周，说，“有人必须解决这个问题”，但没有人举手，也许你应该这样做。

所以，这让我们想到，“嗯，我们应该——我们需要去解决这个问题。”所以，我们离开了。我敢肯定，当我们说要离开阿卡迈时，我们的妻子都很不高兴。*【笑声】*

**阿什利:** *【笑声】*

但是——不，这是一项有价值的事业，我们很高兴我们离开了，因为我们为社区解决了一个非常重要的问题。

阿什利:嗯，恭喜你又开始创业了。我想这是你与生俱来的。那么，谈谈 Rafay 的独特之处吧。我假设你在 Soha 遇到了同样的问题，你可能会说，“嘿，你知道吗？对于容器和容器化应用的产品来说，这可能是一个好主意。”

我想我会补充说，当你开始构建越来越大的容器化应用程序时，你会意识到围绕它的一些管理挑战，所以，你知道，这是一个新的机会。我想你也有类似的经历。

**布德哈尼:**完全正确。你知道，你读了一些博客，你知道，就像，Kubernetes。这让事情看起来很容易。你可以在你的笔记本电脑上得到一些东西，你会说，“哦，看！我的笔记本电脑上运行着一个 Kubernetes 集群！这不是很容易吗？”

**阿什利:** *【笑声】*

**Budhani:** 不。当您在生产中运行多个应用程序时，这很困难，每个人都知道这一点，这不是新信息。但是挑战在于，因为还没有这方面的手册，我们只能通过做来学习。所以，我们必须投入进去，开始构建东西，然后我们说，“哦，这太难了，”然后到那个时候，我们已经有相当大的团队在大多数公司从事这项工作。这是问题所在，当然，这也是机会所在。

这里有一个更好的思考方式。所以，因为我们在 Soha 的经历，我们认识到了一些事情。不是我们团队中的每个人都能被我们训练成平台专家。

阿什利:嗯。

有些人是专家，但大多数人不会。这在大多数公司中非常典型，你有一个由 5、7、10、20 人组成的开发团队，他们构建一个平台，然后还有数百或数千名工程师，这取决于可能使用该平台的公司规模。因为基本上，他们需要理解这一点——他们需要一个抽象层。这对我们来说是一个关键的洞察力，花时间与公司交谈，你知道，一旦我们出去看看，你知道，我们接下来做什么？

因此，每个人似乎都需要一些抽象层的概念，这样我，作为一名开发人员，签入代码，我的应用程序就会神奇地出现在某个地方。我不想考虑这种潜在的复杂性。我们看到的第二件事是，令人惊讶的是，VMware 两周前在 VM World 上发布了一系列公告，证实了没有人在运行单个群集。

阿什利:嗯。

**Budhani:** 他们可能从单个集群开始，因为不断向集群添加节点很容易。但是围绕集群的实用方法是运行许多小型集群。VMware 花了很多时间来讨论这个由许多小型群集组成的想法。

因此，这意味着解决多群集操作，多群集联合是一件至关重要的事情。这仍然是目前社区中的一个缺口。有许多方法可以解决社区中的多集群联合问题，但是，您知道，许多公司都谈到了这一点，有一些工具可以解决这一问题，但是从根本上说，它们做出了某些假设，但这些假设在实践中并没有得到证实。我们认为这是一个独特的差距，我们在我们的平台中非常优雅地解决了这个问题。

我们做了很多事情，比如，我再给你举一个例子。任何听这个播客的人，当你听到这个例子的时候，你可能会回顾你的经历，然后说，“是的，我曾经面对过这个。”所以，你提出了一个集群。假设你是某电商公司。因此，您需要一些需要 PCI 就绪或 PCI 兼容的集群。一些集群，用于营销，因为他们所做的只是一些实验——我不需要对他们严格要求。还有一些人只是写代码，开发人员。

所以，你需要一个集群的蓝图，因为每个集群可能需要不同的东西。你是怎么做到的？不容易。不容易。你知道，没有帮助图表的帮助图表。那我该怎么办？这是其中的一些问题，对吗？

因此，如果你真的花时间与 DevOps 社区交谈，这些是他们正在努力解决的一些问题，今天，他们都使用一堆开源工具，试图为自己构建一些东西。有些做得非常优雅。有些人永远达不到完美的程度，因为他们太忙了。这是我对每个顾客的推销。我的整个团队，我们所有人——我们做一件事。我们做一件事。我们帮助您运行您的容器化应用程序。

阿什利:嗯。

布哈尼:你有 50 件事要做。我来帮你，好吗？让我们成为您团队的延伸。让我们，你知道，真正让你远离这种压力——当然，要为此付钱，*【笑声】*但要专注于对公司更重要的事情。

因为把正确的脚本或其他东西放在适当的位置，这样你就可以运行你的 Kubernetes 并且运行得更好——这不是你赚钱的方式。如果你的竞争对手最终都从供应商那里购买来解决这个问题，而不是自己构建，他们可能会比你多卖一个部件，对吗？关注价值。不要把重点放在非常复杂但有效无差别的工作上。

阿什莉:你说的很有道理，为什么要自己重建呢？为什么要学习别人可能已经学过的所有艰难的课程？我认为你通过你的抽象层做事情，你的蓝图实际上是创造了我们在软件中可能想到的东西，这是我们可能使用的模式，这是我们可能用于不同集群的蓝图。

**Budhani:** Yeah.

**Ashley:** 我知道我见过的一个常见错误是，很容易将所有东西都放在一个集群中，然后开始说，“嗯，那不行。除了地理位置之外，我该如何开始把它分成其他的技术呢？”所以，这些就是你要和 Rafay 讨论的事情，对吗？

是的，绝对是。是啊。我的意思是，我肯定我们中的许多人会继续在书架上放着大学的设计模式书，对吗？

阿什莉:当然，是的。

**布德哈尼:** *【笑声】*就是这个想法，对吧？有些事情最好用特定的方式来做，如果有一种方法，如果这是一种最佳实践方式，你就去做。不是每个公司都有自己的蓝图，这没关系。但是让我们来帮助您更好地管理它们。

实际上，你知道，从根本上说，我们实际上讨论了 Rafay 今天卖的东西。但是如果我们快进三年、五年，我们今天卖一些东西，但是我们仍然有存在的理由，对吗？我们为什么要这么做？我认为，从根本上来说，我们的行业需要一个记录系统，但这个系统可能并不存在。在公司里，哪里有一个地方可以让我说:“嘿，现在在哪里？怎么样了？三个月前，怎么样？上次谁改了什么？如今这些信息在哪里？”

它在人们的头脑中，当然。它在一个 Git 存储库中。我们都在谈论 GitOps，对吧，这意味着有人写了一个脚本并签入了 git repo。是的，但是也许写那个剧本的人六个月前就离开了——现在，谁理解那个剧本？这是很常见的事情——人们写完剧本，然后开始下一项工作。记录系统在哪里？应用程序治理系统在哪里？

特别是容器，有机会很好地解决这个问题，对吗？有一个允许你这样做的系统。在一个系统中，非技术人员可以登录并说，“嘿，从合规性的角度来看，这个应用程序现在是否正在所有正确的集群上运行？一枪，我能知道吗？”这是我认为我们作为一个团体都将去的地方。

我在想，是什么让我们到达那里，我们今天作为一个产品公司正在做的一些事情，我希望我们能到达那里。我们在 Rafay 有机会建立一个记录系统，人们会真正把它当作自己公司的战略系统。公司中的任何人都应该能够来查看，“嘿，我的应用程序现在处于什么状态？最近一个月有什么变化？”对我来说，这是一个非常重要和值得关注的目标。让我们看看如何——你知道，作为一个团队，我们需要做些什么才能达到目的。但是，伙计，那——我的意思是，有人需要去解决这个问题。

**Ashley:** 现在，我还没有使用过你的产品，但我发现你的上市以及你在网站上谈论它的方式非常有趣的一点是，你实际上展示了用例，不仅仅是一般的东西，而是一些特定的东西，比如物联网和客户体验应用的工厂运营，商店零售体验的现代化，5G，边缘部署。这些是你所说的蓝图的一部分吗，或者更多，你知道，在更广的范围内，“这是我们如何建议你如何实现一个容器化的集群环境？”

**Budhani:** 这些是业务用例，我们最后谈到的是零售用例。这是一个令人着迷的问题。许多零售商正在与较大的供应商洽谈，有时还会与他们的 ____ 供应商洽谈，而这些供应商恰好是大客户。他们问了这样一个问题，“嘿，我想在我的店内提供更好的体验。零售店的销售点系统启动了吗？”

这个问题问得好。你是怎么发现的？我们不能在商店外面运行这些测试，因为那基本上是一个私有网络。所以，我想在我的店里运行一个应用程序。哦，是吗？我在哪里运行它？这个基础设施在哪里？这不是—这里没有数据中心。他们可能在后面的某个地方有一个机架，可能有一台或两台机器。所以，也许我应该在这里经营集装箱——但是，谁来管理我的集装箱，因为我有 1000 家商店，不是一家。如果我必须派 IT 人员到每个商店部署应用程序并定期升级，那么我现在就需要一支队伍，对吗？

只是个小问题。我需要运行一个 200 元的小型应用程序。它变成了一件大事。多么有趣的问题。但这是一个现实问题。想想任何一个有很多制冷能力的零售点。他们在卖冰淇淋或者卖饮料之类的东西。如果这些制冷设备中的任何一个不工作，你就会损失很多钱。

阿什莉:一件非常大的事情。

布哈尼:当然，这是个坏消息，对吗？所以，他们运行这些传感器，好吗？谁在收集这些数据？传感器在哪里运行？是一个微小的传感器吗？但是传感器数据可能需要在本地收集。好吧，我现在该做什么？对吗？

所有这些小事情都是真正的业务问题，它们会像滚雪球一样变成围绕应用程序管理的更大问题，对吗？所以，如果我——如果你考虑一下，如果我们打电话给一家零售店或某个零售商的总部，然后问:“嘿，你想买一个容器管理平台还是生命周期管理容器化应用程序？”比如，“什么是容器？”对吗？*【笑声】*

阿什莉:是的。

**布德哈尼:**他们的人知道，但可能不知道，对吧？但是他们明白这个问题吧？就像，“我需要在这里运行应用程序，因为这是我赚更多钱的方式。我想为我的客户提供更好的线上线下体验。”那个机会，对吧？

所以，这就是为什么，当我们听到用例，当我们与不同的公司合作，我们看到非常具体和重复的用例一次又一次地出现，我们希望我们继续在网站上列出它们。因此，对于企业或者更有意义的是——你知道，公司中的非技术人员来说，访问这样的网站并理解为什么，你知道，例如，他们的工程师会与我们交谈。

Ashley: 你说自己是一家总部位于 SaaS 的公司，是一家 SaaS 服务公司。你们也提供任何运营支持吗，类似于运营外包，或者严格来说是一种服务，其他人在你的 SaaS 上运营吗？

**Budhani:** 所以，这是一种服务，我们确实提供了更多的解决方案架构模型，从本质上帮助我们的客户思考他们将如何使用这样的平台，对吗？因为像这样的平台不是——它不是一个你可以插入你的网络的盒子，如果你愿意的话。这是一次战略对话，我们在思考如何以某种方式将其嵌入到您的流程或您自己的组织中。

因此，一定会有某种程度的协商性对话，而且是持续进行的。但从运营的角度来看，当 Rafay 从根本上说是一家软件公司时，我们看不到解决方案方面的大量售前支持。我们将继续与一些在这方面表现出色的公司合作，这些公司不仅将 Rafay 视为自己的推动者，还将其视为客户的推动者，他们将向客户提供更广泛的服务。所以，想想系统集成商，DevOps 咨询机构，不管 Rafay 是否存在，他们都在解决这个问题，他们还有其他客户，对吗？

阿什利:嗯。

**Budhani:** 因此，这些公司将我们视为自己服务和产品的加速器。这就是我们进入市场的方式，因此我们可以获得高利润的业务，并有效地成为一家软件公司。这是我们知道如何做好的。但是，有那么多优秀的组织拥有令人难以置信的与运营和集成相关的技能。这就是我们后退一步，与某人合作的地方，在这一点上，成为我们在工具链中的工具，他们将为他们的客户提供出色的体验。

阿什莉:非常好。那很有帮助。那么，谈谈谁是你最理想的客户。是大型企业，中大型？什么样的组织会说，“这正是我所需要的—来帮助我”？

**布德哈尼:**理论上，这是一个横向问题。你知道，任何运行容器化应用程序的人都有这个问题。但从根本上说，在公司的不同阶段，我们寻找不同类型的公司，就像，你知道，低挂的水果，等等。

我们发现，如今运作良好的是相对成熟的组织，他们的收入在几亿到十亿美元之间，他们正在实现应用程序的现代化，转向云，变得越来越像云本地。他们是对快速发展非常感兴趣的人，因为我们这样做通常有一些商业原因。他们不只是为了现代化而现代化，还有竞争压力和成本压力。他们可能需要在世界的不同地方，等等。

他们需要快速起床活动是有原因的，他们会寻找任何捷径来达到目的。在这种情况下，一个捷径就是，你知道，“嘿，我可以自己做这个。我应该吗？”对吗？我刚才说的，对吗？这是一个我们总是想以某种方式、形状或形式向我们的客户强调的问题，这就是——嘿，你们有一个非常强大的工程批次。你可以做任何事。应该什么都做吗？您还在构建数据中心吗？当然，这是一个，你知道，提出的问题，“你还在使用，建设数据中心吗？”那当然是稻草人。因为，嘿，我的意思是，也许除了世界上的 100 家公司，没有人再建造数据中心了。

**阿什利:**对，对。

**布德哈尼:**言之有理。在我们的行业中，我们在抽象方面继续往上走，对吗？我的意思是，从组装一直到操作，现在没有人再建立子网了。私有子网、发布子网——你只需创建一个 API 集群，就能在亚马逊获得一个，对吗？我为什么要造这个东西？

类似地，我们为他们提供了另一个抽象层次，让他们可以更快地行动。因为从根本上说，这个游戏的名字是，“嘿，如果我不快点行动，如果我不快点生产产品，我就要输了。”

**Ashley:** 我知道你曾与 AWS 和 VMware 合作。有没有特别适合你的环境？例如，如果您是 VMware 客户，您将—我们将直接连接到您的环境中，或者有没有一种技术体系比其他技术体系更容易集成？

**布德哈尼:**所以，这是一个非常不可知论的平台。我的意思是，VMware 环境可以在任何地方。我将重点介绍一个我们已经考虑过并作为平台的一部分实施的具体内容。

让我们假设这是一个成熟的组织，他们确实有一些混合环境，他们可能有一些架构设置，他们在那里运行 VMware，他们还有 Amazon，这没问题，对吗？因此，在一个环境中，他们可能正在使用 VMware 的 PKS，VMware 的 PKS 基础组件。但是在亚马逊，他们用 EKS，因为那是亚马逊卖给 Kubernetes 的东西。

好吧，现在我该做什么？我要构建两套平台来支持两种不同的环境吗？没多少人会这么做。或者，对于像我们这样的平台，我们会说，“嘿，听着，如果你对 Kubernetes 有什么意见，就说吧，本质上，我们会在整个运营商现有的 Kubernetes 的基础上增加价值。”这是 Kubernetes 的一个概念，叫做算子。

阿什利:嗯。

或者，如果你不在乎，如果你对我们说，“嘿，你知道吗？给我拿来，我不知道，不管最新的上游库本内特斯是什么，115 还是什么，只要拿来就行了。”没问题，我们也会努力的。但是，对于我们的 SaaS 平台，为了帮助您在数据中心的防火墙后或在亚马逊的安全组后管理您的环境，您不会碰巧在防火墙中打开一个门户供我们从外部进入。整个系统被设计为安全的，这样就有从内向外启动的会话，所以您的集群基本上运行一个代理。他们伸出手，代理所有的连接，而不会让安全问题突然出现在安全团队的雷达上。

顺便说一句，这是另一件事，听这个播客的任何人都在考虑某种多群集或多云解决方案吗？请让我们确保您不会与一家供应商签约，该供应商要求我们在安全方面做出可能不是最佳的决策，并要求我们开放端口、建立 IPsec 链接，您知道，所有这些都是糟糕的想法，最终会导致您今天没有想到的其他问题。

因此，这些是了解我们的企业安全、了解我们的企业问题非常重要的一些事情，所以我们仔细考虑了这些事情，并设计了一个不仅能够在任何环境中工作，而且能够以非常安全的方式在这些环境中工作的平台。

阿什利:当然，我认为，以你的经验，你可以帮助降低风险，为企业提供一种框架或途径。

很不幸，我们没时间了。你看，我觉得我们可以再谈一个半小时，分享很多关于它的好故事。我想感谢你——感谢你在这里的网络直播，播客。

是的，谢谢邀请我。这真是一次有趣的谈话。我期待着很快再次交谈。

阿什莉:是的，我也是。随时通知我们任何新消息。所以，我要感谢今天的嘉宾，Rafay 的首席执行官兼联合创始人 Haseeb Budhani。当然，我也要感谢你，我们的听众，今天和我们在一起。我是 Mitch Ashley，来自 DevOps，您已经收听了另一个 DevOps 聊天播客。在外面要小心。

— [米切尔·阿什利](https://devops.com/author/mitchellashley/)