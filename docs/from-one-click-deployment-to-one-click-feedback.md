# 从一键部署到一键反馈

> 原文：<https://devops.com/from-one-click-deployment-to-one-click-feedback/>

是什么让一群个人贡献者成为一个团队？

你可以把今天的产品开发团队看作是来自不同学科的工匠的集合。代码构建者、设计艺术家、故事讲述者和一个管弦乐队。类似于一个管弦乐队，他们的作品是基于他们每一个人和谐地、持续地、协作地一起工作的能力。

让我们更深入地研究一下今天的开发方法，看看这在实际意义上意味着什么。

在高层次上，我们看到三个主要步骤:计划、开发和发布。

1.  规划=授权设计工艺
2.  开发=授权代码构建工艺
3.  发布=优化上市时间(既然没时间废话了！)

尽管事实上团队应该一起工作，彼此非常协调，但当我们看现实时，它是非常不同的。我们实际上在筒仓中工作，培养黑箱思维。代替协作的是，通常有三个独立的单元组成一个整体，只有接口端点。

在这样的配置中，不可避免的是，一个单元的优先级会干扰另一个单元的工作或流程。如果没有更好地整合工作的实际协作部分，在整个端到端的规划、开发和发布过程中，以无摩擦和持续反馈的形式，最终，您自己单位的优先级将优先于其他单位。

## 工程 IRL

一个典型的工程流程，无论是正在开发的新功能、错误修复还是任何其他类型的协作工作，通常看起来都是这样的:

*   一个开发人员收到一个设计移交，从那时起，他被期望交付一个设计规范的工作表现。
*   开发人员开始工作(不管是单干还是在开发团队中；独立于产品或设计，在这一点上)并开始编写代码。
*   一旦完成，代码就被部署到预发布的阶段环境中，在那里设计者第一次真正体验到他们的工艺的结果。

如果你经历过类似的过程，你会同意，到目前为止，在过程中很少有时间或容忍度来迭代或提供反馈，也根本没有多少纠正。通常，快速发展的组织的思维模式是坚持我们已经准备好的东西，然后继续前进。实际的“协作”部分基本上被忽略了。真的只是一场接力棒向下游传递的接力赛。

但这种工程范式有其后果。曾经试图劝阻艺术家提供他们的反馈？预计房间里(或当今混合和远程团队结构中的虚拟房间)会有非常糟糕的氛围。

当然，这个例子实际上是开发过程的虚拟乌托邦。事实上，如今大多数组织都有一种更具破坏性的持续中断文化。

现在，让我们用一些现实世界的干扰来增加场景的趣味，这些干扰经常会打断正在进行的个人流程。

当一个工匠在工作的时候，不要打断他！但是当这么多事情并行发生的时候，你能做什么呢？在刚刚起步的小组织中，大多数人同时处理更多的工作。

经常发生的事情看起来很像这样:

销售部的 Jolene 需要一个特定的版本来为一个*超级*重要客户定制演示；支持部门的 Marko 开了 31 张您尚未处理的票，因为这是影响最终用户的*生产*问题；您心爱的单个暂存环境崩溃了，您无法查看任何新功能——哦，别忘了参加今天安排的三个会议。

有人沮丧吗？我喜欢称之为“多语境坏习惯”

好吧，我已经能感觉到有人竖起了眉毛，我几乎能听到你说，“是吗？！那又怎样？我们一直是这样工作的——有什么问题吗？?"请允许我给你看一些可能会让你吃惊的数字。

“找到心流是关键，而干扰是累赘。很少或没有干扰会让开发人员有 82%的机会度过美好的一天，但是整天的干扰只会让美好的一天的机会减少到 7%。”

埃尔里尼·卡利姆瓦库

*“会议既可怕又可怕。协作改进了我们的工作，但是太多的会议会成为一个阻碍；每天参加两到三次会议会降低 60%实现目标的几率。*

*博士。妮可·福桑*

总之，这些数据点基本上表明，破坏、中断和“多背景坏习惯”最终会对结果和成果产生有形的、有害的影响。它们大大减少了成功的结果和交付时间。

## 零点击部署作为一种文化

幸运的是，今天有多种实践和工具可以用来消除摩擦、打破孤岛并改进流程。

这可以通过从一键式部署发展到零点击式部署来实现。请允许我解释。

今天，我们有足够的工作实例可以(也应该)在工程实践中更广泛地复制。这里有一些例子。

### 预览环境

预览环境(有时被称为短暂或公关环境)提供了预览产品的机会。通过允许多个利益相关者在整个开发过程中评审和体验产品，您改变了管理开发过程的方式，并且能够在过程的早期提供相关的反馈和修正。这基本上意味着，对于任何 PR，您都可以获得一个可共享的、独立于您的暂存环境的真实环境。(我喜欢称之为开发中的反馈循环)。

### JAMStack

另一个很好的例子来自 JAMstack。当 JAMstacking 时，考虑使用 Netlify、Vercel 或 AWS Amplify 为您的团队获得这种能力。

### 基础设施代码(IaC)

如果你的项目是非 JAMstack，你可以考虑通过像 Terraform 或者 Pulumi 这样的 IaC 解决方案来构建一个类似的预览环境。这里的缺点是，这带来了相当多的麻烦，因为您必须为每一个 PR 建立自动化，以便有一个专用的可共享的环境 URL 供审查。

这很好，因为它通过更具包容性而使 PR 批准周期民主化。项目经理、设计师——几乎任何人都可以审查和批准开发中的 PR，而不必等到流程结束时才提供输入。它易于管理，因为它是隔离的，独立于阶段，这也提供了在开发阶段发现某种类型的 bug 或需要运行测试的情况下始终在线的问题重现能力。

但也不全是玫瑰和阳光。

要做到这一点，仍然需要克服一些差距和挑战。一些例子:

我们如何简化反馈？

开发人员习惯于在代码评审过程中用一种他们容易理解(大部分)的语言从同行那里获得评论，并迅速将输入合并到他们的项目中。他们不会因为离开他们正在工作的工具而失去上下文(例如，到 Slack 或 Acme Corp. Task Manager)，因为这将他们保持在他们的源代码管理环境(SCM)中。我们需要考虑如何在这个过程中为每个人提供相同的开发人员体验，以最大限度地减少公关失误。

我们如何提供可操作的高质量反馈？

例如，UI 和行为问题报告是非常耗时的，因为您必须记录并解释为了使其有效，到底需要做哪些更改。任何想要的改变都可能涉及到开发人员，这给他们的日常工作增加了又一个干扰和中断。

## 将零点击部署转变为点击反馈

如果我们想要优化开发人员的流程，在简化部署方面之后的下一个阶段是看看我们如何以不打扰的方式添加反馈层。

我们现在需要采取这种心态，赋予我称之为“一键反馈”的能力。

当然，这不是一个新概念。让我们从我们都喜欢的协作工具中获得一些灵感，如 Figma、Miro 和 Notion。

这些工具的神奇之处在于提供上下文反馈的能力。这很重要，因为它支持上下文协作。任何用户基本上只需点击一下鼠标就可以分享他们的反馈，同时保持在上下文中，增加了反馈得到顺利处理的可能性。

这使得以下核心价值成为可能:

1.  任何人都可以轻易地指出需要创作者注意的东西。
2.  创建者可以立即了解项目上下文中的反馈以及他们正在做的工作，并回复或标记另一个相关的同行以了解他们的观点。
3.  创建者不会离开他们的主要工作环境来优先考虑新任务或给予它所需要的关注。就像设计师不会离开 Figma 去应用反馈一样，项目经理也不需要离开 Miro 去应用他们的反馈，等等。

这些工具以包容的方式欢迎反馈，同时强制执行无摩擦的工作流。没有人会干扰创建者的流程，因为它也是异步发生的——不需要会议、同步或多个利益相关者的协调。这对于今天的远程工作文化来说也更具包容性和相关性，这需要通过异步渠道和流程对团队沟通进行投资才能有效。(这里有一个关于这个话题的很棒的谈话值得观看；没错，打断你的心流来看这个视频的讽刺意味不减。 [*不，真的，不要把所有事情都丢在一边:分布式团队的沟通*](https://www.youtube.com/watch?v=CyzoF7mHEBo)——来自弗洛里安·哈斯)

假设你在这方面找到了一些真理，我想解决现在明显在房间里的大象:为什么我们不为开发中的协作引入同样的能力？

## 一键式反馈代码

我们开始看到一种趋势，例如，像 Netlify 和 Vercel 这样的框架耦合公司正在将协作方面添加到他们的产品中。事实上，Netlify 正在收购一家公司， [FeaturePeek](https://www.netlify.com/press/netlify-acquires-featurepeek-and-launches-next-generation-of-deploy-previews-to-streamline-collaboration-for-web-teams/) ，以便在他们的预览环境上嵌入协作功能，Next.js 正在开始他们的 Next.js Live 产品的早期访问展示。

想象一下，开发人员在 PR 批准周期中获得包容性的反馈；不仅仅是同行对他们代码的评论，还有 UI、设计和行为评论，以及所有需要的资产和上下文，以便在不离开他们的工作环境的情况下继续前进！当采用这种工作流程时，这种转变将对上市时间、质量和速度产生可测量的影响。

这里的主要前提是，为了实现与流程相关的更好的指标(正如 Nicole Forsgren 博士在上面提到的)，我们不应该扰乱流程。减少创作者流程中的摩擦和中断的好处是指数级的，并将使我们更接近和谐地工作(如果我们坚持管弦乐参考)或者更简单地合作，作为一个团队，每个人总是最大化他们能够处于创作模式的时间，没有筒仓或黑盒。

你怎么想呢?你认为团队应该如何合作？你如何在你的组织中处理流程？