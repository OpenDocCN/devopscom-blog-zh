# 命令式还是陈述式？网络中的 DevOps 问题。

> 原文：<https://devops.com/imperative-or-declarative-the-question-of-devops-in-the-network/>

大量的带宽都花在了讨论自动化和称赞更广泛的 DevOps 保护伞下的 API 的价值上。这些概念在 CI/CD 和应用程序体系结构向解耦的、面向服务的系统发展的环境中尤其重要。自动化被用于构建和测试，以驱动工作流，将应用程序从互不关联的服务集移动到一个可以工作的发布候选，准备突破生产的壁垒，并被交付给崇拜的粉丝不耐烦的消费者。

但是在消费者和你的应用程序之间有一条生产管道；一个充满流程的荒地，一个应用程序必须穿越它，以便交付它所需的适当服务可以被供应、配置和放置到位。无论我们称之为 DevOps、SDN 还是 SDDC，这条管道都将与 DevOps 正面交锋。它阻碍了越来越重要的“上市时间”指标，而所有这些都是通过这个指标来衡量的。研究表明，生产管道是 IT 的一个主要痛点；需要几周甚至几个月的时间。网络仍然是个障碍，如果要满足高管们对满足日益增长的应用上市压力的担忧，就必须解决这个问题。

将 DevOps 原则应用于基础设施和网络是有意义的，因为它与优化流程(工作流)和编写脚本一样重要，受益的是生产管道*流程*。当然，自动化和流程编排将有助于推动更加一致、高效和可重复的生产管道遍历。通过使用自动化和流程编排系统建立更高效(或许是自动化)的移交来识别流程中的低效之处(延迟)并消除它，可以大大缩短从移交到生产和交付给消费者之间的时间。

API 是我们今天的“首选”技术，用于推动自动化、流程编排以及与我们赖以扩展运营的框架和系统的集成。如今，几乎每个基础设施和网络设备都有一个 API，可以通过 Puppet 和 Chef 等框架进行控制，也可以直接使用。

但大多数是强制性的控制方法。它要求通过一系列 API 调用严格定义流程。与虚拟机等更简单的资源不同，人们不仅仅需要“启动、停止或暂停”曾经(老实说，现在仍然是)使用 SSH 通过 CLI(命令行界面)完成的配置只是简单地迁移到使用 HTTP 的 API。

但除此之外，没什么变化。CLI 中使用的相同命令现在通过 API 发送。我们仍然处于命令模式，如果我们需要调整配置，我们需要调整驱动配置的脚本。

现在来比较一下另一种方法:声明式方法。使用模板来描述*需要配置或完成什么*(数据)，而不是*需要如何完成*(命令)，这不仅在过程中，而且在获得(或未获得，视情况而定)的长期技术债务方面都有很大的不同。API 改变；方法不受欢迎，版本很重要。将应用服务(负载平衡、缓存、优化和加速、安全性)视为“代码”(模板)，而不是一系列 API 调用，可以极大地改变这些服务的供应和配置速度。这样做的额外效果是减少了自动化代码的变动量，同时也减少了技术债务。这种方法也更具可移植性，使得可能(或将会)迁移到不同环境中的应用程序能够更容易地迁移到云环境中。

最终，问题是您是否希望将您的流程(以及该流程中工作流步骤之间的接口)绑定到许多 API 调用或一组标准化的 API 调用，这些 API 调用利用声明性策略(模板)来提供和配置构成生产管道的服务。