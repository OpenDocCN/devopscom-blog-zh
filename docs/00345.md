# 作为代码的基础设施的阴暗面

> 原文:[https://devops.com/dark-side-infrastructure-code/](https://devops.com/dark-side-infrastructure-code/)

我们花了很多时间赞美基础设施作为代码的优点。这一切都是真的。在应用程序部署过程中，将基础设施视为代码能够促进一致、可预测和可重复的结果，从而增加巨大的价值。将基础设施视为代码的方式之一是通过使用可编程性。

可编程性是软件定义架构中不可或缺的组成部分，DevOps 方法的一部分是通过与传统的开发生命周期工具和技术集成实现自动化。API、应用模板和以编程方式与数据路径交互的能力支持在网络中快速提供服务。这对业务很重要。提高网络中的服务速度对于实现更快的上市时间和必要的运营规模至关重要，以应对云、移动和物联网驱动的应用增长所带来的日益增长的网络压力。

为了获得竞争优势，处理的速度和供给现在与包的速度和供给一样重要。

那些认为 DevOps 和 SDN 对他们的组织有战略影响的人认为可编程性甚至更重要。

但这并不意味着将基础设施视为代码就没有它的黑暗面。因为对任何事情采取程序化的方法意味着你既能获益又能承担风险。

当我偶然看到一个帖子提醒我们代码审查的重要性时，我碰巧在思考这个话题。内容一般，但前提是正确的:对于那些接受将基础设施视为代码的概念的人来说，代码评审是必须的。

为什么这是(或者应该是)必须的？

考虑一下来自 [InitialState](https://www.initialstate.com/) 的一些统计数据，这是一家帮助工程师捕获和理解产品数据的技术初创公司。我们基于云的日志可视化即服务平台有助于工程师了解由“智能”、复杂的产品和应用程序产生的数量激增的日志。”

根据他们的数据，开发人员必须在每 1000 行代码中发现并修复 100 个 bug。修复一个错误比写一行代码要花 30 倍的时间。总的来说，开发人员最终要花费 75%的时间(每年大约 1500 小时)来调试代码。

现在，当您开始将基础架构视为代码、编写脚本以自动化供应并与其他系统集成以编排部署流程时，请花点时间思考这意味着什么。

[![2011.09.18_code_reviews](../Images/cad8f0904e6545e677dadf3d879bcb45.png)T2】](https://devops.com/wp-content/uploads/2014/10/2011.09.18_code_reviews.png)

我不会说谎，代码审查可能是乏味的。但是，当有人第一次指出错误时，特别是可能导致安全漏洞或不良服务中断的错误，痛苦是不可弥补的。从长远来看，代码审查有利于消除破坏性错误。2012 年的一项 [SmartBear 调查发现，“70%的组织表示代码审查非常重要”并且“那些进行代码审查的组织显然对其软件的整体质量更满意——他们表示对其软件质量非常满意的可能性是其他组织的两倍。”](http://www2.smartbear.com/rs/smartbear/images/State%20of%20Code%20Review%20eBook%20by%20SmartBear%20(1).pdf)

换句话说，代码审查是软件开发生命周期(SDLC)的重要组成部分。这意味着当它利用可编程性将基础设施视为代码时，它应该是软件部署生命周期的一部分。

因此，在采用 DevOps(或 SDN，如果你打算这样做的话)的早期阶段，重要的是你要建立流程来检查(也许是双重检查)你正在使用的脚本、模板和集成，以沿着整个运营链(从应用到网络)自动化应用和服务部署。