# 日志记录为 Devops 和安全性赢得胜利

> 原文：<https://devops.com/logging-wins-for-devops-and-security/>

当公司可以投资服务于多个群体和目的的工具时，这总是很好的。确保正确设置和使用日志是一个工具集，可以同时服务于开发操作和安全性。

**为什么日志对开发人员很重要**

DevOps 使用日志主要是为了了解应用服务器、数据库系统或操作系统内部发生了什么。在很大程度上，日志是一种帮助开发人员诊断问题并确保系统正常工作的资源。有时日志提供了一种跟踪机制，帮助开发人员了解客户在他们的应用程序中做了什么。DevOps 人员非常熟悉更新和流行的日志聚合服务，如 Splunk、SumoLogic 和 Loggly。

**保安也喜欢日志**

好消息是安全团队也喜欢日志。日志的使用、审查和管理对于组织的安全功能非常重要，它甚至是 [SANS top 20 关键安全控制](http://www.sans.org/critical-security-controls/)的一部分。从安全的角度来看，日志提供了大量的重要数据，从取证分析到审计记录。

**建议**

因为日志对于开发人员和安全团队都非常重要，所以以满足两个团队需求的方式实现您的日志工具是值得的。这里有一些快速提示，可以帮助你设置日志工具，为开发和安全创造一个更好的世界。

**集中登录&注销站点**

将所有系统设置为登录到同一个集中位置。如果你把所有的日志都放在一个地方，设置日志审查和提醒就容易多了。出于安全原因，登录多个位置也是一个好主意。考虑将日志记录到网络中的一个集中位置，也可以记录到一个远程位置。例如，让所有系统都登录到中央服务器，同时也登录到远程服务，如 SumoLogic、Loggly 或 Splunk。这样，您就有多个日志副本可用于取证目的。

**时间同步**

确保你所有的系统都有严格的时间同步。没有什么比阅读您的集中式日志，发现一些系统没有正确的时间同步更糟糕的了。NTP 是您设置时间同步的好朋友。确保使用两个或更多可靠的上游时间服务器，并将所有服务器配置为相互对等。

**应用程序和操作系统日志**

从最常见的基本配置开始，以便所有系统都使用 syslog 来捕获和分发日志。一开始，syslog 中的日志可能只来自操作系统和少数已经配置为使用 syslog 的进程。但是，有大量其他正在运行的进程也应该记录到您的中央系统中。DevOps 团队希望确保所有的应用程序，甚至是定制开发的代码，都记录重要的信息。请确保您的自定义应用程序记录了足够多的有用信息，以便在出现问题时能够进行诊断。

**设置警报&报告**

没有人想拖着一吨又一吨的木头。为了防止这种情况，您首先应该做的事情之一是设置一组基本的警报和报告。当用户获得系统或应用程序的管理访问权限时，安全团队希望确保日志记录并发出警报，但是还有许多其他事件需要日志和警报。花些时间想想那些可能意味着某些东西工作不正常，需要注意的事件。要求开发团队专门记录应该审查的非关键事件，并将它们合并到每日报告中。

**要啰嗦，但要小心**

提高所有系统的日志级别，但不要太过分。你要小心不要记录太多。例如，您可能不需要一直在调试模式下运行所有系统。您还需要确保没有记录敏感信息，如用户密码或身份验证令牌。对于日志来说，有一种东西太多了。

如果日志设置正确，它们将为开发运维团队和安全团队带来无尽的好处。现在，去记录吧！