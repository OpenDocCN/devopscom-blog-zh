# DevOps 的指标

> 原文:[https://devops.com/metrics-devops/](https://devops.com/metrics-devops/)

您的组织现在致力于开发运维方法。您已经集成了开发、运营和 QA，并且您已经彻底脱离了瀑布式开发，进入了应用程序开发的消防水龙带。你如何发现它工作得有多好？你怎么知道它到底有没有用？许多 net new DevOps 组织惊讶地发现，开始比他们想象的要容易，但维持下去却很难。这可能是因为险恶的习惯，或者只是因为团队太深入杂草。总之，你需要度量标准

您不仅需要度量标准来衡量您的 DevOps 项目的成功(或不成功)，还需要度量标准来找出如何改进、修改或扩展它。没有度量标准，你就盲目飞行。有了度量，你就有了一个整体的观点，你知道你在哪里，你要去哪里，你能去哪里，以及如何到达那里。但我不是在谈论测量管道内活动的分析工具。我说的是测量管道本身。

DevOps 度量标准衡量哪些因素？在很大程度上，他们衡量的是开发、部署和客户响应的速度，部署和失败的频率，维修时间，维修请求的数量，以及这些指标的变化率。DevOps 度量的焦点倾向于部署、操作和支持(例如，相对于设计和早期开发)，因为大多数与 DevOps 相关的持续工作都在这些领域。

大多数 DevOps 指标分为三大类:

*   **人。**人是任何 DevOps 流程的固有组成部分。面向人的度量标准测量诸如营业额、能力和响应时间之类的东西。永远从人开始。它们是所有元素中最难的元素，它们的影响有时很难被发现。
*   **流程。**从某些方面来说，开发运维与流程息息相关，持续的部署/运营/支持周期是一系列相互交织的流程。但是一些度量比其他的更明显地面向过程，特别是那些涉及连续交付、响应和修复的度量。例如，从开发到部署的交付时间是一个很大程度上面向流程的指标，部署频率和响应时间也是如此。过程度量可以是速度的度量(瓶颈在哪里，过程本身是瓶颈吗？)、适当性(所有步骤都相关吗？)、有效性(它能完成工作吗？)，或者效率(这些步骤是否处于最佳顺序？流程中是否有顺畅的流程？).
*   **技术。**技术指标在 DevOps 中也发挥着重要作用，衡量正常运行时间(系统运行的时间百分比是多少？网络和支持应用程序呢？)和失败率(失败的部署、变更或单元的百分比是多少？).

当然，许多 DevOps 度量标准或多或少都涉及到这三个类别。也许要了解度量在实践中如何发挥作用，最简单的方法是查看 Puppet Labs 使用的关键度量(Puppet 不是我的客户，我也不是他们的客户) :

## ***部署(或改变)频率***

DevOps 实践使频繁或连续部署成为可能；大型、高流量的网站和基于云的服务使其成为一种必然。有了快速反馈和小批量开发，更新的软件可以每隔几天部署一次，甚至每天部署几次。在 DevOps 环境中，部署频率可以是对响应时间、团队凝聚力、开发人员能力、开发工具有效性和整体 DevOps 团队效率的直接或间接度量。

## ***改变提前期***

从开发周期的开始(第一个新代码)到部署的时间是变更前置时间。它是对开发过程的效率、代码和开发系统的复杂性以及团队和开发人员能力(如部署频率)的度量。如果变更的前置时间太长，这可能表明开发/部署过程在某些阶段是低效的，或者它包括性能瓶颈。

## ***改变故障率***

DevOps 的主要目标之一是将快速、频繁的部署变成日常事务。不用说，为了使这种部署有价值，失败率必须很低。事实上，随着 DevOps 团队的经验和能力的增加，它应该随着时间的推移而减少。不断增加的故障率，或者很高且不随时间下降的故障率，是整个 DevOps 过程中出现问题的良好迹象。

## ***【MTTR】***平均恢复时间

这是从故障到从故障中恢复的时间。它通常是团队能力的一个很好的度量，并且像失败率一样，它应该显示出随着时间的推移而整体下降(当团队遇到技术上不熟悉的问题时，允许偶尔更长的恢复时间)。MTTR 还会受到代码(或平台)复杂性、正在实现的新特性数量以及操作环境变化(比如迁移到新的云服务器)等因素的影响。

基于这些指标，理想的 DevOps 团队将产生频繁、快速的部署，具有较低(且不断下降)的故障率和较短(且不断缩短)的恢复时间。当然，在实践中，可能存在与这些趋势背道而驰的因素——例如，频繁部署的需求或机会减少，或者操作条件或要求的频繁变化。然而，总的来说，这些指标确实涵盖了开发运维中一些最重要的性能问题。

底线是如果你使用 DevOps 方法，你需要度量，你需要好的度量工具。没有度量，您将无法知道您的 DevOps 实现是否正在做您想要它做的事情，或者它是否包含需要您注意的问题区域。

至少，良好的 DevOps 指标应该涵盖上述四个方面(部署频率、交付时间、故障率和恢复时间)，以及对您的组织至关重要的其他关键性能指标。好的 DevOps 度量工具应该以清晰、详细、准确且易于配置的方式向您呈现这些信息，使您能够快速关注潜在的问题领域和 DevOps 流程中的其他关键点。

测量 DevOps 性能的工具通常会监控实时流程和条件(如正常运行时间和停机时间，或流量)，并记录事件(构建、部署、故障、维修单等)。).更通用的项目管理工具可以跟踪诸如项目进度和目标与性能之类的因素，也可以提供有价值的 DevOps 度量。

注意:当你开始仔细观察 DevOps 指标时，你会发现有很多可用的指标。在深入了解 DevOps 指标之前，重要的是要清楚地了解哪些指标对您最重要，以及它们如何应用于您的 DevOps 计划。如果你不知道你在寻找什么，很容易迷失在不相关的数据的迷宫中，但是如果你保持专注，你可以直奔 DevOps metrics gold，并好好利用它。