# 通往吉托普斯之路

> 原文:[https://devops.com/devops-unbound-ep-9-the-road-to-gitops/](https://devops.com/devops-unbound-ep-9-the-road-to-gitops/)

GitOps 采用 DevOps 的最佳开发实践，并将其应用于基础设施自动化。简而言之，GitOps 提供了一个密封的、不可变的部署。那么，GitOps 是否正在取代 DevOps？

通过 GitOps 将基础设施作为代码进行管理可以改变组织的游戏规则。但是，什么时候最好使用 GitOps 方法，什么时候不适合？在本期[devo PS unbounded](https://digitalanarchist.com/videos/devops-unbound)节目中，我将与 DeployHub 的特雷西·拉冈、Tricentis 的帕拉格·多希、GitLab 的布伦丹·奥利里和加速战略集团的米奇·阿什利一起讨论这些问题，gitop 对 CI/CD 市场的影响以及 2021 年 gitop 的未来走向。

视频紧接在下面，后面是对话的文字记录。尽情享受吧！

[https://player.vimeo.com/video/515730381](https://player.vimeo.com/video/515730381)

## 副本

**艾伦·希梅尔:**大家好。这位是艾伦·希梅尔，MediaOps 的首席执行官。你正在收看另一集《解放的德沃普斯》。让我给你介绍一下我们本周的专题小组，我们将直接进入主题。首先，我们迎来了 DevOps Unbound 的新成员，但他对我们的观众来说不是一个新人，我的好朋友 Brendan O'Leary，GitLab 的高级 DevOps 福音传道者，CNCF 的董事会成员。嘿，布兰登。欢迎光临。

布兰登·奥利里:艾伦，和往常一样，很高兴见到你，也很高兴来到这里。

Shimel: 谢谢你来这里，布兰登。接下来我们有请我们的好朋友和半常客特雷西·拉冈在 MediaOps 做我们的视频片段。Tracy 是 DeployHub 的首席执行官，也是社区选举的 CD 基金会董事会成员。嘿，特蕾西。欢迎光临。

特雷西·拉冈:谢谢。艾伦，非常感谢你今天邀请我。我总是喜欢做这些。

绝对的。我们喜欢有你。我们今天的第三位小组成员来自 Tricentis，他也是 devo PS unbounded 的赞助商，他是 Parag Doshi 博士。帕拉格在 Tricentis 公司担任工程副总裁。帕拉格，欢迎。

**Parag Doshi:** 大家好，艾伦。很高兴来到这里。谢谢你邀请我。

**Shimel:** 谢谢。感谢你的参与。最后但同样重要的是，我的搭档，米奇·阿什利。Mitchell 是加速战略集团的首席执行官/创始人，也是 MediaOps 的首席技术官。嘿，米切尔，谢谢你今天能来。

米奇·阿什利:当然，艾伦。感谢所有小组成员的参与。你们都很棒。我们喜欢有你。

**Shimel:** 你知道，在我们进入 COVID 时代的持续发展之前，我们已经对我们的背景做了很多，在我们的视频上[ *笑声*，对吗？看看 Tracy 时髦的 DeployHub 背景，Mitchell 的背景，Parag 的背景，还有 Brendan 的老派背景。布兰登给了我们——如果我没记错的话，他以前住在地下室，现在搬到楼上了。我想他转移了其中一个孩子。

是的，我搬到楼上去了。

希梅尔:是啊，是啊。这是一个真实的背景，对布兰登来说很好。

阿什利:他拿着一个 MV7 麦克风。干得好，布兰登，麦克风。

哦，谢谢。是啊。

希梅尔:是啊。

奥利里:所有，你知道，发布 COVID 的东西使它工作，艾伦。我想有背景，真正的背景来使它工作。但这也是一个 COVID 变化。

**Shimel:** 是正品。是啊。[ *笑声*疯狂的东西。无论如何，伙计们，今天的节目围绕着 DevOps 最热门的话题之一——GitOps。对吗？事实上，我从人们那里听说，GitOps 是新的 DevOps，或者说 GitOps 正在以某种方式取代 DevOps，我认为 DevOps 已经超越了——它将被某些东西取代。

如果你愿意的话，它已经超越了一个不同的存在层次。但是很多人都在谈论 GitOps。这不仅仅是他们的口头禅，还体现在他们的开发计划中，以及他们如何将软件交付到云、云原生环境等等。但这是适合所有情况的正确举措吗？是灵丹妙药吗？

什么时候 GitOps 是个好用的东西？什么时候使用它可能不是一件好事？对吗？这在多大程度上改变了我们在 DevOps 中已经开始考虑的经典 CI/CD 渠道？诸如此类的东西。所以我要–Brendan，当然，GitOps，GitLab，他们都有 Git。

所以我们要让你——我想让你开始。先说一些定义。吉托普对你来说意味着什么？

**奥利里:**这是一个很好的问题，我认为这个问题可能还没有解决，对吗？就像定义 DevOps 有时会被认为是不确定的。GitOps 来自云原生社区，所以很多人可能会限制 GitOps 的概念，说它只存在于 Kubernetes 世界中。因为这就是这种方法的由来。但是我们已经看到人们将 GitOps 原则应用于各种不同的基础设施和自动化，从老派虚拟机到容器，再到 Kubernetes 集群。

所以当我想到 GitOps 时，我认为它需要三样东西。一，作为代码的基础设施。对吗？你一开始就说过了。这有点像赌桌上的赌注。这是我们努力了很长时间的事情。但是真正定义 Git 中的代码 GitOps 的 Git 部分——我们的基础设施将会是什么样子，然后将配置保存在该代码中。

也许期望的状态是以代码的形式存储的，但至少我们达到期望状态的方式是。第二，我认为是合并请求。所以我们称之为合并请求。你会听到其他人称之为拉请求。但是将某人提出变更的地方作为团队合作的中心的概念。

这是我们想要的改变吗？这有助于解决我们正在努力解决的问题吗？对吗？将这一概念引入基础设施领域是非常有益的，因为这是我们的开发人员已经工作了多年的方式。提出合并请求，这是审批和安全检查以及所有其他事情的核心来源，非常重要。

最后，我认为第三件事是 CI/CD，对吗？当然了。所以 GitOps 的想法是自动化基础设施，用一个非常简单的 Git 工作流程进行更新。所以你真的必须接受并采用持续集成和持续交付，才能让整个 GitOps 包对你有意义。

Shimel: 相当不错。评论、附加内容、想法？帕拉格，特蕾西？

拉冈:我只想在这里补充一点。如果你说什么是 GitOps，我喜欢把它缩短。我认为 Brendan 刚才的定义非常准确，但这是通过拉式请求进行的操作。GitOps 的目标，GitOps 提供的是一个密封的、不透气的、不可变的部署。本质上，这就是我们试图通过使用 Git 来实现的，在这里我们声明和定义我们将要推出或已经推出到集群的内容。

所以这是一个密封部署的概念，一个没有人碰过的密封的东西。你不敢碰它，然后把它展开，因为我们不知道你做了什么。所以整个想法是创造一个密封的过程。

席梅尔:我很喜欢。这是简洁和正确的。

**Doshi:** 我也有类似的观点。我认为 GitOps 是代码加事件驱动架构的基础设施的组合。对吗？在这种情况下，我们谈论的是合并请求或拉请求或任何你想使用的术语，这取决于你喜欢的 Git 的风格。但作为一名前物理学家，我认为熵是存在的。太难了，什么都记不住。人类不可能什么都记得。

我们需要能够像应用程序开发人员在过去几十年中所做的那样，用代码描述事物的版本，以及与所有事物相关的文档。然后是我们在 CI/CD 中实现的自动化，人们会想，哦，好吧，这是开发人员推出他们的代码，我们没有理由必须停留在应用程序级别。它需要是整体，因为应用程序和基础架构必须始终保持同步。因此，通过将对应用程序、基础设施和周围环境的描述放入 Git，您可以将 AppDev 的最佳实践带到整个世界，这样它们就都是同步的。

阿什莉:是的。我也喜欢这个描述，Parag，因为在某种程度上，它打破了我们在代码构建和部署过程中仍然存在的孤岛。这几乎就像如果你回想起我们开始使用代码库的时候，好吧，每个人都把他们的源代码放在一个地方，好吧，让我们把它扩展到工件和其他东西。现在我们在做同样的事情，让我们在一个更高的层次上抽象，让整个事情从摇篮到坟墓，如果你愿意，让代码进入产品。无论是堆栈的任何部分，都是一个 GitOps 过程。

Tracy，就你的观点而言，它是一个不可变的对象，它是我们从头到尾都知道的东西，它一直都在一个环境中，我们碰巧有刚刚自动化的手动流程，这些流程可能很弱或可能会被破坏。

**Doshi:** 我将在 Branden 的基础上再添加一条评论，我认为它来自云计算原生计算基金会，但我看待容器的方式是，容器或虚拟机并不重要。我们只是将控制平面提升到了一个更高的层次，但同样的原理也适用。因此，没有理由不能在容器类型的环境或非容器环境中使用这些相同的原则。我想说的容器的唯一区别是，我们可以非常精细，精细到每个单独的罐子。因此，云原生架构非常细粒度有一点优势。

是的，我同意。我认为，对于人们来说，区分 GitOps 的概念和我们都谈到过的原则是很重要的。我同意其他小组成员的观点，以及他们对此的看法。但是把这些原则和技术分开，对吗？因为 Kubernetes 并不总是适合您部署所有工作负载的技术，但 GitOps 的概念仍然适用。

我真的很喜欢特蕾西的密封容器——嗯，容器这个词用得太多了。【*笑声*】但是这种封闭的部署没有很多人——或者说没有任何人的互动。这就是 Mitch 所说的，我们想让人们孤立地工作，这是一种洞穴般的性质，在这种情况下，你必须有一个人知道的专业知识。哦，等等。我们如何部署该服务？

哦，我们得给艾伦打电话。他是知道怎么做的人。笑对吗？你想摆脱这一切，让它成为 Tracy 所说的那样，就像一个密封的部署，我们知道我们每次都可以复制。

拉冈:对。因此，GitOps 是一个利用现有工具和习惯来创造厨师和木偶的绝妙方法。基本上就是这么做的。我的意思是，它有一个木偶样的主架构。您的集群上运行着一个 GitOps 操作符。它根据 Git 中的内容进行拉取。它很大程度上采用了厨师和木偶的基本概念，并利用了人们已经拥有的现有工具，一些开源的 GitOps 运营商，他们已经开始运行了。这就是吉托普的辉煌和美丽。我的意思是，我对 GitOps 有很多问题，我相信我们会分享它们，但它的辉煌在于简单。

具有讽刺意味的是，Tracy，很多人会告诉你 Kubernetes 杀了厨师和木偶，对吗？我们已经看到大厨以低于之前估值提升的价格被出售。

拉冈:不，我只是在说基本概念。

不，不，我明白了。但是如果我们看看 Chef 和 Puppet 所做的事情背后的概念，那就是自动化部署，像这样的部署自动化，然后使用 Kubernetes，它在某种程度上否定了这种需要，但是我们有点偷偷摸摸地在后门。只不过我们把它放在 Git 中以便在 Kubernetes 中使用。讽刺的是，这是相当深刻的，对不对？

拉冈:嗯，一切都和容器有关。

**阿什利:**对，对。

希梅尔:是啊。你说得对。可能是因为厨师和木偶——*相声*

拉冈:集装箱简化了，是的。

**Shimel:**–没有弄清楚如何在容器中工作。听着，詹金斯也是。对吗？我们去詹金斯 X 是因为所有这些和其他事情。

阿什利:这是一个非常好的例子。

但是我想起的是那首老歌，对吗？“见见新老板，和老老板一样。”

拉冈:完全正确。

Shimel: 你还有以前的老板。话虽如此，这里还有另一件事，帕拉格，我要请你开始，因为我带我们到这里的方向，这是 GitOps，是的，这是为了部署。测试呢？我说这都是为了测试。我们正在 Git 中进行测试。是不是就此打住，对吗？这样好些了吗？更糟？是不是就应该这样，永远，有时，永远？

所以我不知道我是否会称之为在 Git 中的测试，但我会说现在 Git 变成了真理的来源。所以我认为 Tracy 说的是对的，它只是基础设施的自动化，但现在让 Git 成为定义它的核心。所以 Git 部分没有改变，但是测试现在是事件驱动的。对吗？因为你已经合并了代码，你已经提交了代码或者去做了一个拉请求，这可以触发测试。

我们称之为持续测试。我认为这甚至可以发展到我们的测试定义本身也应该放入 Git。这是我们的下一次进化。我不认为这真的很平常，但当那发生时，我们正试图尽可能多地将 Git 描述为一个存储库，并使用版本控制的原则和事件驱动的概念。

因此，当一个开发人员做 X 或者当一个操作人员在 Y 环境中并且需要改变某些东西时，整个 Git 工作流可以邀请持续的测试来说，我允许那合并回来吗？如果你想得到批准，你可以做这些事情。所以对我来说，结合持续测试，以及我们将测试定义放入 Git 的那一天，我们已经离完成这一愿景并真正实现 DevOps 更进一步了。对吗？因为 DevOps 不仅发布速度非常快，部署速度也非常快。它可以轻松自信地快速部署。这就是我们需要的。

席梅尔:对此有何想法，面板？

Ashley: 包含测试环境看起来是一种自然的进化。就像你说的，帕拉格，这在今天可能还不常见。一个关于这个的问题。你认为负责测试的人有动力吗，不管他们是 QA 团队还是编写测试的开发人员，诸如此类的？你认为他们有正确的动机将它转移到 Git 中，还是会有其他原因导致它发生？

我认为只要人们有尽快交付价值的动机，同时有最好的恢复时间，最低的缺陷泄漏率，只要我们像你说的那样打破这些筒仓。如果测试团队，好吧，好吧，我不明白开发人员做什么，只是把它扔过墙，然后我做我的测试，这是行不通的。这是关于开发测试人员，全栈开发人员。只要每个人的动机是正确的，我们试图越来越快地提供价值，我们就不会有信心-副总裁不会说让我的应用程序退出-你知道，他们只会看着应用程序组合，说已经完成了多少测试？完成了多少安全检查？

那是另一回事。环境。好吗？这是最大的熵。我们对环境的控制最少。同样的代码，同样的基础设施在不同的环境下表现不同。直到我们把环境描述也放入 Git，加上测试模型本身，说明我们如何在该环境或该应用程序或该基础架构模式中测试它，然后 DevOps 才成为现实。在那之前，这都是空谈。

是的，我同意。我认为这是至关重要的，这是 GitOps 的东西，同样，GitOps 的这个概念，我认为对许多长期以来试图实现 DevOps 的人来说是令人兴奋的，因为它在某种程度上实现了这一点。对吗？我想说，我们看到了隧道尽头的曙光。如果所有这些都被引入 Git，并被制作成可以独立于任何人类交互进行部署的东西，那么现在您就有能力进行持续测试了。你有能力在一个完全相同的环境中生存，金鹅或[*笑声*]金蛋，嘿，我们想要一个完全像生产环境的环境来真正测试它，真正通过安全测试，并且知道当我们部署到生产环境时，我们会有信心。

因此，如果您能够继续迭代环境和基础架构，就像您迭代代码一样，它使您能够说，好吧，现在我们不仅可以审查代码，可能还会进行一些静态代码分析和测试，然后可能会进行一些人工测试，现在我们还可以自动建立一个反映生产的整个环境，我们可以高度自信地认为，当它真正发布时，它将会工作。

那么，伙计们，你们告诉我 DevOps 还没有真正实现。我觉得我生活在母体里，有点像生活在模拟世界里。特蕾西，我感觉你是特工史密斯。你有不同的看法。也许 GitOps 不是万能药，或者它被投射到这里。你有什么看法？

拉冈:所以不要寄恐吓信，好吗？没有恐吓信。[ *笑声*

因为我知道有很多热心的人，他们理应如此。但是让我来说清楚，我知道我们要去哪里，GitOps 不能带我们去哪里。GitOps 势在必行。是照本宣科的。它运行得非常好——所以想想大多数人是如何使用 GitOps 的。

你有一个保存所有源代码的代码仓库。您对源代码进行了更改。你要像往常一样登记。您还有一个环境存储库，环境存储库中存放的是您的 Kubernetes 部署 YAML 文件。这是您定义我们一直在讨论的所有内容的地方，也是 GitOps 操作员要查看和处理的内容。

现在，如果您在 Kubernetes 环境中，并且您已经将您的应用程序容器化——这很好，真的——并且您没有太多的环境——您有三个环境开发、测试和生产——因为请记住，在 Kubernetes YAML 文件中，有几件事对 GitOps 操作员很重要。一个是容器的标签。所以，一旦你注册了你的容器图像，你就会得到阿沙，这使它成为一个惟一的标识符。你必须用 SHA 更新你 YAML 脚本。

现在，开发、测试和生产可能有不同的值，即配置值。所以要分支。所以你分支开发、测试和生产。所以现在您有三个版本的 YAML 文件来管理您的容器部署。这对于今天的大多数组织来说是可行的，但它仍然是必要的。每个环境的脚本都定义了一切。

现在让我们来扩展它，扩大它。让我们将其扩展到微服务环境。每个微服务都有自己的 YAML 文件，因为它应该独立部署。它们应该被共享，因为这就是面向服务架构的美妙之处。它们应该在团队间共享。因此，作为一个应用程序团队，你要做的是在你的编码库中进行编码更改，然后为不同的服务创建不同的 YAML 文件。

现在假设你是一家商店。我去糖果店、时尚店和服装店。他们都使用信用卡服务。他们都将把他们的卡服务 YAML 文件放入他们的环境存储库中，然后部署到他们自己的集群和命名空间中。所以你有一个扩展的问题，这是因为 GitOps 的必要性。

我们开始转移，并有更多关于声明性、事件和目录的对话，这些东西将在运行时存储和生成。因此，举例来说，不是所有这些脚本，你将有中心的地方去说什么是这个环境的关键值对？我将提取具有 SHA 的注册表信息，我将获取我的键值对，这样您就不必有这么多脚本，也不必进行管理，这很麻烦。

这真的会变得很麻烦。我们的客户拥有 200 个微服务和 20 个集群。那有很多剧本。如果你是一个 SRE，你想更新你的微服务，你想把它提供给每个人，你将不得不找出每一个应用环境存储库中有它的每一个环境，并作出这些修正。所以它没有达到应有的规模。现在我知道他们的 CNCF 有一个小组，一个工作组，围绕 GitOps，他们开始考虑 GitOps 第二版，他们将不得不围绕一个必要的流程来解决这些核心问题。

**Shimel:** 爱死了。布兰登。

奥利里:是的。我的意思是，我喜欢这个概念，我认为你是对的，Tracy，如果你考虑 GitOps，管理规模的能力绝对是你必须做好准备的事情，因为如果你只是从表面上看，你最终会得到所有这些脚本，它可能会使你遇到的问题变得更糟，而不是修复你希望它出现并解决的一些问题。因此，我认为在云原生环境中，它可能会更简单一些，但我认为这也是为什么要考虑关注以开发人员为中心的方法的概念以及他们在发布某些东西时将会获得的体验，以达到您的观点，即如果我想发布对每个人都有影响的微服务更新，我不希望必须通过 78 个存储库并到处更新。

因此，让 GitOps 在与应用程序开发相同的版本控制系统中进行基础设施管理是非常好的，但是您还必须制定一个计划，以便如何扩展到您真正要构建的规模？如果这是开发者的规模，如果这是服务的规模，如果这是环境的规模。因此，我认为重要的是要有工具和方法来解决这个问题。

**Shimel:** Parag，我想你要说些什么

多士:是啊。当然可以。因此，我喜欢 Tracy 在那里描述的内容，并深入了解 YAML 文件激增的具体情况，尤其是当我们分解微服务时。这就是微服务的全部意义。你认为是一整块石头，你说是一个大黑匣子，现在你把它分解了。所以现在我们有了所有这些东西的扩散。对吗？

所以我喜欢 Helm 这样的东西来帮助减少这种情况，并将所有这些东西参数化。但是从根本上说，GitOps 的概念是存在的。如我所说，基础设施是带有事件驱动类型的方法版本控制的代码。我喜欢 CNCF 和集装箱化的原因是集装箱的内在目的 Branden 可以让我在这一点上保持诚实——是真正使环境与您的解决方案、应用程序和基础设施完全分离。对吗？因此，在今天的行业中，我们拥有的最佳方法是容器或无服务器，这也是 CNCF 的一部分，所以我们有 Docker 文件和 YAMLs 这样的东西，它们允许我们尽可能地减少环境的熵，并在 GAML 文件中声明性地描述它们。

我 100%同意 Tracy 的观点，现在它变成了，好的，现在我有了所有这些不同的配置，从我的代码中提取出来。即使有了服务网格技术和 CNCF，我们也会在每个微服务之间去除安全性和速率限制器之类的东西。所有这些都脱离了逻辑，业务逻辑，每个人都以不同的方式做安全工作。现在变成了配置问题。如何–如果我想更改配置，我需要更改 100 个不同的 YAML 文件或配置映射吗？我认为技术在不断发展。

帮助只是一个例子。然后我会把它和所有的连续交货联系起来。你们都知道 Spinnaker 和这一领域的许多不同技术，Octopus 等等，这些都有帮助。

是的。米奇，你想说点什么吗？否则，我想-我还有一个-

**Ashley:** 我能在对话中补充的是，所有这一切的版本控制也变得非常复杂。【*笑声*我想你们都——

Shimel: 但这不正是 Git 和存储库应该帮助我们的吗？

Ashley: 是的，但是现在你要对你所有的脚本以及所有的环境和变量进行版本控制。

拉冈:和它没有关系。

阿什莉:是的。

**拉冈:**你知道，当你有——我的微服务的爆炸半径是多少？我要推出去，因为我的潮人店需要新卡服务。如果您使用 SOA 架构，这意味着您有一个卡服务，每个人都在使用该版本，这是向前发展的最佳方式，因为您消除了蔓延。如果将它们都放在自己的名称空间中，就有了多个版本的卡服务。因此，现在卡服务出现了问题，您必须更新所有使用该卡服务的名称空间。

因此，您必须有一个关系模型，以便能够跟踪哪些应用程序或哪些名称空间正在使用哪些微服务。不幸的是，Git 不是关系型的。我们使用标签，使用不同的存储库来创建关系，但是这变得多余了。

**阿什利:**很好的例子。

很公平。所以让我——

**Doshi:** Tracy，你谈到了结构。

哦，说吧，帕拉格。

Doshi: 我正要跟进问 Tracy 一个问题。我认为你所说的 Git 只是一个大的版本控制库。如果我们能够提供一些额外的结构和关系，围绕我们存储在那里的所有这些工件，我们可能会有更好的控制。

拉冈:这就是你们所说的目录。

多士:是啊。

拉冈:对吧？因此，我认为我们正在开始——当我们真正看到面向服务的架构时，我们看到——比方说——让我们把自己推向更远的未来。布兰登提到了服务网。而且我相信这是可以发生的，也是会发生的。我相信服务网将会得到加强。

现在，您可以说进行一次部署，并部署给我的 10%的用户。我认为服务网格将开始关注活动目录，并对我的开发人员说部署出去。所以现在我们有了一个集群，我们有了不可变的服务。我们推出了一个新的服务，它将请求发送给开发人员，开发人员对其进行测试，一旦测试成功，它将被发送到他们的测试社区。

然后，它被路由到他们的生产社区的某个组。这意味着我们没有跨多个集群的部署。我们将开始推进一个大集群，这听起来很像大型机。笑声但是我们又回到了原点。就像艾伦说的，这首歌，对吗？见见新老板，和老老板一样。[ *笑声*

**Shimel:** 对。我们不会再上当了。这是真的。这当然有一定的道理。我想花点时间谈谈 GitOps 对 CI/CD 市场的影响。我们在 DevOps.com[写了几篇文章，大意是 DevOps 是疾病的症状。如果你愿意的话，CI/CD 是治疗方法。对吗？我们围绕 CI/CD 解决方案构建了整个 DevOps 行业。](http://DevOps.com)

我的意思是看，GitLab 是一个很好的例子。他们有一个很棒的 Git 产品。但是，可以说，是他们的 CI/CD 解决方案让他们进入了端到端开发运维。对吗？我认为 GitOps 深刻地改变了这个市场，因为它深刻地改变了我们做 CI/CD 的方式。嗯，还有库伯内特斯，对吧？

我认为库伯内特是它的发起人。这对市场意味着什么？这对我们的观众来说意味着什么？我们有技术受众，其中 60%是从业者，30%是经理或更高级别的人员，10%只是，我不知道，供应商。但是这对他们来说意味着什么呢？

这是什么意思？我的意思是，这些 CI/CD 工具他们已经习惯了，他们在过去的几年里已经成长了一些。这对他们意味着什么？

奥利里:嗯，是的。我想我们喜欢一起说 CI/CD。我是说，我喜欢把 CI/CD 放在一起说，对吧？这就是我们的产品名称。但是这些关注点实际上一直都是分开的，从来没有真正的融合在一起。就像试着把它们看作一个整体一样，CI 和 CD，对吗？

但我认为现实情况是，CI 已经存在了很长时间，可能超过 20 年，但 CD 仍然是许多组织出于各种原因仍在努力解决的问题，无论是技术原因，还是组织结构原因，还是风险规避原因。进行持续部署的想法确实非常依赖于您的组织结构，您的最终用户是谁，以及，是的，在某种程度上就像您说的，Alan，您选择的工具。我们在传统 CI/CD 工具中看到的是应用我们在 CI 中所做的事情的概念，这是基于事件的脚本，通过许多脚本运行。

这就是后来成为 CD 的东西。好了，现在我们要将脚本推出到环境中。所以吉托普斯，你注意到在我的定义中，我没有说拉是必要的。我认为，如果你有作为代码的基础设施，你有在变更控制点的 MRs，并且你有能力做 CI/CD，你可以做基于推送的 GitOps。但是我想大多数人在听到 GitOps 的时候会想到另一个新概念，那就是拉动的概念。对吗？我们已经听特蕾西说过了。

因此，在您的基础设施中有一个代理，一个积极的代理，不断确保您想要的状态是世界上的实际状态——这就是 Kubernetes 带给我们的，这就是——然后这就是基于拉的 GitOps 带给我们的。这就是为什么我们多年来一直在做 CD，就像你说的那样，Alan，而且我们主要是基于推送的。但是，随着我们的客户需求在 GitOps 中扩大，我们采用了 Kubernetes 操作符，现在我们有了自己的 Kubernetes 操作符，您会越来越多地在所有工具中看到这一点，这些工具在集群内部运行并引入更改。

这种方法——再次感谢 Tracy——听起来很像木偶,*笑声*对很多人来说，它仍然是 Kubernetes 的价值所在。嘿，我想描述一下我想要的状态，还有其他的东西，担心这个想要的状态总是真的，不管我是否按错了一次。我希望这种期望的状态总是正确的。所以我认为这就是我们将在工具领域看到的巨大变化。对吗？

对于帕拉格的观点，我们说的是大三角帆。这是网飞已经使用了很长时间的东西，但没有人想到他们会像网飞一样部署。嗯，现在这是一件大事，很多人都在谈论它。

希梅尔:我们是。

奥利里:他们是，对吗？所以这很有趣。

**Shimel:** 米切尔，这听起来像是一道分析题。

阿什利:我一直在思考这个问题，我很欣赏布兰登的观点。因为任何时候你有一个重大的范式改变，你都有早期的采纳者，然后你有一个如何采纳的长尾。你说的是网飞。人们现在开始——我们谈论网飞这个例子有多久了？只要我们有 DevOps 和持续部署。

我认为我们在这方面有一点相同的挑战，而不是仍然有我们的堆栈层和不同的责任或流程或创建环境的事情，无论它是否来自代码，当我们说这一切都将基于拉，这一切都将发生在它自己的环境中，如果你愿意，这是一个对许多组织来说有点难以接受的大药丸，特别是在复杂的应用程序中。我不是说这不会发生，但我认为这将是一个缓慢的过程。如果我会收到一堆恐吓信，我很抱歉。

这是一个很棒的概念，但我确实认为它比分解应用程序的容器更难采用。这并不是说这不是一个好主意或正确的想法，这只是取代了软件架构，现代软件架构是开发人员现在考虑的容器、微服务和结构、网格，现在你在谈论组织的不同部分进入基础设施和运营。所有这些都紧密结合在一起，组织的多个部门都支持这种模式转变。这就是我的观点。

我们会在 GitOps 周围的市场上看到东西吗？我们当然会。但我不认为我们会看到这一迅速发生的转折点。这是我的评估。

希梅尔:好的。所以看起来你和特蕾西在这里形成了某种联盟，而且——

**拉冈:** [ *笑声*

阿什莉:当我需要什么东西的时候，我总是会去找特蕾西。

**Shimel:** 对。用那种方式发恐吓信。

**阿什利:** _____ 布伦丹和帕拉格也是。[ *笑声*

**Shimel:** 对。

**拉冈:**我想说的是，CI/CD 管道可以非常高效地采用 GitOps。想想布兰登指出的。当您想到 CI/CD 时，您会认为一切都是一种推动。对吗？您添加一个已经执行的脚本，您的 CI/CD 服务器、您的流程编排服务器、您的作业调度器会说，“嘿，这里有一个步骤。”然后，该步骤会向生产环境推送更新。

这将如何进行——因为 GitOps 是一种拉动式方法，它没有促销方法。我们真正要看到的是，对于使用 GitOps 的人来说，我们将看到 CI/CD 流程创建拉取请求。会有批准的。如果您希望将一个“拉”请求投入生产，可能需要一个手动步骤来批准该“拉”请求，然后一旦到达那里，CI/CD 管道就会创建它。现在的挑战是让 CI/CD 管道自动更新所有这些声明性脚本。笑声

因为根据环境的不同会有不同的。但是这是完全可行的，并且不会改变这一点。但它的功能是，嘿，CI/CD。你需要一个密封的过程。它需要密封。你需要有一个单一的真相来源。

最终的结果仍将被称为 GitOps，即使它不是唯一的真理来源。就像我们伸手去拿面巾纸，而不是纸巾。[笑声]

**Doshi:** 让我支持一下 Tracy 刚才说的话，我想你说过 30%的听众是从商业角度来看待这个问题的。你的问题听起来像是这对我们的行业意味着什么？所以今天，我不知道，我们有 170 种不同的产品，如果你愿意的话，还有工具 Brendan 可能会说，不，现在是 250 种左右[*笑声*]——围绕 DevOps 和所有新的不同概念。

**Shimel:** 更接近 700。

**Doshi:** 哦，好的。我的错。[ *笑声*

我有点落后了。所以我们这里有这么多东西，也是有原因的，对吧？因此，我们不能只是说，嘿，让我以一个云提供商的完整 CI/CD DevOps 愿景，并希望我们将强加一种做事方式，因为这还没有全部解决。当你将开发人员的思维带入计算机堆栈的其他层(基础设施、环境、操作)时，事情就变得非常复杂。我认为在一个行业中，它将会激发大量的机会，更多的创新。

我不知道这是否意味着 750 将达到 1，050，但不同的公司有很大的空间以不同的方式做事-推，拉，由于职责分离，我需要在生产前获得批准。不，不，不。我想在我提交代码或至少运行安全静态分析，动态分析，容器图像扫描之前得到批准。每个人都有不同的做事方式，我认为这会给很多公司带来很多机会。

很公平。一个巨大的培养皿。伙计们，我要结束我们的工作了，因为我们的时间快到了。但这是一次多么精彩的谈话。对于我们的观众来说，几个星期后——我面前没有日期，我很抱歉——我们实际上要就这个主题举行一次互动圆桌会议。我们的一些小组成员会回来的。

我们将允许你在线提问，发表评论，并加入到这个话题的讨论中来。我认为这是一次很好的谈话。所以请留意这一点，并来看看我们。但与此同时，特蕾西，一如既往，你知道，你带来了这么多。非常感谢。非常非常感谢。

拉冈:哦，这是我的荣幸。我很乐意。

**希梅尔:**是的。布兰登，很高兴你能来，我的朋友。

奥利里:是的。

**Shimel:** 向前看——另外，Brendan 每个月都会在 TechStrong 电视台和我们一起做一个节目。它叫做实验室。他讨论——你知道，每个月的 22 号是 GitLab 的新版本，Brendan 会告诉我们每个月版本的内幕。它每月出版一次。它叫做实验室，可以在 TechStrong 电视上看到。布兰登，非常感谢。

奥利里:是的。艾伦，谢谢你邀请我。我总是从这些面板中学到很多东西。所以希望我们今天都学到了一些东西，但我真的很喜欢这样做。

很高兴见到你。你学多少就加多少，布兰登。谢谢你。帕拉格，问你一个问题。你之前提到过你曾是一名物理学家。有没有前物理学家这种东西？是不是更像是我思故我在？

**Doshi:** 是的。

**Shimel:** 曾经是物理学家，永远是物理学家？

多希:这当然是加州旅馆。你完全正确。[ *笑声*

是的。但是非常感谢你加入我们。有你在这里总是很好，给一切带来一些好的观点。我很感激。

**Doshi:** 谢谢。

米切尔，我能说什么呢？我们又包了一个，米奇。好东西。

阿什利:是的，我们做到了。我很高兴帕拉格没有把量子物理学带进来，因为我会有麻烦的。

Shimel: 这可能是我们要做的另一个节目。

**Doshi:** [ *听不见的评论*

**Shimel:** 量子计算。但是，不，不管怎样，这一集的 devo PS unbounded 就到此为止了。我们希望你喜欢它。这是每隔一周我们做一个新的 DevOps 解放，所以要保持警惕。每个月我们都会与观众进行圆桌会议，所以也请留意。我是媒体行动的艾伦·希梅尔。哦，在我们离开之前，非常感谢 Tricentis 赞助 devo PS unbounded。没有他们我们做不到。非常感谢大家。我们下一集再见。