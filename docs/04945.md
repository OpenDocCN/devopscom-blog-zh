# 微服务:没有缺点的 SOA 的优点

> 原文:[https://devo PS . com/micro services-the-advantages-of-SOA-without-its-defects/](https://devops.com/microservices-the-advantages-of-soa-without-its-drawbacks/)

几十年前，面向服务的架构(SOA)是组织的巨大希望，当时他们试图推进遗留系统集成，减少和绕过层，并快速访问记录系统。当时，现有的解决方案是点对点集成，创建了一个脆弱的难以管理的“意大利面条”中间层。这被 SOA 所取代，后来又被 ESB 所增强。这通过创建一组中间层解决了混乱的局面，这增加了集成过程的复杂性。

不幸的是，大多数拥有遗留系统和 SOA 的 IT 部门仍在努力适应不断增长的全球化和数字化世界的需求。

## **SOA 解决了许多问题，但不是全部**

今天，世界上 90%以上的企业应用程序都是单一的。当它们被创造出来的时候，单体设计是最好的方法。然而，随着业务需求的发展和对更高敏捷性的需求的增强，开发人员和 IT 团队正在考虑摆脱这些单一的体系结构。

SOA 已经成为一个障碍，不再是曾经的解决方案。

## **SOA 集成挑战**

SOA 项目的承诺是扩展核心业务功能的范围，同时降低内部费用和复杂性。SOA 通过使用简单对象访问协议(SOAP)和可扩展标记语言(XML)等协议将一个整体的核心功能分解成 web 服务来实现这些目标。

SOAP 是为通用应用程序通信而构建的。因为它是基于 XML 的，所以用 SOAP 设计的 SOA 理论上可以用来创建一个不可知的集成层。这些协议将开放不同操作系统上的整体，使它们能够协同工作，而不是费力地拼凑各种专有系统。

这个不可知的集成层可以让系统管理员将一个整体的各个部分连接到企业服务总线(ESB ),从而实现一个敏捷的、即插即用的 SOA。在某些情况下，这种方法成功了。

大量的“遗留 SOA”仍然提供价值。在这些情况下，SOA 提供的价值是主要帮助开发人员的幕后服务器到服务器的通信。当涉及到服务内部和外部客户——以及他们快速变化的需求——时，SOA 并不总是能够胜任任务。

为了实现服务集成，ESB 必须从起点到终点监督消息。这种交流并不像 SOA 供应商承诺的那样简单。考虑核心银行应用程序中的 SOA 集成。消息必须从大型机上的核心应用程序发送到分支机构的服务器。如果业务逻辑规定某个消息只与一个工作日相关，那么管理员必须决定是将该消息移动到队列中、记录下来，还是在这一天结束后将其忽略。这是 SOA 中核心银行应用程序的常见场景，但是它工作得如何呢？

在这个例子中——以及其他类似的例子中 ESB 必须知道是否已经过了一个工作日，以便做出将消息发送到哪里的正确决定。因此，集成需要一个算法——这意味着 ESB 不能简单地依赖一个通用的规则在 monolith 和外部集成之间发送消息。

当管理员在 monolith 集成中引入新的业务逻辑时，它将原本不可知的服务层变成了新的应用层，从而增加了复杂性。企业不是简单地将整体集成到一个新的数字服务中，而是最终形成一个更大的整体，包括大型机和所有新的集成堆栈。

尽管有 SOA 的承诺，集成问题导致维护时间增加，代码和软件更加复杂，以及整体应用程序的持续增长(而不是消除)。

有效集成的第一条规则是“智能端点和哑管道”将逻辑和层构建到服务层中打破了这一规则，增加了整体复杂性，并向您的投资组合中添加了另一个遗留应用程序。

底线:试图优化 SOA 方法只会导致更大的整体。

## **用微服务改善 SOAs】**

使用微服务架构有助于实现 SOA 最初的承诺，提供 SOA 的好处，同时消除许多缺点。

几十年来，首席信息官们一直试图通过采用传统的整合方法来摆脱铁板一块的局面，结果却发现他们在传统投资上加倍努力。所有这些集成堆栈最终都会耦合到遗留系统，只会给 IT 团队带来更多的工作，并降低组织的敏捷性。

SOA 的集成步骤从未打算包括业务逻辑。试图将业务逻辑强加到这种方法中会导致变通办法和额外的工作，只是为了获得不太理想的结果。

关键因素是如何在没有不利影响的情况下纳入微服务。幸运的是，通过引入这些新的原则，可以从 SOA 中锻造出微服务架构:

*   **上下文映射:** 在替换现有的 SOA 时，团队必须考虑新微服务的规模和范围，并应用适当的上下文边界。例如，通常寻求与数字服务广泛集成的 SOA 应该被分解成更小的域以简化操作。
*   **无共享架构** :太多的 SOA 集成产生了无序的依赖关系，从而增加了技术堆栈的复杂性。微服务避免了这些跨服务的依赖性。对于那些希望从现有 SOA 迁移到微服务的人来说，查看依赖项列表并努力实现独立功能是非常重要的。

最终，目标应该是以一种将 IT 堆栈转向微服务的方式重构 monoliths。通过采取正确的方法，您可以在您的 SOA 中充分利用微服务和[API](https://links92.mixmaxusercontent.com/5afc27d35077b654339628b9/l/0d1xhzQtGjb3w8BrI?messageId=NgL5M5cRhxFvsDrbr&rn=gIl5WZsJXYoNkI&re=i02bj5ycw9mdlRGQl5WZsJXYoNmI&sc=false)。您将增强您的数字化之旅，引领您实现 IT 效率、更快的周期、更大的可扩展性和竞争优势。

— [Zeev Avidan](https://devops.com/author/zeev-avidan/)