# 从这里到那里:实用的第一个开发步骤

> 原文：<https://devops.com/practical-first-devops-steps/>

我是个糟糕的程序员。

好了，我明白了。

事实是，我是一名系统管理员，不经常在孤岛上写代码，并且是出于严格的需求、发布或 QA 实践。我需要运行一个启动文件传输的 ETL。我会写一些代码。我有一个工作流程，需要一个蹩脚但功能强大的 web 用户界面。现在我是开发商。但是在这些类型的项目之间是几天，有时是几周的会议和计划以及几十件不是代码的事情，这意味着当我回到实际编程时，我每次都是从头开始。

我不认为我是一个人。我认为世界上有许多系统管理员掌握了函数式 perl，但是因为他们不每天编码，所以他们不会用固有的以代码为中心的方法来解决问题。系统还在运行，互联网还在运行，所以这种解决问题的方式肯定是可以的。是的，但是也有缺点。

将变更扩展到 8 打系统中的 4 打，并使用 scp 验证每个系统都收到了对该 logship 脚本的 4 行变更？祝你好运。老萨刚走，现在你要找他所有的东西？GLHF。有些报告已经 4 天没有发送了，发生了什么变化？！嗯……嗯。

**软件开发的正确之处**

伟大的系统需要三样东西:一致的配置，可维护性，可审计性。良好的开发和部署实践可以让您实现这三个目标。像 [git](https://git-scm.com/ "git") 这样的版本控制系统提供了一个很好的机制来以可靠和可预测的方式管理代码、版本和协作。集成了版本控制的问题跟踪器，如[吉拉](https://www.atlassian.com/software/jira "Jira")或[拉力赛](http://www.rallydev.com/ "Rally")，可以让你轻松地将具体的变更追溯到变更的最初原因。像 [Jenkins](https://jenkins-ci.org/ "Jenkins") 和 [Capistrano](http://capistranorb.com/ "Capistrano") 这样的部署系统为您提供了一个一站式界面，让您可以跟踪部署的地点、时间和人员。

假设今天很少有 SA 团队在他们的工作中使用所有这些方法。可能你有一个票系统，如果你不评论你的脚本，你肯定会被吼。也许这些评论可以追溯到工单编号？将您现在所做的迁移到更专注于 DevOps 的方法不会在一夜之间发生。那么如何开始呢？

***版本控制还是 GTFO***——耶。我知道。单子上有！不，停止你正在做的事情，收集你所有的 nginx.conf，limits.conf，pg_hba.conf，并把它们提交给 git repo。我再怎么强调这一点也不为过——如果你不在你的系统管理团队中实施版本控制，你将自食恶果。

更改、提交、测试。欢迎来到新的 DevOps 学科。一开始你会讨厌它，但是 7 个月后，当网络服务器因为某人改变了 T2 的某些东西而崩溃时，你会感谢快速可靠的回滚。

***【傀儡或厨师】或***——获得基本设置。一个主机，三个节点。这里我的出发点是用户管理，我设置了一个[基本](https://github.com/fnichol/chef-user "chef-user") [用户添加](http://blog.scottlowe.org/2012/11/25/using-puppet-for-account-management/ "puppet user management") [类](https://github.com/jurgenhaas/ansible-user-management "ansible-user-management")，并让它管理 ssh 密钥。让它浸泡几个星期，然后慢慢推广到基础设施的其他部分。十块钱赌你会发现十几个主机的 UID 不一致，而你多年来一直想解决这些问题。

一旦感觉舒服了，把一些基本的脚本移入你的设置，慢慢地推出它们。获取数据库配置，将它们提交给 repo，并将它们转移到配置管理协议。关键是，迁移到配置管理系统并不是整个基础设施中的一个原子事件，要不断重复。每周做一些小的改变，积累成每个季度的进步。

这是橡胶与路面相遇的地方:

*“Git 将会很糟糕，因为当你只是在服务器上运行一个文件时，部署会容易得多”——*每个系统管理员都曾经

如果你有一个回购协议，你有说，傀儡…这是一个非常简单的步骤，让该回购协议的承诺拉，并自动部署到您的傀儡管理节点。这意味着回滚也可以。

***还清你的技术债务***——我不需要告诉你你已经有了 46 个脚本，它们不受管理，脆弱，需要不断调整以适应系统变化。这些是系统管理员的谋生之道，可以提供一个实现改变的好机会。下一次您必须为新的 SCP 服务器修改脚本时，请停止。停下来。改为这样做:

*   将它签入到您的 git repo 中，并附上一些关于它的作用的有意义的注释
*   将其添加到您的配置管理系统中(puppet/chef/ansible)
*   如果是 bash 或者 perl，就改写成 python。重写所有的脚本会花费更多的时间，但是花费这些时间会让你更舒服地定期编写代码，并且让你更熟悉现代脚本语言。

**走小路**

无论您的系统或目标是什么，采用 DevOps 方法最困难的部分将归结于时间。当我自己读完这篇文章时，我被自己是一个多么麻木不仁的混蛋所震惊。“嘿，伙计们，我知道你们有大量的空闲时间，刚开始做你们经常做的事情，但也增加了大量的额外工作。Kthxbai”。事实是，我可能是一个混蛋，但你不必考虑搬到 DevOps 作为一个闪闪发光的城市在山上，你可以到达足够的深夜。这是一段旅程，一条路径，一种方式，而不是到达一个地方。

找到一种方法，开始对你现有的过程做一些小的改变，使之符合开发世界的最佳状态。决定在提议的项目上增加 10%的时间，以便用这些方法来处理它。如果你开始踏上 DevOps 之路，你会很快意识到你已经到达了目的地。