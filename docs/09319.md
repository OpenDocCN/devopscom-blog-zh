# 大型机 Git:回到未来

> 原文:[https://devops.com/git-for-mainframe-back-to-the-future/](https://devops.com/git-for-mainframe-back-to-the-future/)

软件交付现代化应该小心进行，尤其是关键任务的大型机应用程序。但对一些人来说，现代化会感觉像是回到未来的旅行。

大型机应用程序通常是记录系统，具有高价值的交易、巨大的合规风险以及对稳定性和安全性的基本需求。它们已经可靠地运行了几十年，由专门的开发人员团队使用久经考验的界面(如 ISPF(绿屏)和集成了基于大型机的源代码管理工具的 Eclipse)进行代码更改——ende vor 是使用最广泛的例子。

## 那么为什么要现代化呢？

变革有三个主要驱动因素:

*   **业务敏捷性:**数字颠覆正在产生越来越大的业务需求数量和速度，这通常会导致跨平台应用架构的出现。越来越常见的是，面向云/移动客户的应用程序调用后端大型机服务来获得无缝体验。
*   **人员配备:**职业大型机开发人员退休导致人才短缺，而传统大型机实践和工具对下一代缺乏吸引力。回填是一个挑战，因为 next-gens 宁愿使用流行的、云原生的工具，这些工具提供了更广泛的职业潜力。
*   **性能:** DevOps 的采用提高了生产率、交付速度、质量和交付周期等方面的标准。实现与大型机开发相当的性能水平的机会是完全可能的，但需要现代化。

这些驱动因素的汇合导致了一个明显的结论——现在是现代化大型机应用程序开发的时候了。版本控制是软件开发的基础，是 IDEs 代码编辑器、敏捷工具、DevOps 自动化工具(如代码扫描器和 CI/CD 编排器)和服务管理工具的焦点。本文特别关注采用 Git 作为现代化的关键使能因素。

## Git 的作用

下一代人才，通常是千禧一代和 Zs 一代，了解并热爱 Git。随着 94%的专业开发人员将 Git 视为基本的开发工具，它已经成为企业 it 事实上的标准，超越了所有的替代品。最初是为 Linux 的开源开发而构建的，它提供了一个分散的模型，在这个模型中，开发人员可以在分支中独立工作，但通过拉请求、问题管理等紧密协作。

它变得如此占主导地位，以至于像 VS Code 这样的流行编辑器都有内置的 Git 功能。随着 Broadcom 推出免费的 Code4z 扩展包，VS 代码和兼容工具(例如，云托管的 GitHub 代码空间)现在是大型机开发人员的可行选择，这使得 Git 的采用成为一个自然的、“并行的”现代化机会。 [开发者座舱模拟器](https://mainframe.broadcom.com/developer-cockpit) 展示了使用 VS 代码进行大型机应用程序开发的 Git-ready 体验。

## 回到未来

除了版本控制，GitHub 和 GitLab 等领先的 Git 平台已经扩展成为全面的 DevOps 平台(如 GitHub 问题、操作、代码空间、项目等)。).然而，这种演变的先例是几十年前设定的，当时 Endevor 被设想为以 SCM 为核心的*发展*和*运营*的*环境。是的，DevOps 之前的 DevOps 曾经存在过。对于许多大型机用户来说，看到 Git 版本控制工具演变成综合平台会有一种明显的似曾相识的感觉。*

凭借经得起时间考验的自动化技术，Endevor 能够可靠地交付代码变更，并通过针对平台优化的工作流，非常高效、安全地完成变更。虽然 Endevor 不断更新新的 DevOps 功能，包括最近推出的 [动态环境](https://medium.com/modern-mainframe/self-service-developer-workspaces-in-endevor-3b83c72bdc14) 以促进开发人员自助服务，但不可否认的是，从企业角度来看，Git 是有价值的。除了吸引下一代和促进入门之外，Git 体验使任何开发人员，如果得到授权，都能够轻松地更新大型机应用程序。他们需要的只是一些大型机基础知识和相关语言的经验(例如 COBOL、PL/I)。

当大型机是唯一的企业平台时，单一、通用的体验是标准，但它沿着许多维度发展，有时会导致完全不同和孤立的环境。然而，今天，大多数开发人员都习惯于在混合环境中使用多种语言，因此围绕现代开发人员体验进行标准化是有意义的，并使事情圆满完成。

## Git-Native 方法

利用 Git 的一个选择是将源代码转移到 Git 企业服务器，但是应该仔细考虑与这种方法相关的内在成本和风险。职业大型机是最有生产力的开发者之一，迁移到一个新的范例自然会是破坏性的。除了改变工作流之外，这种方法重新建立已经可靠工作了几十年的构建和部署自动化，这既耗时又有风险。大型机应用程序通常是整体的和复杂的，职业大型机开发人员的专业知识通常会填补文档中的空白，因此保留这些机构知识应该是优先考虑的事情。

职业大型机当然可以学习 Git，但是训练需要时间。随着许多人接近职业生涯的尾声，他们会有动力接受这种变化吗？回购迁移可能会产生加速关键知识库淘汰的意外后果。正如德勤在他们的[现代化和老龄化劳动力](https://www2.deloitte.com/us/en/pages/technology/articles/aging-workforce-legacy-application-modernization.html)论文中预先警告的那样，“不要低估传统程序员的价值。”

还有与迁移相关的成本—测试、文档、培训、项目管理—所以移植代码而不是投资于其他高优先级业务计划的机会成本进一步限定了这个选项。

考虑到这些因素，迁移应该从既稳定(例如，不频繁的变更请求)又对业务构成低风险(例如，对职业大型机的依赖性较低)的应用程序开始。

一个 Git-native 方法将需要一个特定的工具，例如 [团队构建](https://medium.com/modern-mainframe/introducing-ca-endevor-team-build-dab73251040f)；一个轻量级的基于处理器的构建引擎，支持团队在 z/OS 平台上构建时使用企业 Git 存储库进行本地协作。它独立于 Endevor，可以用于 z/OS 的任何构建和发布需求。它转换 JCL 中的构建逻辑，并使之可以用 JavaScript 在平台外进行维护。

## 混合 Git 体验

这种“风险管理”选项提供了 Git 的优势——更容易招聘和入职，增强协作等。—同时消除了上面列出的许多成本和风险。有了它，职业大型机可以像往常一样使用现有的工具和实践继续工作，而下一代人则使用他们更喜欢的工具 Git。

Endevor Bridge for Git 使 Git 体验到 Endevor 继续作为主存储库的作用。它通过同步 Git 企业服务器上的“源代码控制镜像”来实现这一点。有了这个选项，那些更喜欢使用 Git 的人可以这样做，而使用 native Endevor 的同事可以同时处理相同的代码库。他们可以使用 Eclipse、VS Code 或 VS Code 兼容的基于云的 ide，这些 ide 提供了在 Git 中工作的额外好处，无需代码的本地副本。

有了 Zowe CLI 这样的使能器，就地现代化提供了两个世界的最佳选择:大型机*和*平台外工具。例如，在代码更改后，在主机外运行 Jenkins CI/CD 管道进行代码扫描、测试和其他功能，同时允许开发人员继续使用 ISPF 接口。总的来说，这个选项提供了 Git-native 模型的优点，而不需要 repo 迁移。

## 推荐

由于大型机应用程序的性质，风险管理通常是最重要的，因此建议采用一种经过深思熟虑的、实用的方法来采用 Git。例如，通过引入 Bridge for Git，为那些愿意采用该技术的职业大型机用户提供他们接受该技术所需的时间。随着组织对混合模型越来越熟悉，并且对拥有足够多的基于 Git 的开发人员，并且了解他们的代码库感到满意，他们就可以识别应用程序，并将其移植到他们的 Git 企业服务器上。

另一方面，对于那些只有 Git 需求的公司来说，一个选择是使用 Team Build 快速迁移一组初始应用程序。然而，在投资组合层面的冷切换可能会造成过度的破坏性，因此不推荐。加速退休和/或增加保留成本是一个真正的风险，因此分阶段的方法是最好的方法。成功采用 Git 的关键是认识到这是组织的一次旅程，需要一个深思熟虑的计划。

为了从第三方的角度了解 Git for mainframe 应用的采用情况，IDC 发布了一份信息简报， [Git for Mainframe:企业考虑事项](https://mainframe.broadcom.com/idc-research-git-for-mainframe) ，强调了机遇和挑战。

现代化的道路有很多，所以 [利用其他已经开辟道路的](https://mainframe.broadcom.com/git-advisor) 。但是无论采用什么样的 Git 方法，年轻的团队成员都应该准备好一两个“我们以前也是这样做的”故事。