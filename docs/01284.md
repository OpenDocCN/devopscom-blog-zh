# 渴望智能日历感知

> 原文:[https://devops.com/dying-intelligent-calendar-awareness/](https://devops.com/dying-intelligent-calendar-awareness/)

在集成的 DevOps 工具解决方案中，我们会为什么而死——会让我们的运营合作伙伴起立欢呼的东西？智能日历感知。

任何发布编排(RO)工具软件的最基本的构造是日历。RO software，无论供应商是谁，都使用一种日历形式，从头到尾概述什么任务将按什么顺序执行。更好的 RO 软件允许并行任务，但所有 RO 软件都使用日历。因此，日历结构最基本的用途集中在“何时”执行和完成任务。将智能添加到日历构造中，为这一基线特征增加了三个维度或特征。

## 所有权的智慧

首先是所有权的概念。除了用特定任务或任务组的日期来标记日历之外，所有权的添加还用“事件”来标记日历，这些“事件”由旨在执行一组动作或任务的特定团队“拥有”。例如，除了将日历标记为今年 4 月 27 日之外，我们还需要运行一个小型发布版来将 Oracle 数据库从版本“x”升级到版本“y”。随着所有权的增加，我们可以将这一天标记为运行 Oracle 数据库平台升级的“事件”。这个新事件将由数据库更新团队“拥有”。

团队为 Oracle 升级“事件”概述的时间段将呈现出团队的两个附加特征:包容性和排他性。例如，为升级 Oracle 平台的任务留出的时间对所属团队来说是包容性的。该团队的成员将被允许在这段时间内安排任务，理想情况下旨在促进平台升级的目标。

其他团队(默认情况下)在这段时间内不执行操作，因此他们不会影响数据库团队试图完成的工作。当其他团队调出他们各自的日历来安排一些新的任务或事件时，4 月 27 日的时间段是灰色的或显示为不可用的，因为数据库团队拥有在该时间段中列出的事件。对于数据库团队来说，这段时间是包容性的，对于所有其他团队来说，这段时间被认为是排他性的。

您和客户的利益立即可见。通过将所有权添加到日历结构中，可以以这样的方式安排事件，即团队不会无意中“踩”到彼此(即，试图在相同的时间窗口内安排任务，这会对其他团队产生不利影响)。它还允许您(客户)查看一个指示板，该指示板显示了一周、一个月或一个季度中安排的事件的“种类”，以及谁在做什么。

为了避免对这种想法过于严格，RO 工具供应商只需要添加一个概念，即对于不会影响他们工作的事件，所有者团队向请求团队授予例外。例如，如果一个不同的团队希望在 Oracle 平台更新的同一时间段内开发 SQL Server 平台，而服务器又各不相同，那么该团队没有理由不在同一时间安排自己的类似活动。如果所有权是 RO 工具中添加的唯一概念，那么 Oracle 团队将不得不批准一个例外，但这在管理方面成本很高。正是由于这个原因，我们引入了日历管理智能的第二个主要结构。

## 组件感知的智能性

智能日历管理的第二个主要概念是组件级感知。意识的这个维度是基于将特定的“技术”识别为资源或组件，这些资源或组件是您在公司运营的环境的一部分。它不一定是从头开始的练习，如果您喜欢其中的一个，您可以使用标准的发现工具来保持它的更新。但是更基本的想法是简单地识别你在你的世界中使用的基本技术组件。

例如，我可以确定该公司使用 Oracle 数据库(如果有多个数据库，可能还会跟踪版本)、SQL Server 数据库、它使用的服务器类型、操作系统、中间件，可能还有大型机平台和网络基础技术等。很有可能在这个公司中有专门负责管理这些特定类型技术的团队。这使得事件所有权的关联变得容易。Oracle 人员与 Oracle 技术组件相关联，但与 SQL 数据库无关，等等。

让团队与他们管理的组件相关联允许更好的并行事件调度。但这只是第一层次的智能。下一个级别是按应用程序跟踪他们利用的底层技术组件。无论如何，这个过程都是在构建和部署自动化过程中完成的，因此这一工作只不过是今天所做的事情。拥有这张蛛网图或技术组件依赖关系图的好处在于，它为我们的日程安排增加了新的能力。

此时，安排一个 Oracle 事件并不妨碍 SQL 团队在同一时间段安排另一个事件，因为这两种技术类型并不冲突。两个团队将在同一天看到打开的日历，因为这种智能日历意识到组件的相互依赖性，或者缺乏这种意识。智能的这个方面排除了必须对拥有的事件给予不必要的例外。唯一的例外请求将来自实际上影响升级事件的用户或团队，并且可以评估它们的合法需求和潜在的实际影响。

让我们回到定于 4 月 27 日举行的 Oracle 平台升级活动——我们神秘的公司。通过添加组件级感知，当 Oracle 数据库团队安排此事件时，每个使用 Oracle 的应用程序都会“自动”得到通知，该时间窗口现在是其开发或使用活动的禁区。这种限制可以包括自动通知应用程序开发团队，他们不能在这个窗口中部署新代码。或者可以扩展通知以通知受影响的应用程序的用户该列表将在该时间窗口内关闭。不使用 Oracle 的应用程序不会受到影响，也不会收到通知。

想象一下，这种自动通知可以为您所操作的技术的开发和用户基础带来什么，所有这些都通过您今天在 DevOps 中使用的 RO 工具自动协调。然后从这里思考各种可能性。Oracle 团队可以再次查看一段时间，并在最终确定之前检查 4 月 27 日的日程安排是否会对其他团队产生重大影响。如果对其他人的影响很大，团队可能会选择不同的日期。可能性变得无穷无尽。

## 范围的智能

日历智能的第三个也是最后一个架构维度是范围的概念。范围是一个简单的层次结构，您可以通过逻辑业务子定义来定义您的公司。例如，您可以概述您定义的范围:全球(整个公司)、业务单位(按名称列出)、产品单位(按名称列出)或部门(按名称列出)。仅仅使用这些简单的范围定义就开始将影响评估插入到发生的事件安排中。

例如，可以在全球范围内安排事件，由变更管理治理机构拥有，这排除了由于外部监管机构的公司审计而产生的 10 天窗口。例如，现在，当任何开发团队试图安排部署或发布时，由于公司治理事件，他们的日历在这 10 天的窗口期间自动变灰。例外情况只能由该治理机构批准。在这种情况下，这可以防止在审计过程中发生意外更改。

如果上面引用的例子太宽泛，而这个虚构的公司只需要将一个事件限制在一个特定的产品线或进一步到一个特定的部门，那么“范围”特性允许他们这样做。智能日历管理的最后一个方面确实需要 RO 工具供应商提供更高水平的复杂性，以及在提供 DevOps 服务的管理成本方面更高的前期投资。但对于一个企业级的安装，这是一项投资，可以将企业通信的混乱(涉及变化的影响)带到按需通信的系统天堂。

## 对你的底线的影响

那么，为什么要概述一个大多数 RO 供应商尚未实现的架构呢？如果是我创造的糖果你还不能拥有，为什么要讨论它？两个原因:首先，当您开始检查运行 DevOps 服务集的成本时，您会发现，像许多其他企业级工作一样，管理成本在开始时很高，并随着时间的推移而增加。管理“沟通”并避免相互依赖的技术互相“踩”并不是一件容易的事情，尤其是当我们已经从每周部署窗口转移到跨大型应用程序组合或复杂的传统硬件架构的潜在每日部署时。

其次，对于那些仍然维护数据中心的人来说，如果您的运营团队在周末继续需要 12 到 48 小时的时间来更新他们自己的平台，请考虑一下您“浪费”了多少时间。转向外部云提供商是解决这一问题的一种方法，但对于无法完全做到这一点的组织来说，周末停机仍然是一个重大问题。DevOps 将在开发团队中产生愿望，希望将这一传统的操作窗口用于他们自己的目的。一旦 DevOps 被完全接受，我们就需要自动化通信，并智能地确保我们不会像以前那样互相践踏。DevOps 加速了这种需求，因为它加快了创新本身的速度。

合适的工具，或者更确切地说，考虑智能架构的工具将极大地降低您的成本和开销，并确保您的世界的一致性——这些是您需要您的工具供应商接受的特性(和思想)。另一种选择是支付你的劳动力基数，以另一种方式管理它。如果您的领导和您的供应商合作伙伴没有考虑这些问题，他们应该考虑。如果需要帮助，随时联系我(我目前还在看)。DevOps 自动化过程的目标不应该仅仅是移动代码；它还应该扩展到我们如何管理、沟通和注入治理。智能架构可以实现这些目标，任何供应商都可以先下手为强，如果他们愿意的话。

要继续对话，请随时[联系我](http://kristian.nelson@hotmail.com)。