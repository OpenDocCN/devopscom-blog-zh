# 什么是 AWS 应用程序模式？

> 原文:[https://devops.com/what-are-aws-application-patterns/](https://devops.com/what-are-aws-application-patterns/)

云原生方法不仅仅是关于计算能力和云服务。“设置好就忘了”的态度对云原生是行不通的；有太多的移动部件，太多的复杂性。相反，这种方法需要不断的测试、优化和改进。这集中体现在 DevOps 方法的两个关键阶段:持续集成和持续交付。

然而，要实现这一点，需要一种战略性的方法来定义应用程序模式，这些模式将控制云原生应用程序的构建和发布方式，而不是一次性的工作。由于 AWS 是领先的云提供商，我们应该讨论哪些应用程序模式与 AWS 平台相关。谈到 AWS 应用程序模式，有许多方面需要考虑，我们将在这里讨论它们。

## 卓越运营

应用程序模式的最佳起点是对卓越运营的承诺。通常，术语“Ops”用于标识 IT 团队，但在这种情况下，卓越运营落在了开发、QA 和 Ops 团队的肩上。在跨职能的 DevOps 团队中，每个成员都应该努力在每一步实现卓越运营，即使是最小的任务。

在他们关于[卓越运营](https://d1.awsstatic.com/whitepapers/architecture/AWS-Operational-Excellence-Pillar.pdf)的白皮书中，AWS 鼓励其用户将运营作为代码来管理。这有助于避免人为错误，实现复杂流程的自动化，并允许在出现错误时快速轻松地回滚。根据 AWS，失败是一个学习的机会。他们甚至建议在部署之前执行“预诊断”,尝试预测潜在的故障点。

[AWS Trusted Advisor](https://aws.amazon.com/premiumsupport/technology/trusted-advisor/) 是一个有用的工具，可以在团队中实现这种类型的问责制和责任分担。它检查和审查您的新的和现有的 AWS 工作负载，寻找节约成本、提高性能、加强安全性或遵循最佳实践来扩展运营的机会。

## 安全性

安全是一种没有商量余地的模式。术语“DevOps”启发了另一个称为 DevSecOps 的变体，它表明了这一事实。在讨论开发运维时，安全运营占据了中心位置。

关于 DevSecOps 有趣的事情是，如果做得正确，它实际上会在团队之间产生更多的自由、灵活性和信任。这与传统的安全方法不同，传统的安全方法会造成孤岛、抑制创造力并减缓创新。安全性现在是难题的关键部分，而不是事后才想到的。AWS 有许多基于机器学习的安全解决方案，如自动识别和保护个人可识别信息的 Macie)。

除此之外，使用 AWS IAM 配置基于角色的访问控制对于更好地控制谁或哪些应用程序访问数据以及访问多长时间至关重要。[访问控制列表](https://docs.aws.amazon.com/AmazonS3/latest/dev/acl-overview.html)管理对存储在 AWS S3 存储桶中的数据的访问。

新闻中充斥着由于薄弱的安全策略和访问控制而导致的数据泄露事件。Capital One 是影响其 1 亿用户的数据泄露的最新例子。虽然云中的安全性比以前更加复杂，但 AWS 已经准备好了必要的工具和系统。组织需要实施安全策略来防止数据被滥用。

## 可靠性

如今，由于潜在的收入损失，人们对停机的容忍度很低。由于风险如此之大，可靠性是任何应用程序管理人优先考虑的模式。AWS 拥有多种报告和健康监控工具，让您时刻掌握应用的脉搏。

微服务之类的架构模式通过将整体应用程序分解成更易于管理的服务块，实现了更好的弹性。这种“分而治之”的方法带来了更高的可用性，这对 SaaS 应用程序至关重要。

像混沌工程这样的模式试图故意杀死随机的实例和服务，并迫使 DevOps 团队为每种场景找出变通办法和备份。

## 应用程序性能

随着数据的爆炸式增长，应用程序总是要处理大量的数据来传输、存储和处理。应用程序的性能取决于三个因素:后端数据存储层、中间件组件和前端。

说到性能，后端数据层是最关键的组件。选择正确的存储格式、数据库类型、存储设备和组织模式都有助于提高数据访问的速度。AWS 有一系列令人惊叹的存储服务，包括 S3、红移、极光和冰川。AWS 为其用户提供了各种类型的存储解决方案，所有这些都应被视为改进数据管理的手段。

AWS 正在设计新的方法来查询大型数据集，而不会给现有系统带来负担。红移光谱就是一个例子。这是一个很好的方法来“最小化用新节点缩放红移的需要，这可能是昂贵的。”如果你仍然不愿意自己管理任何红移星团 [AWS 雅典娜](https://aws.amazon.com/athena/)是一个伟大的无服务器替代

这为您提供了在 S3 查询大型数据集所需的所有功能，而无需维护任何自己的集群。

这种按使用付费的模式正在整个 AWS 堆栈中发展，ECS 和 [Fargate](https://aws.amazon.com/blogs/aws/aws-fargate/) 等服务在大规模操作容器时提供了完全无服务器的体验。AWS Lambda 的发展很快，许多类似上面提到的 AWS 服务都支持无服务器体验，关注应用程序性能。

## 成本优化

当迁移到云时，定价完全不同。你现在不用为永久许可证付费，而是为你使用的每一个小资源支付一小笔费用。虽然它本身很小，但你很快就会意识到，如果你不密切关注你的支出，云成本很容易飙升。

当您在云中扩展操作时，成本优化是必要的。成本优化包括寻找更高效的服务，无论是在同一供应商平台内还是在不同平台内。从昂贵的旧基础设施过渡到便宜的新替代方案，至少需要一种提升和转移的方法。例如，在同一个平台内将工作负载从虚拟机转移到容器和无服务器可以节省大量成本，因为容器和无服务器通常比虚拟机更具成本效益。

利用该领域专家的专业知识是值得的。理想情况下，他们应该是使用 AWS 多年的人，了解架构良好的最佳实践，并找到了削减成本和从相同预算中获得更多价值的方法。

## 应用程序模式支持可扩展性

微服务应用采用可插拔架构。这使得它们可以很容易地与外部应用程序集成。通常，基于 API 的通信模式是最常见的。AWS API Gateway 是一项管理 AWS 应用程序 API 设计的服务。在某些情况下，SDK 是更好的选择——例如，当您需要更多地控制开发人员的体验和集成时。知道何时选择任一选项都很重要。

## 应用程序模式支持可移植性

可移植性是在不中断实例运行的情况下跨实例移动工作负载的能力。随着实例的变化，它们支持的工作负载不应受到影响。只有在工作负载和运行它们的基础架构之间有一个清晰的分离层，这才有可能。

## 应用程序模式支持左移

众所周知，DevOps 方法鼓励软件交付的左移方法。这意味着不仅是 Dev，QA 和 Ops 也参与到应用程序的设计和开发阶段。这促进了团队间更深层次的合作，打破了各自为政的局面。

右移方法也适用。Shift-right 意味着开发人员要对他们编写的代码负责。他们是运营团队的平等所有者，对他们构建的应用程序的弹性以及他们引入系统的错误负责。这种将所有权和责任放在该放的地方的做法对于 DevOps 团队来说是非常健康的。

AWS 使用 CodePipeline、CodeCommit 和 CodeDeploy 等工具来促进管道管理。他们各自扮演相似但互补的角色，并帮助构建 CI/CD 渠道。它们使得在 AWS 平台内开始使用 CI/CD 变得很容易。

对于在云之旅中处于下游的组织来说，AWS 的管道管理工具对于 GitOps 之类的东西来说可能显得过于简单。相反，他们希望在 AWS 之外寻找像 Jenkins X 或 Weave Flux 这样的工具，这些工具是为 GitOps automation 设计的。无论是简单的还是高级的路线，管道都比手工开发过程带来了巨大的好处。

## 结论

尽管工具能够实现有用的应用程序模式，但就其本身而言，它们是无效的。应用程序模式需要一个深思熟虑的策略和方法。只有在策略到位后，您才能决定使用哪些工具。有了强有力的策略，这里提到的任何工具都可以用其他更好的工具来替换，结果将是一样的。重要的是不要被下一个闪亮的工具分心，而是保持对实现 AWS 应用程序模式的策略的敏锐关注。

正如我们在这里看到的，应用程序模式是多种多样的，但是它们都是建立在彼此之上的。如果没有这些支柱中的任何一个，组织都无法实现云原生应用的目标。另一方面，如果他们仔细考虑每一个应用程序模式，组织将会交付尖端的应用程序，并且随着时间的推移只会变得更好。

*本文是代表[卓越](https://eplexity.com/)撰写的。*

— [吐温·泰勒](https://devops.com/author/twain-taylor/)