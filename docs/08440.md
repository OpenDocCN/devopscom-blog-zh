# 但是当你失败的时候呢？

> 原文:[https://devops.com/but-what-about-when-you-fail/](https://devops.com/but-what-about-when-you-fail/)

敏捷和 DevOps 带来的一件事是更容易接受整个“错误会发生”的观点。系统崩溃不再是免费出门的保证。事实上，在我的脑海中，我能想到至少两个案例，一个首席信息官自己签入了草率的代码，这破坏了系统——在足够大的组织中的首席信息官，他们可能一开始就不应该编码。

这就把我们带到了今天的博客。对“但是如果有一个坏的更新呢？”“我们将推出一个新版本！”这在某些情况下行得通。在很多情况下——大多数涉及到作为 DevOps 一部分的[GitOps](https://devops.com/?s=GitOps)——它不会。内爆可能是巨大的，并带走大量的基础设施。因此，你需要一个更好的计划，而不仅仅是假设你可以通过向前更新来修复它。您有回滚功能吗？您是否在利用它，确保在需要时一切都可以回滚？测试以确保回滚与本次更新中在系统中所做的其他更改一起工作？

这是问题的一部分。用新的更新进行修复是最好的选择，因为在大规模分布式、基于微服务的解决方案时代，回滚会带来一大堆负担——足以让你觉得不可行。好吧。所以不能快速前滚。你不能快速回滚。快！你是做什么的？！

我不知道这个问题的答案，因为我不在你们的组织中从事你们的系统工作。在某种程度上，这一切都是个人的。这是其中之一。你需要知道什么是你的最佳选择，如果更新螺旋一切，你需要有一个计划来实现它。但是你的最佳选择不会和下一个组织一样。这是重点。

一种选择是保留构建整个系统的能力。这是一个很大的设置，但是系统停机的每一分钟都在伤害公司。这就是你需要计划的。就当是 DevOps 的灾难规划吧。摧毁系统和基础设施的人为灾难。

因此，像任何其他灾难规划场景一样，遍历使系统工作的链，找出弱点并列出解决它们的方法。然后测试他们，确保他们做了你希望他们做的事情。然后，建立一个自动化系统来保持整个计划的更新。

简而言之，我们处在一个新的自动化环境中，当不可避免的事情发生时，我们需要一个新的自动化工具来拯救我们。无论是来自开发人员的错误还是恶意攻击者，可以肯定的是，您迟早会遇到大规模的系统中断，而您的 DevOps 工具链无法充分解决这个问题。知道自己要做什么。或者至少已经考虑过了，所以当同事和客户不能访问系统时，你不是刚刚开始考虑。

继续摇摆。这只是对你所做的努力的又一层保护。多走一步。就像保险一样，如果你需要它，你绝对会很高兴你这么做了。