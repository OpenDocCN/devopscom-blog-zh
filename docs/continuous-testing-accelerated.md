# 持续测试–加速！

> 原文：<https://devops.com/continuous-testing-accelerated/>

除了测试持续时间是测试重点的情况，正如我之前的博客[“持续测试难道不是寿命测试的反模式吗？”更快的连续测试周期是首选，因为尽早失败通常是 DevOps 的目标。这有多种原因，但很明显，更快的测试减少了获得结果的等待时间，并且由于通常有许多开发团队成员在寻找结果，因此对于每个 CI/CT 周期中节省的每分钟测试时间，开发人员的时间节省乘数效应是巨大的。当在多个代码分支上汇总时，每次测试节省的几分钟可以节省超过一年的人工年时间！](https://devops.com/blogs/isnt-continuous-testing-longevity-test-anti-pattern/)

那么如何加速持续测试呢？坦白地说，对这个话题的详尽回答可以写满一本书。以下是清单格式的一些建议，旨在对 DevOps 有用。

1.  **为速度组织团队:** 当团队成员和组织被明确地选择为 CT 速度时，整个 DevOps 过程将被加速。
    熟悉最佳实践测试环境和连续测试设计原则的测试架构师对于设计和调整连续测试的速度至关重要。架构师建立与覆盖目标相关的 ct 策略和速度目标。
    ·测试分析团队审查测试结果，因此没有时间浪费在结果分析上。开发人员和测试成员接受了最佳实践测试设计的培训，他们的测试脚本经过了同行评审，以确保他们符合策略。
2.  **选择强大的测试资源:** 强大的、专用的、可扩展的资源将加速所有的测试过程，缩短出结果的时间。
    选择最快的处理器、低延迟存储和 I/O 来快速初始化和执行测试系统和被测系统实体。
    ·专用具有较长初始化时间的资源，以便它们可以被预初始化。
    虚拟化可水平扩展的资源，而不会影响速度。如果负担得起，安排足够的资源并行运行所有测试。

3.  **选择为快速测试执行而设计的测试工具:** 当您评估测试工具时，请注意以下特性。从长远来看，这不仅可以为您省去很多麻烦，还可以让您灵活地设计与其他 DevOps 工具集成的测试。
    Restful API，在命令和响应之间不需要等待状态
    测试用例的优先级排队
    创建可预加载的测试拓扑
    能够并行产生测试以在任意数量的机器上运行
    能够暂停需要等待事件的测试，并在继续后续测试后返回该测试
    支持初始化和结果数据的缓存功能 在工具继续执行其他测试的同时对一个测试进行处理
    多个设备、会话类型和结果数据处理实用程序作为工具的嵌入部分实施，不需要慢速脚本
    能够以快速执行语言呈现常用的测试实用程序功能。

4.  **组织测试进度和测试套件提早失效:** 测试用例的调度顺序和方法极大地影响了测试的速度。如果可能的话，一旦构建就绪，调度程序就应该并行启动所有的测试。否则，需要优先级方案。
    组织测试计划和测试套件，以避免任何不必要的测试。
    ·在下一次测试执行之前，缓存初始化和拓扑数据和资源。
    运行测试前检查测试环境，如果检测到无效条件，则中止。组织测试，以便首先运行最重要的测试。
    设置故障逃逸阈值，如果超过，则中止测试。消除测试之间的依赖性，这样每个测试都可以独立或并行运行。测试运行时，将下一个测试排队。
    根据软件变更，使用智能灰盒测试方法将测试选择限制到最重要的测试，并跳过低风险的测试。
    与较短的测试并行运行较长的测试。

5. **设计测试用例早期失败:** 测试用例本身需要用策略设计，以尽快得到测试结果。
为每个测试用例设计一个唯一的测试目的，并使其自包含，这样它就可以被安排为独立运行或者与任何其他测试用例并行运行。
如果一个测试用例有多个判定，首先安排优先级最高的判定，并在第一次失败时关闭测试。删除或重构低失败历史的测试。
·缩短死脚本定时器，并使任何等待定时器有条件，以便一旦满足条件，它们就可以过期。
减少测试迭代的次数，以符合时间预算。
通过使用最快的协议减少通信等待时间。优化最常用的实用程序。

1.  **安排测试结果减少以最小化分析等待时间:** 安排测试结果在测试运行时即可使用，这样系统就不会出现瓶颈。
    在测试运行时报告测试结果，并在平行的测试目标上累积结果。
    为汇总的测试结果建立阈值，如果任何运行超过阈值，则中止测试并释放测试资源供其他测试使用。
    ·记录测试时间，并根据每个测试案例的平均和峰值运行时间调整测试计划。
    将测试结果报告流程与持久资源分开，这样就不会有测试流程等待完成报告，测试流程可以与测试结果并行进行下一个测试。
    将测试结果与变化相关联，并使用趋势分析来帮助加速诊断，并作为测试选择的输入，以便在未来的测试运行中给予最失败的测试用例更高的权重。

以上是加速连续测试的部分建议，已经被证明可以产生加速连续测试和开发运维的良好结果。

在思必驰，我们认为测试在 DevOps 有着光明的未来。你可以在[Spirent.com/solutions/devops](http://www.spirent.com/solutions/devops)了解更多我们的观点

你对这些建议有什么看法，你还有其他应该提到的建议吗？