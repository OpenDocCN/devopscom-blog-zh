# API 测试的 6 大挑战

> 原文:[https://devops.com/top-6-challenges-api-testing/](https://devops.com/top-6-challenges-api-testing/)

测试团队在测试应用程序编程接口(API)实现时面临几个独特的挑战。API 测试是集成测试过程的一部分，涉及两个系统之间的通信——其中一个系统可能是您的员工无法控制的。

下面你会发现在测试 API 和我们推荐的解决方案时的六个常见挑战。

### **API 测试的初始设置**

手动测试有助于确认某些东西是否工作。自动化测试对于 API 来说是必要的，以衡量它们在压力下的表现。建立并运行测试基础设施通常是过程中最具挑战性的部分之一，不是因为它特别困难，而是因为它可能是一个实质性的动机杀手。然而，一旦你设法激励你的团队完成这一过程，从长远来看是值得的。

**解决方案:** API 测试应该在设计阶段开始——如何测试 API？确保对您的 API 进行定期检查，以确保 100%的正常运行时间。

### **更新 API 测试的模式**

模式——换句话说，处理 API 请求和响应的数据格式——需要在整个测试过程中进行维护。为 API 调用创建附加参数的任何程序更新都需要反映在模式配置中。

**解决方案:**在当今的 API 经济中，不断变化的 API 有助于促进需求。但是，这些更改可能会导致停机。避免这种情况的一种方法是在 beta 和 alpha 环境中彻底测试 API。在这些环境中进行测试时，出现问题的可能性降低到 90%。

### **测试参数组合**

API 通过将数据值赋给参数并通过数据请求传递这些参数来处理系统之间的通信。有必要测试 API 中所有可能的参数请求组合，以测试与特定配置相关的问题。一个较大的项目最终可能会将两个不同的值分配给同一个参数，或者创建应该显示文本值而显示数字值的实例。增加一个额外的参数会成倍地增加可能组合的数量。

**解决方案:**我们从客户那里了解到，发布候选版本非常重要。例如，选择一个或两个应用程序来使用 API，并将其发布给这些应用程序。挑选对日常运营不重要的应用程序。通过这种方式，您可以看到 API 是如何被利用的，以及是否需要进行任何配置上的更改，以发布一个通用的(GA)版本。

### **对 API 调用排序**

在许多情况下，API 调用需要以特定的顺序出现才能正常工作。这给测试团队带来了排序的挑战。例如，如果在创建配置文件之前调用返回用户的配置文件信息，请求将返回一个错误。或者，创建地图的调用需要在地图上放置定位销之前运行，以正确工作。当处理多线程应用程序时，这个过程会变得越来越困难。

**解决方案:**这与上面提到的有一个发布候选来帮助管理和查看 API 调用的顺序有关。我们建议制作一个流程图来可视化 API 调用。这将帮助开发人员构建 API 调用并更快地集成它们，而不会引起问题。

### **验证参数**

测试团队可能会发现验证通过 API 请求发送的参数也很有挑战性。大量的参数和这些参数的用例使它成为一项艰巨的任务。团队需要确保所有参数数据使用正确的字符串或数字数据类型，符合长度限制，符合指定的值范围，并通过其他验证标准。例如，美国电话号码应该以 10 位数字格式显示，返回 5 位数字的邮政编码应该会触发无效错误。

**解决方案:**这可以通过持续的合成 API 监控在早期发现问题来避免。此外，它应该与 APM 解决方案相结合，以获得 360 度的整体视图。验证参数是最重要的事情之一。它应该向您显示您满足这些参数的速度。如果打这些电话对您的系统有重大影响，实施 synthetic 和 APM 解决方案将确保您尽早发现问题。

### **跟踪系统集成**

最后一个挑战是确保 API 测试系统与数据跟踪系统一起正常工作。这对于返回关于呼叫是否正常工作的正确响应是必要的。它还用于被动地监控 API 性能。由于这一步在过程中可能会来得太晚，团队可能会太疲劳而无法给予它所需要的关注。

**解决方案:**在设计阶段考虑你的应用，以及它将如何与其他系统集成。不同的应用需要满足不同的要求。通过与关键集成系统并行测试，确保不会导致应用程序失败。这可以通过在您的持续交付中实现和包含负载测试来实现。

在现代商业环境中，API 测试是应用程序开发的重要组成部分。

## 关于作者/斯文·哈马尔

![](../Images/de8deb85575533a8eae8b97d15a1ca82.png) Sven Hammar 是 Apica 的联合创始人兼首席战略官，Apica 是一家测试、监控和优化云和移动应用性能的技术提供商。Hammar 先生在网页性能和网页优化、电子商务、云服务、IT 创业和互联网领域拥有十多年的经验和专业知识。他也是一位连续创业者，多年来创办了几家成功的 IT 公司。在 [LinkedIn](https://www.linkedin.com/in/sven-hammar-03058/) 上与他联系。