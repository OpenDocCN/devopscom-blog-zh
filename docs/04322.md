# SRE 与德沃普斯——一个错误的区分？

> 原文:[https://devops.com/sre-vs-devops-false-distinction/](https://devops.com/sre-vs-devops-false-distinction/)

就在他 20 世纪 90 年代初去世的前几天，一位智者教导我们“表演必须继续下去。”佛莱迪·摩克瑞的临别赠言长期以来一直是许多(如果不是全部)运营团队的指路明灯。在他们看来，生产环境应该暴露在最小的风险中，即使以牺牲新特性和问题解决为代价。

大约 10 年前，谷歌决定改变其生产管理方式。该公司仅用了几年时间就意识到，当 R&D 专注于创造新功能并将其投入生产时，运营团队正在努力尽可能保持生产稳定——这两个团队正朝着相反的方向努力。这种紧张关系的产生是由于团队的不同背景、技能组合、激励和衡量标准。

为了弥合这两个群体之间的差距，谷歌的运营负责人之一 Ben Treynor 想到了一个创新的解决方案。软件工程师——具有 R&D 背景和心态——可以丰富团队与开发团队的合作方式，改变其目标，并帮助自动化解决方案，而不是只从系统管理员中建立一个运营团队。

## 现场可靠性工程，或 SRE

因此，建立了现场可靠性工程职位。根据谷歌的说法，SRE 的工程师负责生产环境的稳定性，但同时致力于新功能和运营改进。谷歌决定其 SRE 团队[应该由 50%的软件工程师和 50%的系统管理员组成](https://landing.google.com/sre/interview/ben-treynor.html)。工程师们被迫使用软件作为解决问题和完善过去手工解决的方法。他们很容易与开发团队集成，并鼓励代码质量改进和自动化测试。

理解了 SRE 的价值，几个不同规模的组织决定接受它的原则。一些公司，如 Dropbox、网飞和 Github，因处于技术领先地位而闻名。

## 等等，那不是德沃普斯吗？

DevOps 是一个较新的运动，旨在帮助组织的 IT 部门以敏捷和高效的方式移动。它在运营人员和开发团队之间建立了一种健康的工作关系，允许每个人看到他们的工作是如何影响另一个人的。通过结合知识和努力，DevOps 应该产生一个更加健壮、可靠、敏捷的产品。

SRE 和 DevOps 都是解决组织生产运营管理需求的方法。但是这两种学说之间的差异是非常显著的:DevOps 提出问题并把它们分派给 Dev 去解决，而 SRE 的方法是自己发现问题并解决其中的一些问题。虽然 DevOps 团队通常会选择更保守的方法，除非绝对必要，否则不接触生产环境，但 sre 对他们维护稳定的生产环境以及推动快速变更和软件更新的能力更有信心。与 DevOps 团队不同，SREs 也在稳定的生产环境中茁壮成长，但 SRE 团队的目标之一是提高性能和运营效率。

在找到最适合他们的方法之前，谷歌尝试了几种实现 SRE 进程的方法。其中一种方法试图将允许发布的数量与产品的稳定性联系起来。这一过程的基本原则是，基于当前的产品性能，新的发布是一路绿灯。

对于每项服务，SRE 团队都制定了服务水平协议(SLA ),定义了系统对最终用户的可靠性。如果团队同意 99.9%的 SLA，那么他们的误差预算是 0.1%。错误预算顾名思义:错误和停机的最大允许阈值。有趣的是:开发团队可以以他们喜欢的任何方式“花费”这个错误预算。如果产品目前运行完美，很少或没有错误，他们可以随时启动他们想要的任何东西。相反，如果它们已经达到或超过了错误预算，并且正在按照或低于定义的 SLA 运行，则所有新版本都将被冻结，直到它们将错误数量减少到允许继续发布的水平。这一过程确保 sre 和开发人员都有强烈的动机来最小化生产中的错误数量。

Treynor 推荐的另一个有趣的方法是允许 SRE 在项目之间转移，这种方法与 SRE 的专业精神和效率更相关。此外，他建议允许 SRE 的工程师转到开发部门，甚至反过来。由于两个团队所做的工作是相似的，这些过渡帮助运营团队获得更好和更深入的产品和代码知识，并将开发团队带入生产空间，帮助他们理解其挑战。这极大地促进了团队氛围，而不是让个人觉得“我是这个产品的 SRE 团队的一员”作为这种方法的一部分，Treynor 让开发团队处理 5%的操作工作量。许多组织认为，这增加了 SRE 团队的动力和效率。

## 黑暗中的谜语

SRE 看起来很完美。如前所述，一些大型组织已选择将其部分生产业务从旧的项目服务处移至 SRE。然而，仍然有几个问题需要问:

系统管理员(生产/运营)的职位是否不再与系统管理员相关？

历史上，几乎所有的系统管理员都是通过技术支持和类似的工作进入角色的，甚至只是在他们的桌面上运行 Linux，然后过渡到服务器工作。应该很清楚的是，同样的道路是无法进入 SRE 的。为了保住他们的位置，系统管理员现在应该更加面向代码，拥有更好的技术知识，并接受新的方法来完成他们已经做的工作。

**SRE 团队能防止生产事故吗？**

专业站点可靠性工程师的优势之一是能够处理内部生产负载和流量的增长。使用诸如 [ELK Stack](https://logz.io/learn/complete-guide-elk-stack/) 这样的平台监控和分析流程和日志是日常工作的一部分，团队应该能够在问题出现时识别问题，甚至预见软件稳定性的风险。这个职位的权力——基于它所需要的技能——在于为这些问题和风险开发解决方案。正如谷歌云存储 SRE 团队的软件工程师希亚拉在谷歌的“[生活”帖子中描述的，“我们用更酷的方式解决更酷的问题。”](https://twitter.com/lifeatgoogle/status/804050374730665984)

我们是在做 DevOps 还是在做 SRE？

这个问题通常是那些试图在运营世界中定位自己的人问的。根据许多公司的说法，他们实施 SRE 的方式与谷歌略有不同，你不必做出决定。在 Reddit，[运营工程师致力于](https://boards.greenhouse.io/reddit/jobs/251080#.WQbILFWGNUR)减少工作量，改进部署和扩展流程，但他们被称为“DevOps”

在 [Logz.io](https://logz.io/) ，我们通过使用自动化监控和性能压力测试，在开发人员和产品之间架起了一座桥梁。我们个人称它为“ [DevOps](https://logz.io/learn/what-is-devops/) ，而不是“SRE”

## 那么，这仅仅是上下文的问题吗？

在她的博客中，Charity Majors 谈到 SRE 和 DevOps 是任何组织都可以选择的两种不同的运作方式，但坚持强调没有“正确”的方式。尽管谷歌和 Dropbox 已经决定进军 SRE，但这并不意味着世界其他地方也应该这样做。适合谷歌需求和组织哲学的不一定适合其他组织——在任何规模上。此外，Charity 认为，DevOps 已经在更广泛的软件组织中成长和发展，是更灵活、协作和适应性更强的方法，将更好地为大多数软件组织的所有开发阶段工作。

另一方面，SoundCloud 高级工程师 Matthias Rampke 发布了一系列关于 SRE 和 DevOps 如何基本相同的推文，只有一点不同——管理层的高度支持。虽然与她的博客相矛盾，但在一次围绕德沃普斯和 SRE 的[askmannthing 事件](http://pages.catchpoint.com/DEVOPS-SRE-AMA-Registration.html)中，查里蒂支持了这一观点。她分享了一个关于一个朋友为一家初创公司招聘员工的故事，作为一项实验，这家公司两次发布了完全相同的职位描述，唯一的区别是一个列表的标题是“DevOps 工程师”，另一个是“SRE”在讲述这个故事的时候，DevOps 领先了 10%或 20%。然而，所有这一切意味着职称是不相关的，命名一个 SRE 团队不会神奇地赋予它品质。组织必须把重点放在正在做的工作上，而不是放在头衔上。

总而言之，我们可以引用 Matt Simmons 的话，他是一位对这一主题有着深刻见解的技术专家，[他说](https://standalone-sysadmin.com/the-difference-between-site-reliability-engineering-system-administration-and-devops-d05031495499)“不是每个基础设施都需要 SRE，但是每个基础设施都需要一个更像这样的管理员。”

——[阿萨夫·伊加尔](https://devops.com/author/ayigal/)