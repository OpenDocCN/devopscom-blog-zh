# 为什么机密管理对 DevOps 管道安全至关重要

> 原文:[https://devo PS . com/why-secrets-management-is-critical-to-devo PS-pipeline-security/](https://devops.com/why-secrets-management-is-critical-to-devops-pipeline-security/)

虽然机密管理很有价值，但对开发团队来说也很难实施。下面是你需要知道的

商业就是速度。公司希望更快地创新和交付功能，以保持竞争力。这解释了为什么 DevOps 作为快速应用交付的首选模型越来越受欢迎。最近的一份 [Gartner 报告](https://www.gartner.com/en/documents/3823259/integrating-security-into-the-devsecops-toolchain)指出，DevOps 的采用是传统瀑布和敏捷开发方法的一个不断增长的替代方案，但也指出了安全性和合规性方面的关键挑战。

例如，该报告指出，DevOps 实践鼓励自动化以实现规模化，但安全性传统上是手动的、门户驱动的，并且非常依赖于流程。此外，大多数开发人员对安全编码一无所知，即使许多人精通敏捷和 DevOps。

但是对于 DevOps 团队来说，数据安全还有另一个重要的组成部分:秘密管理。在 DevOps 中，“秘密”通常是应用程序和服务中使用的认证凭证。这可能包括系统到系统或数据库的用户名和密码；API 令牌；SSH 密钥；加密密钥；诸如此类。秘密是数据的关键，如果处理不当，可能会导致严重的数据泄露或知识产权盗窃。

## 机密管理面临挑战

开发人员经常不经意地留下嵌入在应用程序、文件和代码库中的敏感代码片段。一个真实的例子是一些开发人员使用 GitHub 的方式，GitHub 是一个非常流行的源代码管理系统，也是世界上最大的源代码库。大多数开发者似乎都是随便使用 GitHub，导致内部威胁和黑客事件的风险增加。在 2016 年的一次此类事件中，黑客通过 GitHub 侵入了优步的源代码库，访问了知识产权、AWS 凭据以及 700 多万优步司机和 5000 万客户的个人数据。

对于开发运维团队来说，机密管理具有挑战性有三个主要原因:

**1。秘密扩张。**越来越多地采用云原生开发模式，以及多云基础设施的出现，导致了秘密的扩散和分散。如果让他们自己的设备处理，这些秘密会随着时间的推移蔓延，导致数据泄露和隐私问题。

**2。一套完全不同的工具。**许多 DevOps 团队在开发过程的不同阶段使用不同的工具集，并且经常努力拥有一个可以集成所有这些工具和系统的集中系统。云原生机密管理工具仅限于特定的云提供商，在多云场景下可能无效。一个有效的秘密管理策略应该能够与 DevOps 工作流中的每一个工具以及跨云提供商的每一个工具集成并协同工作。

**3。DevOps 盲点。**大多数企业都不知道他们的秘密在哪里，谁能接触到它们，或者秘密是否已经被改变。缺乏对 DevOps 管道功能的了解通常会增加内部数据泄露的风险。

今天，大多数企业使用容器来打包和部署应用程序。Gartner 估计，到 2022 年，近 75%的组织将在生产中运行容器化的应用程序。通常，在容器驱动的环境中，负责开发应用程序的团队与负责部署应用程序的团队是不同的。此外，数据库管理员基本上可以(或者应该)访问密钥、令牌和机密。

在这种情况下，一个主要的挑战是如何在存在这种隔离的情况下实现应用程序开发和部署，而不泄露机密。如果开发人员在容器中有一段需要访问密钥的代码，那么这个秘密值可以硬编码到代码本身中，或者作为容器映像的一部分包含进来。但是这两个选项都有不利的安全隐患，因为它们将秘密值暴露给所有可以查看源代码或部署参数的人，从而违反了最小特权原则。

相反，秘密可以在实际运行时安全地传递给容器化的代码。使用基于容器编排系统的实用程序(如 Kubernetes)可以在运行时安全地传输秘密，这意味着在构建或部署应用程序时不需要公开秘密。相反，该实用程序可以实时监控环境，并仅在需要时在运行时注入机密。

## 要寻找的 3 样东西

不管在开发管道中使用什么工具，保护凭证和 API 密钥不受损害都是至关重要的。简单地说，秘密必须存在于源代码之外。在考虑机密管理解决方案时，有三点需要注意:

*   灵活的部署模式，无论是内部部署、本地云部署还是任何混合/多云组合部署。
*   以超越简单键值存储的方式保护的解决方案。
*   通过 OAuth、OpenID (SAML)、LDAP、可信 JWT 和 PKI 等开放标准连接到其他应用程序和服务的能力。

将这些因素考虑在内的秘密管理策略可以最大限度地增加组织的成功机会。随着 DevOps 模型像现在这样流行，团队这样做以显著降低违规的可能性并最终提高业务敏捷性是绝对重要的。