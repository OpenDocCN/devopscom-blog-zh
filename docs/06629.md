# 无服务器:帮助企业扩展开发

> 原文:[https://devo PS . com/server less-help-the-enterprise-scale-devo PS/](https://devops.com/serverless-helping-the-enterprise-scale-devops/)

***无服务器是一种范式转变，它让工程师能够更快地创新和行动***

DevOps 已经存在了 10 多年，但它仍然被许多公司误解。你不能购买“一个 DevOps”，但 DevOps 对你的业务至关重要。在某些方面，无服务器是相似的:一个营销良好的名字，但在行业中造成混乱和误解。

像 DevOps 一样，无服务器是游戏规则的改变者。有人说不再需要 DevOps，这不是真的。无服务器使财富 100 强全球保险公司 Liberty Mutual 能够[扩展具有全球影响力的现代企业所需的高级 DevOps 实践](https://devops.com/why-serverless-needs-devops/)。无服务器已经成为加速的典范。

大约 10 年前，Liberty Mutual 开始了其云之旅，与此同时，工程团队内部也开始了 DevOps 讨论。在接下来的几年中，出现了两个非常重要的概念:对于云，我们应该在原生云上构建基础，而不仅仅是“其他人的数据中心”对于 DevOps，我们应该考虑冷静(文化、自动化、精益、测量、共享)而不是写脚本。这两个概念开始了一个碰撞过程，最终导致我们组织采用无服务器优先策略。

云战略的一个关键概念是基础设施即代码。早在 2015 年，教 1000 多名软件工程师如何使用 YAML 配置安全、弹性的基础设施是一项相当艰巨的任务。当然，有些团队会出类拔萃，但对许多人来说，这是一个非常陡峭的学习曲线。然后添加更多的高级要求，如设计安全、混沌测试、弹性、可观察性、性能优化…唷！然而，一旦团队发展到创建无服务器系统，真正有趣的事情发生了:团队开始创建自我修复的工作负载，蓝绿部署，达到高 DORA 指标(吞吐量和稳定性)，并以低计算成本提供卓越的商业价值。

## 无服务器注意事项

对于任何开始无服务器之旅的企业，都应该考虑以下原则。这些关键构件将通过关注业务成果和解决客户需求来帮助团队锚定。让团队探索云技术，但帮助他们避免迷失在其中——惰性会扼杀一个组织。

**团队成果在业务成果中衡量**

产品思维、北极星度量和影响图对于帮助团队专注于清晰的结果非常有用。我们接下来可以提供的最重要的功能是什么？是的，就是这么简单。

**代码是负债**

40 年来，我们知道你不能通过写的代码行来衡量工程的成功。然而，我们有时对高 LOC(代码行数)计数有一种自豪感。鼓励工程师用尽可能少的代码创建系统。事件驱动和正确分解的托管基础架构不需要那么多代码。这是事实。你不能通过编码来摆脱复杂性——要务实。

**无服务器是频谱**

首先从无服务器开始[图 1]，然后回到 IaaS(基础设施即服务)。坚持高工程标准。在现代软件开发中，度量是困难的——它应该基于趋势，而不是绝对。DORA 的“四个关键指标”(部署频率、交付时间、MTTR 和变更失败率)是非常好的指标。一个最少交接的无服务器团队可以表现得很好。

![](../Images/fad00d42fc95a2fb5c8e8001f335b70e.png)

Fig. 1 Serverless is an Operational Construct – from AWS re:Invent 2018 presentation

显然，这样的策略需要大量的构建模块。你已经承诺 DevOps 无服务器有助于扩展高级实践，但让我们来实现它吧！以下是一些您可能会觉得有用的关键构件:

**公共云战略:**在转向公共云的过程中需要绝对清晰。这是一场变革，许多传统职能部门必须(有效地)彻底改造自己—安全、基础设施、采购、工程等。初始阶段的调整至关重要。你们对云原生的集体看法是什么？如果你是一家初创公司，那么只有无服务器优先能给你所需要的速度。

**管道:**“生产管道”成为业务关键能力。在这个新世界中，许多关键的控制必须被重新想象，团队需要一个低摩擦的环境来快速安全地移动。这方面的投资很重要；否则，你会让你的工程师感到沮丧。

**模式:**你现在正走向一个欢迎标准化的商品平台。您将开始注意到许多团队正在创建相同的样板组件。你有有效的重用策略吗？如果太重，你会拖大家的后腿，但如果太轻，你会造成大量重复。像 AWS CDK(云开发工具包)这样的方法和一些目前可用的脚手架方法可以创建“构建块模式”来快速创建组件。这在 cdkpatterns.com 得到了很好的证明，它是一个开源的云模式库。Liberty Mutual 已经使用这种模式部署了数百个应用程序[图 2]。

![](../Images/6f130b094972cfe6a6c210efe39e5b0b.png)

Fig. 2 CDK pattern from cdkpatterns.com

**架构良好:**最后，在这个环境中，架构必须发生在团队内部。但是你仍然需要建筑师。AWS 架构良好的框架提供了一个非常清晰的方法，包含非功能性需求的五个支柱，提示团队关注必须解决的问题。这不是一个清单；更像是一系列挑战。您会发现团队可以自我评估，但是需要架构师指导一些更高级的领域。

最后，想象一下在您的代码构建块中可用的架构良好的构造，并且符合您的管道控制。这就是 DevOps 在无服务器环境中的扩展方式:将质量控制融入到工程环境中。

![](../Images/91045daab8fd245f1f9daebd2c8ec3c7.png)

Fig. 3 – Lambda Power Tuner from Alex Casalboni

工程师踏上旅程后，他们就有了可以随意使用的电动工具。他们可以快速创建低成本运行的世界级系统。但是，请注意，一旦你让你的团队踏上旅程，就没有回头路了。这是一个不断优化和改进的过程；对于那些不把工程视为差异化能力的公司来说，这可能是一种开销。

对于无服务器之旅，最重要的一块拼图是确保您的工程团队了解您的核心业务。创建追求业务 KPI 的跨职能团队。当工程师拥有一个强大的环境，可以快速解决业务问题时，他们就会参与进来。不存在业务-IT 分歧；最终，技术团队会不断创新，以实现公司愿景。Liberty Mutual 不仅观察到了这里提到的许多好处，还提高了我们工程社区的参与度。无服务器是一种范式转变，允许工程师以前所未有的速度创新和前进。