# 现代数据库备份和恢复清单

> 原文：<https://devops.com/modern-database-backup-recovery-checklist/>

***你有单点故障吗？您如何处理重复数据删除？当您处理数据库备份和恢复时，需要考虑这些问题以及更多问题。***

企业正在快速采用下一代任务关键型应用程序，如非关系数据库和分布式本地存储上的电子商务、人工智能、机器学习和物联网(IoT)。但是，随着组织将这些应用程序转移到可扩展的数据库，因为它们更易于部署、始终可用且经济高效，他们还需要一个强大且可扩展的备份和恢复解决方案来保护这些现代数据库。

面临的挑战是，尽管企业对下一代应用程序的采用不断增加，但数据丢失的风险仍然普遍存在。这是因为非关系数据库缺乏任何可行的数据保护和恢复解决方案。

我的意思是:

*   目前，缺少一种解决方案，能够在最短的停机时间内将损坏的数据移除、重放和传播到面向客户的应用程序。
*   著名的研究得出结论，多达 75%最终导致停机的数据灾难是由某种人为错误造成的。由于人为错误对业务运营有很大的影响，并且是随机发生的，因此它们无法通过目前提供的解决方案来解决，例如本机数据库复制或节点级快照。
*   数据库复制不提供时间点备份和任意时间点恢复，因此企业无法回过头来修复这些错误。事实上，如果出现错误，数据库的冗余节点复制几乎会立即导致数据库所有节点的损坏。

因此，当您开始探索下一代应用程序的备份和恢复解决方案时，请记住以下几点。

### 存储不再是统一或共享的存储

一个关键的体系结构转变正在发生，单一的共享存储池不再用于下一代应用程序和数据库。新一代数据库本质上是横向扩展的，并在节点级别使用商用存储，从而创建高度分布式的存储池。这种分布式存储池提供了低成本和高性能，但不利于使用传统的数据库备份和恢复工具，后者依赖数据库持久性日志(来自共享存储 LUN)进行时间点备份。

### 最终的一致性对备份和恢复有很大影响

下一代数据库不是围绕传统的 ACID(原子性、一致性、隔离性、持久性)事务模型构建的。事务是保证这些属性的一种机制；它们是将相关操作组合在一起的一种方式，这样，作为一个整体，一组操作可以是原子的，产生一致的结果，与其他操作隔离，并被持久地记录。但是，最终的一致性带来了新的挑战，即针对运营恢复或测试/开发需求生成数据库的一致时间点视图。因此，需要新的横向扩展数据保护技术来解决最终的一致性问题。

### 重复数据删除在规模上至关重要

对于传统数据库、统一或共享数据库存储，块级快照使得基于映像的恢复和回滚相对高效。分布式存储与通常涉及数据复制而非跨表联接的横向扩展数据库相结合，导致冗余数据迅速激增，存储需求不断增加(每次写入操作需要三到四份拷贝)。在这种环境下，有效的大规模数据缩减对于有效数据保护的成功和经济性至关重要。

### 单点故障确实会失败

传统数据保护方法通常涉及介质服务器，这是辅助数据路径的瓶颈和单点故障。鉴于非常高的接收速率，再加上部署在现代横向扩展数据库上的应用程序的实时性，新一代数据保护基础架构必须进行分布式部署，以应对持续运行环境的性能(RPO 和 RTO 窗口)和恢复能力。

## 现代数据库数据保护清单

*   目前，您如何保护下一代横向扩展数据库？您担心哪些情况下的数据丢失？
*   发生数据损坏时，您的应用程序或业务能够处理多长时间的停机？
*   您是否已经验证了新一代数据库的备份和恢复？
*   您能否证明您的关键新一代基础架构备份符合法规或业务线要求？
*   您能否快速恢复到期望的时间点或任意时间点？做这件事需要什么样的手工劳动？
*   存储所需的恢复版本池需要多少存储空间？
*   您的数据保护方法是否会随着应用程序和数据的增长而扩展？
*   您能否根据需要高效地将您的测试/开发环境更新为更小或更大的集群规模？
*   当数据库节点出现故障时，您的备份解决方案会发生什么情况？您还能执行备份吗？间歇性网络故障怎么办？
*   原生格式将您从供应商束缚中解放出来，并允许数据管理服务，例如对二手数据的搜索和分析。
*   你能以原生格式恢复你的数据吗？

— [Jeannie Liou](https://devops.com/author/jliou/)