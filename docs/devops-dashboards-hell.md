# 来自地狱的仪表板

> 原文：<https://devops.com/devops-dashboards-hell/>

即使拥有成熟 DevOps 服务模型的组织也不可避免地会从执行发起人那里听说“需要”一个 DevOps 信息控制面板。刚开始采用 DevOps 的组织还没有时间构建一个，但随着时间的推移，会得出相同的结论。需求是真实的，价值是重要的——重要的是你如何实现它。供应商热衷于宣传他们已经在各自的产品中内置了一个仪表板的想法。这是部分正确的。

但是仪表板的问题不是信息的问题，而是视角和范围的问题。最终，受众想要的所有信息都可以在您的组织创建的服务连续体中使用的各种 DevOps 工具中找到。然而，当您点击多个窗口以尝试关联您最终在各种工具中寻找的数据时，定位其中的一些需要对每个工具如何操作的深刻了解、足够的安全配置文件和大象的记忆。

不知不觉中，高管甚至从业者都在呼吁建立一个整合的仪表板，清晰地呈现这些信息。当然，这里的危险是试图将每个人的观点整合到公司的一个仪表板中。相反，更明智的做法是通过将受众的数量分成不同的类别(也许是根据需求)，并检查哪些已经可用，哪些还缺少，以使仪表板项目有效，而不是来自地狱。

## **仪表盘:从业者视角**

一个典型的工程师想要看到的与 DevOps 相关的东西与其他受众想要看到的东西有很大的不同:即细节。如果您将仪表板工作的这一部分视为基础部分(即，向提出要求的工程师提供正确的详细信息)，则剩余的高级演示文稿可以基于这些数据构建。大多数工程师满足于仅仅“研究给定的工具”来得到他们想要的东西。但是有时将这些信息整合到一个仪表板中会更有意义。

理想情况下，您的公司只有一个构建工具，同样理想情况下，只有一个部署工具。如果您在这些规程中有多种类型的两种工具，那么您最好选择一种，而不是尝试使用仪表板来整合跨多个构建和部署工具的构建和部署数据。允许跨企业的多种构建和部署工具通常会导致来自多个受众的多种仪表板的需求，并且在您意识到这一点之前，来自 Hades 的仪表板项目又一次侵扰了您的组织。在构建、部署和发布流程编排方面的明显赢家消除了这类问题。

大多数情况下，当用户试图以本机工具没有计划到的方式查看信息时，就会出现对仪表板的需求。例如，我想查看一个给定的服务器或一类服务器，以及其上所有内容的列表(按版本)。例如，我想了解这种类型和版本的技术组件，并找出我的整个数据中心中可能部署了这些组件的每台服务器。

一些供应商提供内部报告功能来满足这些需求。但是，使用这些报告功能应该贴上“买者自负”的标签。通常，供应商在其各自的工具中直接针对在线或生产数据应用他们的报告。因此，一名工程师按下他的构建工具上的报告按钮，构建报告功能开始从生产角度查看自己的数据，而不是从数据的离线报告副本。当您开始针对“实时”工具运行报告时，您的速度会变慢，有时会明显变慢。

为了避免这个问题，首先要确定工程师需要什么数据，他们多久需要一次，以及您可以将这些信息复制到哪里(以形成您的仪表板系统的基础)。您还可能希望检查基本数据是如何固有地构造的，并在有意义的地方连接其中的一些数据，这样，在新的仪表板系统出现任何有意义的东西之前，您就不会发出非常大的查询来将许多小表中的关键数据连接在一起。即使数据变得接近实时而不是实时，呈现的速度仍然很重要。

## **仪表盘:商业视角** 

一旦你确定了满足你的工程或从业者社区的详细信息，它通常需要与你的业务细分相结合，以满足这种观众视角的需求。例如，在我的电子商务产品或业务线部门中，我可能有 30 台经常使用的服务器。我的工程师可能不太关心这个名称，因为他们只关心哪些服务器是内容服务器、数据库服务器或应用服务器。但是我的电子商务业务团队对这些信息有不同的看法。他们只想看到“他们的”服务器，而不是我公司的每台服务器。因此，为了适应下一个潜在受众，我需要一种方法来将服务器和技术与我公司了解的产品线或业务线结合起来。

这可能需要一个外部或额外的数据库来跟踪原始服务器名称，并将其与关注它的业务部门结合起来。它还可以用同样的方式跟踪应用程序名称，将它们与适当的业务部门结合起来。但是这种结合现在提供了按业务线提取报告(或仪表板屏幕)的能力——几乎可以肯定，您的基本构建和部署工具不是为以这种方式显示信息而设计的。这种业务细分或过滤(在某些工具中)提供了一种全新的方式来检查数据。向下钻取细节的需求可能仍然存在，但是对于查看 DevOps 数据的商业社区来说，相对于产品线或业务线的变化图片具有很高的附加值。

业务社区查看 DevOps 信息，以帮助它根据任何时间点的变化状态做出决策。例如，电子商务客户可能会收到特殊的公司通知，告知他们的功能即将发生的变化或改进，因为商业社区已经了解了这些变化和改进，并且了解了计划的发布事件和正在进行的测试质量。或者基于对以相同方式呈现的相同信息的快速浏览，那些相同的通知可能被延迟。

关键是，业务用户是 DevOps 信息的重要社区或受众，他们用来检查数据的视角来自产品或业务线构造，而不是由从业者聚集的原始数据。

## **仪表盘:高管视角** 

高管，无论级别高低，通常更关心信息的趋势，而不是时间点数据。例如，给定的主管可能想知道对于给定的业务线，每月有多少部署发生在开发类环境之外。如果您已经用上面展示的架构构建了您的仪表板，那么您应该能够提供这种信息。离散数据离线存储(从构建和部署以及其他 DevOps 工具本身复制)，然后与业务细分数据结合。现在，它可以用一段时间内的趋势来呈现，这是高管们一直想要的。

业务团队成员比典型的高管更有可能使用仪表板的深入功能。但是，当展示在哪里发生了什么的细节以及潜在的框定为什么的时候，将它提供给执行层是一个巨大的胜利。使用单一控制面板呈现趋势数据的另一个重要优势是整个企业呈现的一致性。想一想，当高管们让他们的员工制作无法在仪表板上轻松获得的报告时，公司里肯定会涌现出多少 Excel 电子表格。高管的每个下属都可能以独特的方式掌握某些数据，这往往会导致条形图似乎永远不会对齐。

拥有一个仪表板——或者更确切地说，一种呈现相同数据的方法——消除了拥有多个缺乏上下文并经常歪曲真实情况的独特的附属版本。此外，如果没有您构建和控制的中央仪表板，minions 将根据构建、部署和发布工具的生产副本提取数据请求，可能会在收集数据时使这些工具变慢。在这种情况下，看东西的动作肯定会改变那个东西的速度。

## **冲击底线** 

满足 DevOps 数据主要受众的 80/20 需求无需永远占用编程资源。一旦您交付了具有主线功能的核心仪表板系统，您的高管或业务团队就可以决定他们愿意投入多少资源来继续更新和增强仪表板。只要他们资助它，你就可以贡献你需要的资源来不断改进它(参见敏捷)。但是对于大多数商店来说，这种仪表板从头到尾都需要三到六个月的努力。

一旦仪表板启动并运行，它就成为开发运维服务透明性的“利器”。授予对此类工具的访问权限(即设置用户 id)比在没有它的情况下管理多个底层工具要简单得多。如果没有仪表板，大公司的管理成本会很高。想象一下，必须在您的构建工具、部署工具、配置管理数据库、测试工具、发布协调工具和监控工具中设置一个典型的用户 ID，而这只是开始。在这些提供真实服务或功能的工具类型中，次要问题是安全性或权限配置文件、组成员资格等。仪表板只需要一个有效的公司 id，您就可以通过 DevOps“看到”动态变化。

典型的高管们“分派”他们的下属去做报告的工作通常也是不小的努力。虽然这种工作很少被提出要求的主管人员捕获或理解，但它无疑会消耗公司的资源(包括人力和机器)。一个功能性的仪表板可以几乎完全消除这种工作，并产生一致的工作产品输出。您的 DevOps 策略应该旨在降低成本并随时促进创新。如果你需要帮助，随时与我联系，我目前仍在寻找🙂。

要继续对话，请随时[联系我](/cdn-cgi/l/email-protection#a1cad3c8d2d5c8c0cf8fcfc4cdd2cecfe1c9ced5ccc0c8cd8fc2cecc)。