# DevOps Chat:带有信号量平台的 CI/CD

> 原文：<https://devops.com/devops-chat-continuous-integration-with-semaphore/>

俗话说，“速度害死人。”说到发展，缺乏速度也会致命。Marko Anastasov 和 Semaphore 团队一直努力让 [Semaphore](https://www.semaphoreci.com) 成为市场上最快的持续集成工具。有了 Semaphore 的 2.0 版本，他们相信确实如此。

凭借他的开发背景，Marko 在领导 Semaphore 团队时带来了独特的视角。他知道自己和同事喜欢什么，那就是 Semaphore 的路线图。听听马尔科用他自己的话告诉我们。

像往常一样，下面是流媒体音频，然后是我们的谈话记录。

[https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/515169984%3Fsecret_token%3Ds-UELUV&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true](https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/515169984%3Fsecret_token%3Ds-UELUV&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true)

## 副本

艾伦·希梅尔:嗨，大家好，我是 DevOps.com 的艾伦·希梅尔，您正在收听的是另一个 DevOps 聊天。在今天的 DevOps 聊天中，我们将谈论一家名为 Semaphore 的公司。他们的网站是 semaphoreci.com。我很高兴今天他们的联合创始人之一 Marko 加入到我们当中来——我不太会念他的姓，所以我让他自己念。马尔科，你姓什么？

**马克·阿纳斯塔索夫**阿纳斯塔索夫。

**希梅尔:**阿纳斯塔索夫。正确吗？

**阿纳斯塔索夫:**对，没错。嗨，艾伦，谢谢你邀请我。很荣幸。

Shimel: 谢谢你加入我们。所以，马尔科，在我们开始说旗语之前，让我们给我们的听众介绍一下你的背景——马尔科·阿纳斯塔索夫是谁？你今天是怎么来的？

阿纳斯塔索夫:对。是啊。当然可以。所以我的核心是，你知道，我是个程序员。热衷于制作——我是一名产品人员兼程序员。也许这就是我所处的十字路口，所以我喜欢制作软件产品。从我还是个孩子的时候就开始这样做了。

**Shimel:** Mm-hmm.

Anastasov: 当我开始成为一名专业人士的时候，就像 Ruby on Rails，你知道，Web 开发。所以我开始研究这个，尽管我自己也是个 C++迷。

好的。

Anastasov: 我有点爱上了这种轻松的感觉，你可以制作一些东西，放到网上，为其他人创造一些有用的东西。我做了几个非商业性的项目，并和我的合伙人达科一起创办了一个小型咨询公司，达科现在也是 Semaphore 的合伙人。而且，你知道，我们都是干净代码的忠实粉丝，做一些事情——你知道，软件工艺，诸如此类的事情。而且，随着我们在整个领域的专业成长，我们很快就意识到了过程的好处，比如，你知道——那时候不叫“DevOps ”,十年前左右，但我们发现，“好吧，持续集成显然是一种过程——如果你想保持快速前进，就像你在一个项目上工作一样，这是你必须要做的。”

因此，通过在我们自己的公司中采用这些实践，并着眼于创建一个其他类型的开发人员也会发现有用的工具，我们开始了原型设计，并最终在 2012 年推出了 Semaphore。从那时起，这就是我们所做的一切，到目前为止，这是一个很棒的旅程，你知道，一直到今天对你的采访。

Shimel: 当然可以。嘿，伙计，谢谢你。你猜怎么着很搞笑；这并不容易，但是，当你让人们告诉他们关于他们自己的事情时，你不想自吹自擂太多，但是你想告诉人们发生了什么。我认为你做得很好。在我们进入 Semaphore 之前，你提到了我从许多其他开发者那里听到的一些东西，DevOps 领域的人，无论他们是供应商、从业者，等等，那就是在我们称之为“DevOps”之前，他们正在做所谓的“类似 DevOps 的事情”懂我意思吧?你喜欢敏捷吗？是不是和那个有点关系？

是的，我会说是的。尽管我从来没有——一直都是——敏捷本身对我来说一直是一个有点模糊的概念。对我来说，对这种思维空间的第一个介绍可能是肯特·贝克的《极限编程解释》，这本书

Shimel: 当然可以。

**Anastasov:** 对我来说，这更像是一条从业者的道路，所以，当你在开发中，在小迭代中工作时，你知道，你正在分解事物，准备好适应变化，有点不拘泥于某种路线图，等等。因此，这肯定是我们认为是一种好的操作方式，但甚至在敏捷的反斜杠之前——我不知道。我自己并不怎么使用“敏捷”这个词，但是——

**Shimel:** 好吧，你没有做 Scrum 或者参加 Scrum 课程之类的。

阿纳斯塔索夫:不尽然。

**Shimel:** 但是，可以肯定的是，在我们称之为“DevOps”或其他任何东西之前，这种敏捷的软件开发方式已经在你心中根深蒂固了。所以我总是——Marko，这是我问过其他人的事情——所以 DevOps 的独特之处之一是我们建立在敏捷之上，我们建立在精益之上，但是，当然，运营部也参与其中。

阿纳斯塔索夫:对。

**Shimel:** 作为一名程序员/开发人员，你是什么时候突然想到“嘿，让运营人员参与进来，运营功能内置其中，这真的很重要”？

**Anastasia:所以**

Shimel: 我不想把话强加给你。

阿纳斯塔索夫:是的，当然。所以，对我来说，这是关于——我来自一个小公司环境，这是我的开始。因此，在这种情况下，如果你对一个产品负责，意味着你也要对运营方面的东西负责，或者在某种程度上，开发者之间可能有共同的责任，但总会有人专门负责，至少对一个特定的项目，负责运营。我认为，对于程序员来说，接触这些东西是非常健康的，因为你——当你亲身经历这些事情时，你有点——假设你准备好了——你可能没有——你对那些妨碍你完成工作的事情没有那么大的耐心。

所以，如果你想练习不重复写代码，你想练习——当你处理基础设施的时候，试着练习同样的事情。所以我认为这是一种思路，它给我们带来了代码形式的基础设施，你知道，就像 EDU，运动和工具力量。

而且，一旦你可能从那种可能非常小的团队环境中成长起来，我想你会看到更大的图景，如果你认为连续交付是一个更广泛的目标，能够在任何时间点部署你正在工作的任何东西，这是你想要的理想状态，那么真正擅长运营意味着，例如，如果你在做微服务， 在 90 年代，如果有人花两周时间为你提供资源，你就可以开始在你的微服务中编写第一行代码，那么你可能真的没有那么敏捷。 所以如果能缩短到五分钟或一小时，那就太好了。

希梅尔:是啊。

阿纳斯塔索夫:对。

**Shimel:**Marko，当我四、五年前刚开始创办 DevOps.com 时，有一场关于“小公司和大企业的开发运维有什么不同吗？”的大辩论当然，在小公司和大企业工作是有区别的，对吗？在小公司，你确实身兼数职。你没有一个完整的运营团队、一个完整的独立开发团队、QA 和业务架构师等等，你知道，你没有这些。每个人都全力以赴，做他们必须做的事情，而在大型企业中，你有时会有这种东西。

所以，很明显，它们之间是有区别的，但是，归根结底，DevOps 就是 DevOps，对吗？它是关于持续集成、持续交付等等。所以我认为这是一个——你知道，你所描述的并没有什么不同寻常。我认为这是这些东西遵循的路径和轨迹。

阿纳斯塔索夫:是的。是啊。我认为这是关于——无论你是来自一个小组织还是在一个大组织工作，最终，这都是关于“我们如何快速行动，以便我们只是有点——理想的状态是当我们都处于某种创造模式时，所有的时间或尽可能多的时间。

Shimel: 当然可以。

**Anastasov:** 我认为，在一个大团队中，事情可能会停滞不前，如果你可能——我不知道——选择了可能不适合你的需求的工具集，你可能想重新发明轮子，或者——所以我认为，不管团队规模或技术堆栈如何，决策应该总是类似于“好吧，什么能让我们专注于创造价值，而不是在某种程度上成为工具链的奴隶？”

**Shimel:** 明白了。好吧。所以让我们稍微跳跃一下——你知道，我们有点跑题了，但是让我们来谈谈信号量。

阿纳斯塔索夫:当然。

**Shimel:** 什么事？这是怎么做到的——我的意思是，我想你已经给了我们一些关于它是如何发生的背景知识。告诉我们什么是信号量。

Anastasov: 所以 Semaphore 是——总的来说，我们的使命是让团队能够以高速度构建伟大的产品。我们通过尽可能轻松地在他们的组织中实现持续集成和持续交付流程来做到这一点。我们可以追溯到——大约六年前，当我们最初推出 Semaphore 时，就像我们在寻找可用的工具，从我们的角度来看，像 GitHub 这样的服务，或者，你知道——在 GitHub 上，你只需点击几下，就可以获得你的存储库；你已经准备好与他人合作了。例如，我们看到，已经有了平台即服务，比如 Heroku，再一次，在几个命令中，您就可以启动并运行整个应用程序，并准备好迭代，非常快地为客户提供一些东西。

**Shimel:** Mm-hmm.

**Anastasov:** 但是，例如，在拥有可扩展的持续集成流程方面，基本上，在那一点上，Jenkins 是唯一可用的工具。这最初有点像“挠痒痒”之类的事情，但是，对于许多人来说，维护、扩展和学习如何做所有这些事情，构建和测试代码的基础架构并不是他们的核心业务目的，也不是他们创造价值的地方。所以我们最初的目标是，“好吧，我们能不能创造一个像 GitHub 一样简单易用，但又能持续集成的东西？”所以你只需点击连接你的 GitHub 账户，选择你的库，在很多情况下，我们会自动推断 CI 构建应该是什么样的，你就可以离开地面了。您可以在云中自动运行完整的持续集成流程。

当然，在那之后不久，我们听取了客户的意见，实现了一些支持持续部署的特性，这样客户或开源用户就可以跟踪版本并管理不同的环境。所以，这些年来，我们已经从——所以，传统上，它主要是关于当人们认为这个空间是“托管 CI”时，所以它有点像有一些——但是，在这一点上，有几个选项，当然，其他公司做同样的功能。我认为前景就像是，“好吧，这非常–”但是，在 2018 年的这个时候，使用某种云服务来自动化测试是非常简单的。

但事实并非如此——如果我们回到我们在开始时讨论的内容，如果目标是加速整个工程组织，那么不仅仅是运行测试，你知道吗？所以每个技术领导者都想——我的意思是，他们的目标是尽快向客户交付无缺陷的产品。因此，我们谈论的不仅仅是测试，还有配置和交付流程，这些流程通常涉及多个技术堆栈，当然，它们会随着时间的推移而发展。例如，现在我们有了以前没有的容器技术

**Shimel:** 改变了游戏。

**阿纳斯塔索夫:**彻底改变了游戏。因此，这样做的方法是基本上实现连续交付，这样，第一步，你自动化所有的过程，第二步是优化它们，但是使用 Semaphore 来自动化所有的连续交付过程到目前为止——它不能支持，比方说，每一个需要的过程，所以这就是为什么，今年 11 月，我们很兴奋地展示了全新版本的 Semaphore，它是—

**Shimel:** 那是 Semaphore 2.0 吧？

**阿纳斯塔索夫:**正是。是啊。

**Shimel:** 嗯嗯。马科，让我问你。我觉得你们很自豪。在你的网站上，你提到了你的引导。你知道，这很有趣，当你看 CI/CD 空间时，有许多很棒的开源、免费工具，对吗？显然，詹金斯是显而易见的一个，但 CloudBees，当然，有商业版本，如果你想叫它。特拉维斯·切尔莱西——另一个是什么？–城市–我忘了它的名字。你我都知道有几个非常流行的 CI/CD 工具，ARAs 和所有这些东西。你认为 Semaphore 的特别之处是什么，如果我们谈论的是——我们的观众是开发者和开发者——为什么是 Semaphore 而不是其他一些呢？

阿纳斯塔索夫:当然。我们总是非常关注速度，所以“我们如何不仅能为人们提供一个自动化的工具，而且我们能给他们一些最好是现成的东西，这样他们就能节省时间，与他们以前使用的任何东西相比？”因此，当您使用 Semaphore 时，一个基本的事情是，基本上我们会定期测量这一点，并且始终保持不变，与云领域的所有其他竞争对手相比，Semaphore 在纯性能方面的速度是其两倍。

因此，这对任何团队来说都可以节省几个小时的工程时间。当然，这取决于项目和团队的规模，但是，如果你稍微回想一下，在美国的开发人员的全套服务每小时费用大约是 150.00 美元。所以，如果你能做些什么来优化它，我们认为这是一个巨大的胜利。随着时间的推移，我们在以下方面取得了一些进步

*【电话铃声】*

是不是有人从詹金斯打电话到-*【咯咯笑】*

希梅尔:对，有可能。*【笑】*这是非常及时的，但是，不，我认为它是别的东西。去吧。

阿纳斯塔索夫:对。因此，我们提供工具，例如，自动瘫痪项目的 CI 构建，所以人们——你知道，大型项目，对于拥有 100 或更多开发人员的中型或更大规模的团队，他们通常有运行数小时的 CI 构建。反馈循环——作为这样一个项目的开发人员，你会发现自己在这样一种反馈循环中工作，这是一种非常悲惨的经历。所以你变得有点防备。你在游荡的树枝上工作；你不合并，你知道，你有古怪的测试等等。因此，本质上，我们已经看到，当人们采用 Semaphore 时，如果他们开始使用我们的自动瘫痪功能，在某些情况下，他们会从超过 2 小时到 15 分钟的 CI 构建。就像他们只需要拖动一个滑块，它就工作了。所以我们尝试做一些能真正提高团队生产力的事情。

到目前为止，市场上还没有——在 Semaphore 2.0 中，我们从我们的客户，尤其是大客户那里学到了很多东西，首先，我们让为需要模拟连续交付流程的公司创建复杂的管道变得非常容易。另一方面，我们认为非常重要的是，到目前为止，这种基于云的 CI 和 CD 工具——以及 Semaphore 是其中的一部分。事实上，我们开始了这种想法，对每个工人或并行执行你的东西，你的工作的某种机器进行收费。

因此，在 Semaphore 2.0 中，我们决定提供一种真正的云服务，这样它就可以根据您的需求自动扩展，因此您只需支付您所使用的费用，并且永远不会有任何等待时间，这是我们在许多组织中看到的一个巨大瓶颈。他们可能会按月或按年从 Semaphore 或 Circle 或其他产品购买一些资源，比如说，如果他们在一天或一周的某段时间非常忙，他们的 CI 就无法处理他们需要的资源。所以我们认为，有了自动扩展，开发人员总是能够快速完成工作，并尽可能地保持在最佳状态。

**Shimel:** 明白了。嘿，马尔科，伙计，我很想和你再聊一个小时关于开发商的状况。我确实认为你是对的——虽然速度真的很重要，作为信号量的好处或优势，我认为我们处在一个开发者是顶级阿尔法捕食者的世界，对吗？最难填补的空缺，最难找到的工作。给他们一个让他们开心，让他们工作的环境，如果你愿意，以一种好的方式，比让他们用蹩脚的工具工作有更大的好处。我没有说任何人的工具“蹩脚”，但我只是说，如果有选择的话，我认为开发人员会——他们会希望使用能让他们的生活更轻松、体验更好的工具。但我们还有半个小时，而这远远超过了 15 分钟，所以我们需要结束这一切。也许我们可以在几周后的另一次聊天中重新开始。

阿纳斯塔索夫:我很乐意。

但是，现在，我们将结束这一集的 DevOps Chat。与马尔科·阿纳斯塔索夫的有趣对话。接近？

**阿纳斯塔索夫:**没错。是啊。

好的。旗语的创始人之一。新的 Semaphore 2.0 即将推出；看看吧——CI 的绝佳工具。下一次，我是 DevOps.com 的艾伦·希梅尔，您刚刚听到的是另一个 DevOps 聊天。

— [Alan Shimel](https://devops.com/author/ashimmy/)