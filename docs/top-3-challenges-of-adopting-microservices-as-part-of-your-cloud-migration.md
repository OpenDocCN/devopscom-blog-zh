# 在云迁移中采用微服务的三大挑战

> 原文：<https://devops.com/top-3-challenges-of-adopting-microservices-as-part-of-your-cloud-migration/>

许多组织开始进行云迁移，以实现可扩展性、成本效益和更高的应用程序性能。IDC 估计，全球 60%的企业正在将现有的应用程序迁移到云中。有了更大的灵活性、减少开销和显著节约成本的潜力，这是一个合乎逻辑的决定。但是，许多企业不是执行“提升和转移”，即简单地将现有应用程序迁移到云平台，而是将迁移期作为实现应用程序架构现代化的机会。

此外，在 NGINX 的一项调查中，超过 70%的组织表示他们正在为他们的新架构采用或探索微服务，并且理由充分。微服务是一个相对简单的概念的复杂名称，指的是应用程序的各个部分被构建为离散的模块化构建块的概念。将单一应用分解为可管理的微服务，使开发团队能够快速响应不断发展的业务需求，为每项任务选择正确的技术堆栈，并随时为各种交付平台提供支持，包括 web、移动和本地应用。

但是，在微服务带来巨大好处的同时，企业也面临着一些挑战，因为他们希望采用新概念来保持竞争优势。事实上，将微服务作为云迁移的一部分并不总是容易的。下面是我们看到的企业面临的三个常见挑战，以及帮助降低这些风险的解决方案。

## 挑战 1:确定需要迁移到微服务的内容

在您开始将您的应用分解为单个微服务之前，您首先需要了解它的完整范围和架构。这可能会被证明是具有挑战性的，因为很多时候应用程序的总体视图是基于“部落知识”或由一组不同的工具拼凑而成的。有时，更全面的视图可能是可用的，但它是基于过时的信息，不能反映应用程序的当前架构。

* * *

**相关内容:**

[云开发运维:安全的土拨鼠日](https://devops.com/devops-in-the-cloud-securitys-groundhog-day/)

[数字体验监控的挑战](https://devops.com/challenges-digital-experience-monitoring/)

* * *

您需要找到一个解决方案，帮助您发现和映射应用程序的每个组件、依赖项和第三方调用。这个解决方案应该帮助您理解这些部分之间的关系，以及每个部分如何影响您的应用程序的行为和用户体验。有了这些信息，您将对需要迁移的内容有一个清晰的了解，并能够就您的微服务架构做出更明智的决策。

## 挑战 2:确保您的微服务达到或超过迁移前的性能

为了确保您的应用程序在迁移后平稳运行，并且用户体验不会受到负面影响，您需要一种方法来比较迁移前后的性能指标。这可能非常困难，因为这两种环境的体系结构(随着硬件的变化和向分布式体系结构的转移)可能看起来完全不同。让事情变得更加困难的是，单个主机提供商提供的监控工具只能洞察整个架构的一小部分，无法创建更全面的数据集。

为了解决这些问题并建立一致的基线来衡量您的性能和用户体验，您需要在开始迁移之前捕获关键的用户交互(通常称为业务事务)。业务事务很可能在迁移过程中保持不变，而其他指标可能会随着您采用不同的代码路径和部署在不同的基础设施上而改变。有了关于业务事务的基准数据，您可以轻松地比较迁移前后环境的性能，并确保不会影响您的用户体验或整体性能。

## 挑战 3:监控您的新微服务环境

对于在几个硬件上运行单个代码库的大型整体应用程序，两三个工具曾经可以提供对应用程序和基础架构性能的完整、直观的监控。然而，随着微服务的引入以及每个服务实现其自己的技术堆栈、数据库和托管提供商解决方案的潜力，单个服务现在可能需要比整个应用程序更多的监控工具。微服务监控带来了特定的挑战:它们通常是短暂的，这意味着更长时间的监控可能会更复杂，并且可能有更多的途径来访问服务，从而可能会暴露线程争用等问题。

最后，虽然开发团队以前不需要考虑基础架构的监控解决方案，但迁移到 DevOps 和对云原生技术的依赖意味着这一因素不能再被忽略。

消费者行为和期望的变化是云计算和移动设备采用等大型技术趋势的催化剂。虽然速度的变化可能会让许多人眼花缭乱，但随着对应用程序开发速度的需求比以往任何时候都大，云迁移是可能的。任何希望成功采用微服务作为其云迁移一部分的企业的目标都是找到一个统一的监控平台，支持您的所有环境，无论语言或技术堆栈如何。该解决方案必须将来自您的应用程序和基础架构的指标整理成一个真实的来源，并允许将这些指标与用户体验相关联。

— [马特·乔丁](https://devops.com/author/matt-chotin/)