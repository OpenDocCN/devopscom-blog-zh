# 使用 DevSecOps 加速您的 SDLC

> 原文：<https://devops.com/accelerate-your-sdlc-with-devsecops/>

DevOps 是解决日益增加的软件开发复杂性的方法，但是参与者、技术和环境的粒度和多样性带来了额外的安全需求。转移到 [DevSecOps](https://devops.com/?s=DevSecOps) 不仅有助于满足这些需求，还能加速软件开发生命周期(SDLC)。

随着开发项目的成熟，更多的开发人员参与进来，代码库增长，架构变得更加复杂；因此，SDLC 会变慢。这就是敏捷、微服务和 DevOps 出现的原因——通过将大团队分成更小的团队，将单片分成更灵活的组件来解决这个特定问题。

但是团队、工作环境、技术、服务和存储库的粒度和多样性使得集成安全性变得更加复杂。事实上，开发人员现在面临着多种 SDLCs，并且在速度上取得的收益经常会被安全问题抵消。你需要一个有效的过程，最好是一个快速的过程。

这就是 DevSecOps 试图解决的问题；将安全性添加到开发运维中实际上加速了 SDLC。以下是原因和方法。

## 在规划阶段进行开发

规划阶段是关键，因为它回答了做出架构决策时的基本问题。其中一些决策与访问控制、网络基础设施和数据安全有关。对于每一种情况，增加自动化—因此也增加了安全性—可以实现快速复制。

对于访问控制，您可以利用基础设施即代码(IaC)工具(例如 Terraform)通过代码轻松定义不同的组、角色和权限。通过添加各种插件，你甚至可以使用你的 IaC 工具来管理其他平台上的用户，就像在 GitHub 中一样。当您将所有的组、角色和权限都定义为代码时，您离访问控制更新只有一步之遥。

如果您需要让一个新的团队成员不仅加入某个特定的 AWS 组，还加入 GitHub 组，而不是在两个地方手动完成，那么您可以“按代码”对这两个组进行最小的更改。

组织的复杂性和对更好安全性的需求意味着需要更多基于角色的访问控制，但自动化工具是存在的，而且它们也不太容易出错。

当涉及到网络基础设施时，您也可以使用 IaC，但是您还需要在其上添加一个安全层来减少代码中的任何错误。例如，您可以在 Terraform 上使用 tfsec 和 terrascan。这将静态扫描您的代码，并根据预定义的规则，生成警报，并为您提供提高安全性的建议。如果您喜欢 CloudFormation，请使用 cfnlint，它甚至允许您定义自己的安全规则。

当您准备好基础架构后，下一件要考虑的大事就是您的数据。你需要将数据加密放在适当的位置，以确保数据被安全地存储。您还需要为数据库添加传输层安全性(TLS ),以保护传输中的流量。除了使用静态代码分析工具和现成的服务，您甚至可以自动化自己的管道。当你有多个敏捷团队时，这非常有用。

让我们以 S3 水桶为例。您可以构建一个通用的解决方案，其中 S3 事件触发一个无服务器函数来检查 bucket 的权限。如果违反了策略，可以立即修复并自动通知所有者。

## 走向发展

在开发阶段，您需要解决三个主要的安全领域:代码库安全、持续集成(CI)安全和容器映像安全。

代码存储库安全性需要解决围绕存储库访问控制的问题，考虑最小特权原则，但也要检查没有存储库被意外公开，或者它们不包含敏感元素，如机密。
借助多团队、敏捷和微服务设置，您需要自动化来跳过耗时且容易出错的任务，同时避免让您的 SDLC 慢如蜗牛。我们已经提到了 git 用户管理自动化，但是还有许多用于静态代码分析和秘密检测的[工具。您甚至可以将这种检测纳入您的 CI 渠道，并将其与您的警报工作流集成，以从源头消除风险。](https://blog.gitguardian.com/security-tools-shift-left/)

CI 安全性经常被忽视，但这是一个非常重要的元素；如果您的配置项设置不正确，可能会导致数据泄漏。需要控制对您的配置项的访问，以提供适当的许可和访问权限。手动执行此操作肯定会影响您的 SDLC 速度，因此，同样需要自动化。您可以将您的 CI 与您的 Git 或公司单点登录(SSO)解决方案集成在一起进行身份验证。对于授权，您可以依赖这些 SSO 服务提供的组信息。

秘密对 CI 来说也很关键。现代 CI 管道允许您在项目级别存储秘密。配置完成后，您可以直接在构建中使用它，而无需将敏感数据以明文格式保存。即使您尝试打印包含敏感数据的变量，它也不会显示出来。例如，要直接使用来自 Jenkins 管道的秘密，您可以将您的秘密存储在 Kubernetes 集群中，并使用 [Kubernetes 凭证提供者](https://plugins.jenkins.io/kubernetes-credentials-provider/)或 [HashiCorp 保险库插件](https://github.com/jenkinsci/hashicorp-vault-plugin)。

现在，我们来谈谈容器。虽然容器简化了 SDLC 中的部署、扩展和故障转移功能，但它们也带来了一些挑战。如果容器映像有一些已知的漏洞，您的容器可能会被利用，整个机器甚至整个系统的完整性都会受到损害。同样，自动化是确保您构建的映像不包含漏洞的首选解决方案。一些基于 CLI 的工具，如 [Trivy](https://github.com/aquasecurity/trivy) 可以很容易地集成到您的 CI 管道中。

自动化将显著降低您的运营开销。不再需要管理机器(物理或虚拟)，不再需要配置管理，不再需要打补丁。如果一切都是自动化的，这意味着更少的辛劳，这意味着您的 SDLC 不仅更安全，而且更快。

## 集成和部署

Kubernetes(容器编排)是当前在我们的敏捷世界中简化集成和部署的解决方案。但是 Kubernetes 是一个复杂的系统，有其自身的安全挑战，其中最重要的是秘密。

你能做的最糟糕的事情就是在 YAML 文件中定义秘密，并将它们存储在 Git repos 中。你可以把 Kubernetes 的秘密作为真相的唯一来源，但是由不需要访问 Kubernetes 的人创造的秘密呢？这就是秘密管理器是一个好选择的地方:它充当存储您的敏感数据的单一来源。你将得到一个自动化的过程，消除了体力劳动的辛劳，但也保证了安全和速度。

## 事件响应开发部门

事件响应行动手册是 DevSecOps 的重要组成部分。行动手册是一组概括和总结的流程，为更快的响应和解决问题提供了一致的处理方式。从每个事件中学习也是剧本的一部分，无论是安全问题还是新的漏洞。

内容可以包括从操作手册和清单到模板、培训练习、安全攻击场景和模拟演练的一切。目标很简单:一套快速响应和解决计划外停机的策略、流程和实践，从而帮助团队更快地修复在线问题，以减小爆炸半径。

我们只是触及了安全自动化功能及其对 SDLC 的潜在影响的皮毛。但是很明显，将(自动化)安全性添加到 DevOps 中对 SDLC 的整体速度有积极的影响，当然，对其安全性也有积极的影响。