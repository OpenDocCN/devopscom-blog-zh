# Mixcloud 改造:更快的开发，更大的信心

> 原文:[https://devo PS . com/mix cloud-改头换面-更快-发展-信心/](https://devops.com/mixcloud-makeover-faster-development-confidence/)

“Mixcloud 为数百万播客和 DJ 提供音频托管和分发服务，”Mixcloud 首席技术官兼联合创始人 Matthew Clayton 表示。Mixcloud 的开发人员用 python (Django)和 javascript 编写网站程序，用 Java 和 Objective-C 开发他们的本地移动应用程序。Mixcloud 团队在五年的时间里开发了庞大的 Django monolith 应用程序。Mixcloud 的主要服务器基础设施支持这个应用程序，它构成了它的大部分代码库。

遗留开发工作流程和未来目标

Mixcloud 团队过去常常在分支上编写应用程序，部署分支，检查稳定性，将其合并到主分支中，然后重新部署。“我们曾经在 git 上对代码进行分支，然后将其推送到 github，这样所有团队都可以看到分支并行开发，”Clayton 说。为了检查代码的稳定性，Mixcloud 团队过去只是观察网站是否在单个服务器上崩溃。“我们最初没有任何测试，所以这是我们可以看到是否有问题的唯一方法，”克莱顿说。

每当 Mixcloud 雇佣新的开发人员时，旧的整体开发方法也会带来挑战。“增加不了解整个堆栈的开发人员会大大增加出现错误的可能性和停机的风险，”Clayton 说。

当 Mixcloud 寻找 DevOps /连续交付方法时，它想提高开发人员生产的代码的质量，增加团队对他们交付生产的代码的信心，同时总体上加快开发速度。

新的工作流程，道路上的坎坷

如今，Mixcloud 使用 github.com 托管和审查其代码。该公司使用 Slack 进行内部通信。团队使用 getsentry.com 进行异常处理，使用 Asana 进行产品特性和缺陷跟踪。“我们使用 Codeship 来运行林挺(python/JS/Templates)、JS 单元测试、python 测试、Selenium 集成测试和数据库集成测试，”Clayton 说。

Python/JS/Templates 通过利用 pylint、jslint 和 Django-extensions 等工具来执行静态分析和 lint 适当的代码，从而实现了代码林挺。

但是通往 DevOps 启蒙和改进的道路是永无止境的。克莱顿和他的团队花了一些时间来理解所有工作组件在集成在一起时如何相互影响。“我们仍然没有在发布过程中包括数据库迁移。这仍然是一个手动过程，”克莱顿说。Mixcloud 最终也会将这一点添加到它的自动化项目列表中。

穿越 DevOps /连续交付迷宫

在新开发流程的一次往返旅程的最开始，Mixcloud 开发人员将在 github.com 上打开一个拉请求，并将其分配给另一个团队成员。此操作会自动启动完整的构建，并部署临时基础架构。“指定的开发人员现在将使用 github 审查 pull 请求，以及运行代码。一旦这一审查过程完成，分支就与主分支合并，”Clayton 说。

接下来，这将引发生产中的部署。当团队准备好时，他们将运行一个命令来为每个用户激活新代码。“整个测试和部署过程现在大约需要三分钟。这使得快速迭代成为可能，”克莱顿说。

好处和惊喜

Mixcloud 最大的两个好处是增加了代码林挺和拉式请求审查。“这有助于团队更好地意识到整个代码库的变化，并以基本上固定的一次性工程成本根除整个类别的错误，”Clayton 说。

与每次新开发人员加入时都会引入新错误的传统开发方法相比，Mixcloud 团队现在只引入在极少数情况下可能导致网站中断和停机的大规模错误。

但是主要的未预料到的好处是自动化和手动测试的减少如何增加生产力和开发速度。“令人惊讶的是，团队成员之间的交互速度有了巨大的提高。Clayton 说:“我们看到生产力和开发人员的幸福感比变革前有了明显的提高。开发过程自信地重构大量代码的能力也取得了长足的进步。