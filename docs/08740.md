# 欢迎来到软件供应链管理的新领域

> 原文：<https://devops.com/welcome-to-the-new-field-of-software-supply-chain-management/>

供应链管理是 DevOps 和 DevSecOps 社区中最新的“亮点”。但是对于软件开发来说，这意味着什么呢？

历史上，供应链管理是一个商业术语，指的是跟踪在生产者和消费者之间流动的商品和服务的物流。这将包括原材料的储存和流动，重点是支持该过程的渠道。

当我们从软件开发的角度来看这个概念时，我们很快就会看到它是软件配置管理的一种新形式。是的，新的 SCM 是… SCM。[供应链管理](https://devops.com/?s=supply+chain+management)的核心是控制软件变化的过程。新的 SCM 扩展了那些旧的实践，包括所有的“原材料”,这些原材料是我们作为软件构建和打包步骤的一部分来管理的。例如，当公司购买和下载内部软件中使用的开源库时。供应链管理包括对这些“原材料”以及所有内部代码和库的询问。我们将很快听到更多关于软件物料清单(SBOM)报告和差异报告的内容，因为它们对于理解流经我们创建的软件的对象至关重要。

直到最近，软件供应链或软件配置管理实践才被谈及。这个专业领域从来都不“性感”也就是说，直到[网络安全管理软件产品](https://securityboulevard.com/?s=SolarWinds)供应链被黑。网络安全管理软件产品黑客事件是一个很难学习的教训，但它教会了我们更仔细地看看我们如何消耗我们的原材料，并更认真地对待我们如何构建和打包我们的软件。

据发现后门供应链黑客的 FireEye 公司称:

“网络安全管理软件产品。Orion.Core.BusinessLayer.dll 是猎户座软件框架的网络安全管理软件产品数字签名组件，包含通过 HTTP 与第三方服务器通信的后门。我们正在追踪这个网络安全管理软件产品猎户座插件的木马版本，名为 SUNBURST。”

很明显，这个. dll 的创建出了问题。我不想假装完全理解这个漏洞是如何发生的。但我确实了解构建过程，并且在过去 25 年中一直在谈论这种类型的违规的可能性。

在我们最基本的软件开发实践——编译/链接过程中，一直存在很大的安全漏洞。大多数构建过程都是使用 Ant、Make 或 Maven 脚本强制定义的。每次构建运行时，它都会重新构建所有的二进制文件，即使相应的源代码没有更改。

这是一个问题。相反，我们需要一个增量的构建。增量构建很难编写脚本，因为它们需要更高级的逻辑。大多数开发人员没有足够的时间来创建一个更好的构建过程，一个仅仅重建变更的过程。这意味着几乎不可能审计二进制文件被重新编译的原因，因为它们总是被重新编译。如果我们只重新编译有相应代码更新的二进制文件，我们可以更仔细地审核代码，并确保只包含批准的代码更新。

这可能不是网络安全管理软件产品袭击的原因，但也有可能。一旦黑客通过了防火墙，他们就可以找到构建目录，通读构建脚本，并确定用他们的坏函数更新的完美代码。下一次构建运行时,“全部清理”会重新编译所有内容，就像黑魔法一样，会产生一个旭日。

在我们不太遥远的过去，开发人员社区拥有控制软件构建的工具，这超出了命令式脚本所能做到的。例如，OpenMake 软件提供了一个名为 Meister 的构建自动化解决方案，确保增量构建变得容易。作为构建的一部分，它生成了 SBOM 报告和差异报告，允许团队轻松地审计和比较实际的源代码变更，以确认只包含了批准的代码更新。另一个例子是 Rational Software 的 ClearCase，它使用了一个叫做 ClearMake 的程序。ClearMake 使用了一个名为“winkin”的过程来重用未更改的“派生”对象。这个过程创建了一个易于审计的增量构建。

我意识到我在简化整个问题，但这是基本供应链最佳实践的一个很好的例子，也说明了我们的流程有多么容易受到攻击。

现在是认真思考我们如何管理原材料和整个供应链的时候了。我猜大多数单一的实践不会有太大的变化；重写数百个 CI 渠道的成本太高，影响太大。但这并不意味着当我们在微服务架构中转向云原生开发时，我们不能解决供应链难题。

在微服务架构中，我们需要开始考虑供应链是什么样子的。我们如何跟踪以数百个小的“有界上下文”函数形式存在的原材料？好消息是，有一个新兴的微服务目录市场可以成为供应链解决方案的一部分。微服务目录可以跟踪服务版本到其消费应用程序的版本。你的新 SBOM 报告将有两个层次:第一，微服务的 SBOM。第二，应用程序级别的聚合数据。请记住，在这个新的架构中，完整的构建并没有完成。

重要的是要明白，微服务自然是增量的，是独立构建、打包和部署的。管理这些小服务打开了一扇大门，可以在它们发布之前更仔细地审核它们的源代码。

随着我们从整体开发转向微服务，我们有机会整合供应链和配置管理最佳实践。这包括能够在发布完成之前仔细审核代码。记住，我们必须尽快完成这项工作。这听起来像是一个大任务，但非常值得努力。总的来说，随着我们探索管理 DevOps 渠道的新方法并整合配置管理和 DevSecOps 原则，我们将找到答案。