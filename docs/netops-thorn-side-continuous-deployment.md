# 网络运营:持续部署的眼中钉？

> 原文：<https://devops.com/netops-thorn-side-continuous-deployment/>

在过去的几年里，我们确实已经完成了持续集成和持续部署(CI/CD)。我们现在可以保持一个相对稳定的可部署代码流，等待实际的部署步骤将它们投入生产。

然而，转向生产一直是系统中引入谨慎的地方，这当然不总是一件坏事。生产部署似乎遵循了我们父母教导我们的格言:“仅仅因为你能，并不意味着你应该。”在许多环境中，一天多次部署是一个荒谬的目标；在某些情况下，甚至一个月多次部署都是不合理的。

让我们面对它，在一个即使是中级项目也有 18 个月的瀑布的企业中，随时部署的能力(因此，接近连续的测试)是一个几乎不可想象的改进。如果您需要用户输入来调整项目，那么一天部署三次没有什么意义。

## 还存在其他原因

但是，持续部署不像持续管道的其他部分那样普遍还有其他原因。我们已经谈了一些安全问题，但今天让我们再谈一点:网络。

网络减缓部署工作有几个原因，所有这些都是旨在随着时间的推移增加部署的组织应该考虑的真正原因。

首先，网络是企业的命脉。运营部门自然会非常小心地快速更改设置和负载，这可能会给公司网络带来问题。对于部署到云的产品来说，这种担心要轻一些，因为虚拟专用云(VPC)之类的东西可以隔离网络变化对整体生产架构的影响。但是，即使在云中，对网络环境进行快速、自动化的更改仍然存在安全问题。网络(以及它所暴露的应用程序)是大量安全漏洞的入口，最近我们已经在云中看到了一些庞然大物。

其次，仅次于标准运营网络的是将网络集成到标准 CI/CD 工具中。它来了，但我们还没到那一步。在运营方面，事情进展得更好:例如， [Puppet](https://puppet.com/) 可以将命令插入包括[思科系统](https://www.cisco.com)和 [F5 网络](https://www.f5.com)在内的中坚力量的网络设备。但是这种支持仍然是有限的，部分是由于供应商提供的 API 水平，部分是由于这些 API 的成熟度，部分是由于 DevOps 工具端的实现。

## 这是一件好事

即使自动化全力以赴，网络问题仍有可能减缓 CD 管道，因为管理员希望进行某些更改，不会让他们花一晚上的时间来尝试纠正错误。

我认为这是对 DevOps 的一个很好的检查。我喜欢 DevOps 以及它所带来的更长的交付时间。最终，整个业务变得更加敏捷，因为它能够以更快的速度交付。但有时它——事情发展的速度——让人感觉鲁莽。在某些领域——主要是安全和网络，但也包括服务器上的负载分布——在推出之前应该进行健全性检查。任何可能影响整个应用程序，甚至整个基础设施的东西都值得进行最后的仔细检查。

我知道在这件事上我不是大多数。DevOps 热可以让人们说没有什么应该减缓管道，但我从经验中知道。长时间的周末修理可能在生产过程中被捕获的东西教会了我要小心谨慎。把紧急部署留到有理由紧急行动的时候。有时候，今天就把它推出去是必要的，但是在持续的环境中谈论较慢的部署就好像这是一个错误一样，这忽略了它作为公共领域的最后一站所提供的优势。

## 做对您的组织最有利的事情

网络供应商将继续提高其设备的可编程性，软件定义网络(SDN)已经或正在发展成为一个不同的领域，可以推动持续部署。因此，如果您需要一天部署多次，并对网络进行更改，请关注安全性并让网络支持自行增长。如果您不需要每天进行多次部署，那么请放松，不要对部署可能需要多长时间感到紧张。您比以前更快了，如果您需要更快的速度，请利用自动化工具不断增长的支持。

唐·麦克维蒂