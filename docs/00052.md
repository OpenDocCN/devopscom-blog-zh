# 不要害怕“R”字

> 原文：<https://devops.com/dont-be-afraid-of-the-r-word/>

似乎很多人都害怕 refactor 这个词。我认为在很多情况下，如果有人承认他们需要重构，这意味着他们要么没有做好自己的工作。他们要么错过了需求，要么写了低效或错误的代码，等等。或者，产品或系统存在根本性的问题。事实是，有时会出现大问题，需要进行重大的重构/重写。我认为这种情况很少发生，但是如果所有人都接受并明智地执行，结果会好得多，并且可以避免重大的重构。

不管是功能、部署脚本还是架构决策，在某种程度上，每个人都必须承认他们不是千里眼，无法预测最终用户或系统的每一种行为方式。因此，会有遗漏/新的需求和不可预见的问题。因此，我非常赞同“为你现在所知而建造，并随着你的发展而调整”的理念。通常，这意味着输出更简单，完成更快，增强和缺陷更容易解决。这种哲学也意味着你经常处于重构的状态，或者换句话说，融入新的知识，使个别方法更有效，提高代码的可读性，填补遗漏的测试，等等。

现在，仅仅因为我们已经接受了重构，我们有高尚的意图，总的来说，让代码比我们发现的更好，这并没有给我们疯狂地开始重写我们看到的一切的许可。我觉得重构有对错的时候。

首先也是最重要的，不要让那些讨厌的代码分散你的真正目的，即通过构建新系统、新功能和修复错误来交付商业价值。因此，不要直接跳到重构，快速地在代码、故事或记事本中把讨厌的事情记为待办事项，这样你就不会忘记它，而且还能继续工作。也就是说，直接妨碍您的糟糕代码是公平的游戏，我甚至认为靠近您任务边缘的糟糕代码也是公平的游戏。

其次，遵循良好的工程实践。小规模地进行变更，经常测试和部署您的变更，并与团队进行沟通。最终，你会得到更好的产品，更满意的最终用户和工程师，这些都将转化为更成功的业务。

如果你是那些透视者之一，那么给我发电子邮件，让我们边喝啤酒边聊，因为我有很多问题。否则，如果你是一个像我一样的凡人，那就拥抱“R”这个词，寻找那些也拥抱它的公司和团队。在一天结束时，或者在几个版本发布后，回想一下团队和代码在快速解决实际问题时的适应能力，会给人留下非常深刻的印象。