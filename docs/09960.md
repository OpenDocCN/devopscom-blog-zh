# 基础架构抽象将是管理多重云的关键

> 原文:[https://devo PS . com/infra structure-abstraction-will-key-to-managing-multi-cloud/](https://devops.com/infrastructure-abstraction-will-be-key-to-managing-multi-cloud/)

毫无疑问，我们现在生活在一个混合云时代。公司正在使用主要的云提供商，如 AWS、Azure 和 GCP，市场上出现了小众云计算提供商。同时，许多组织仍将工作负载保留在内部数据中心或采用[托管](https://devops.com/old-man-yells-at-cloud/)。无论部署模式如何，DevOps 团队都希望获得与云相同的弹性，但要一致地管理每个服务提供商的细微差别变得越来越困难。

为了支持当今的分布式多语言体系结构，公共层可以缓解部署应用程序和提供各种服务器时的问题。通过将基础设施控制平面与特定的云提供商分离，统一管理控制台可以带来成本和性能的可见性，从而在云运营人员提交数据之前为他们提供知识。但是设计这样的结果将依赖于每个环境的插件和一组健壮的 API 来实现编程控制。

我最近会见了 Jake Warner， [Cycle.io](https://cycle.io/) ，探讨增加基础设施抽象如何解决上述问题。据 Warner 称，需要一个计算管理的标准层来实现对多云和定制内部环境的一致控制。下面，我们将定义这个概念，并考虑基础设施抽象可能给现代企业软件开发带来的好处。

## 基础设施管理面临的问题

我们喜欢认为云是无处不在的，每个人都有相似的计算风格。然而，这与事实相去甚远。Valtix 的一项研究发现，多云正在兴起，95%的企业将多云作为 2022 年的战略重点。然而，只有大约一半的受访者认为他们拥有执行云计算战略所需的适当工具和技能。

“多重云有很多价值，包括降低风险、确保更长的正常运行时间以及为用例选择最佳硬件的灵活性，”Warner 说。“但多云极其复杂。”使用多个云意味着为每个环境支持不断变化的运营流程。无论是 AWS、GCP、Azure、Equinix 还是 Vultr，运营商都需要深入了解遥测数据。随着软件越来越模块化并分布在多个计算区域，这变得很难跟踪。

此外，本地数据中心远未消亡——令人惊讶的是，一项 [Spiceworks 研究](https://community.spiceworks.com/blog/3103-data-snapshot-the-lifespan-of-computers-and-other-tech-in-the-workplace)发现，98%的企业仍在使用本地服务器。由于公司限制或为了满足[安全合规要求](https://accelerationeconomy.com/cybersecurity/understanding-the-5-most-important-cybersecurity-frameworks/)，传统服务器通常是首选。这也可能是一个“如果有用，就不要修复它”的文化案例困境在于，在您自己的基础架构上，您无法轻松获得常见的云功能，如自动扩展和负载平衡。

华纳描述的另一个问题是，如果你的目标是构建实质性的应用程序和服务，传统的平台即服务(PaaS)公司会存在固有的限制。“这些 PaaS 产品中有许多确实很容易上手，但通常情况下，开发人员会很快被迫对他们的方法做出妥协。这些妥协可能会产生长期的技术问题，尤其是在需要扩大规模的时候，”他说。“需要一台在目标地区具有特定硬件配置的服务器吗？祝你好运。对于大多数 PaaS 公司来说，他们的出口匝道就像他们的入口匝道一样定义。”

## 基础设施抽象化的趋势

我们已经看到市场上出现了管理[云计算](https://devops.com/what-it-takes-to-succeed-in-a-multi-cloud-environment/)运营负担的趋势。一个例子是基础设施抽象层(IAL)，由 Cycle.io 开源，华纳解释说它可以作为部署的标准化系统。通过该规范，基础设施提供者可以生成一个 API 端点来支持基础设施的供应，而不需要两个服务之间的深度集成。有了这个 endpoint live，应用程序开发平台或 orchestrator 就能够发送标准化的 JSON 有效负载来供应服务器、分配 IP、配置区域和许多其他请求。响应是另一个 JSON 有效负载，它确认所需的请求已经完成，并包含一个惟一的 ID。

通过对基础架构进行更多的编程控制，工程师可以与多个提供商的所有服务器的标准化列表进行交互，以便在一个统一的控制台中部署和处理这些信息。这一层也是帮助比较不同地区的成本和服务器配置的合适位置。这也是一个有利的位置，可以根据邻近程度进行筛选，以展示最近的可用服务器，从而优化交付。

## 统一多云部署的优势

华纳表示，将基础设施管理层与服务提供商分离可以为 DevOps 带来潜在的好处。首先，它使运营商能够将基础设施自动化扩展到他们的私有数据中心，帮助他们实现与在云中相同的可编程性。一定程度的标准化也可以消除多重云的许多不利因素——“开发者可以从一个提供商转移到另一个提供商，而不需要进行任何重大改变，”他说。

当然，它不想增加负担。Warner 说，这就是为什么需要一个基于 API 的解决方案来实现可编程性。通过采用 RESTful API 方法来管理混合基础设施，运营商可以根据随时间变化的细粒度环境特征(如延迟、费用或位置)创建定制流。“其中一个巧妙的事情是，它允许基础设施提供商不断进行调整和改进，而不必重新提交他们与底层平台的集成，”华纳说。

## 低运营成本的灵活性

今天的软件部署越来越广泛和多样 HashiCorp 最近的一份报告发现，76%的组织已经采用了云计算。[多云带来了许多优势](https://devops.com/from-cloud-zombies-to-multi-cloud-experts/)，但也增加了所需的运营任务数量。与此同时，只要经济上可行，组织就希望利用对内部数据中心的投资。如果没有一个与每个利基计算领域相分离的统一层，为如此多样的基础架构实现自动化开发运维可能会非常困难。

根据 Warner 的说法，公司需要一个低运营平台，并在适当的时候灵活地在自己的基础设施上抽象这种自动化，这可能会有很大的差异。例如，运营商可能正在处理数万台物联网设备。此外，正如我们之前所述，低运营成本方法可能有利于中小型公司，这些公司可能缺乏资源来支持复杂的基础设施，如 [Kubernetes](https://containerjournal.com/features/when-using-kubernetes-does-and-doesnt-make-sense/) 。

像 IAL 这样的东西会成为开放标准吗？华纳说，在撰写本文时，IAL 规范仅由 Cycle.io 及其少数基础设施合作伙伴实施，但没有理由不能将其推广到一个通用规范中。他甚至预见到基础设施抽象的社区市场或共享注册表，使平台能够支持数百个云提供商。

总之，对低运营成本的需求，加上云计算的兴起和本地数据中心的持续能力，催生了对分离式管理中心的需求。基础设施抽象可以实现 PaaS 的便利性，同时为运营商提供定制的基础设施选择。