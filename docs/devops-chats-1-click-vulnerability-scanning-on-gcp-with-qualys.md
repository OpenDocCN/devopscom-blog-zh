# DevOps 聊天:GCP 上的一键式漏洞扫描，使用 Qualys

> 原文：<https://devops.com/devops-chats-1-click-vulnerability-scanning-on-gcp-with-qualys/>

有时候，完成一件事的最佳方式是选择一条摩擦最小或变化最小的道路。

Qualys 客户现在有了将漏洞扫描引入谷歌云平台的途径。Qualys 最近的声明意味着一次点击配置更改就可以在 GCP 进行漏洞扫描，结果会出现在 Qualys 云中心和 GCP 安全指挥中心。

请加入我的 DevOps 聊天活动，与 Qualys 总裁兼首席产品官 Sumedh Thakar 一起探讨此次发布。我们讨论 Qualys 和 Google 的合作以及这对 DevOps 团队的好处。

[https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/727748506&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true](https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/727748506&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true)

## 副本

米奇·阿什利:大家好。我是 DevOps.com 的米奇·阿什利，您正在收听的是另一个 DevOps 聊天播客。今天，Qualys 的总裁兼首席产品官 Sumedh Thakar 加入了我的讨论。我们谈论的是 Qualys 和 Google 刚刚发布的一项重要公告，内容是关于 Google 固有的安全性。欢迎来到播客，苏梅德。

嘿，米奇。谢谢你邀请我。

阿什莉:很高兴你能来。好吧，让我们从你介绍自己开始，当然，作为总裁兼首席产品官，我们可以想象你在 Qualys 会做些什么，但请告诉我们一些你的工作。

Thakar: 是的，我不确定你能想象到，因为我在这里已经 16 年了，所以我做了很多。

阿什莉:好的。*【笑】*

**Thakar:** 现在，作为总裁兼首席产品官，我负责 Qualys 产品的产品战略和实施，以及我们多年来的发展方向，主要关注漏洞评估。今天，我有工程产品管理支持运营团队和销售团队，这提供了一个非常独特的视角，因为 Qualys 内部有工程和 DevOps 团队。此外，对我来说，组织的一部分帮助我真正很好地了解了当今对 DevOps 的需求以及我们在 Qualys 内部与 DevOps 团队一起经历的演变，并且作为一个大规模的 SaaS 平台，我认为这是我在为 DevOps 团队开发安全解决方案时真正想要关注的事情。

**Ashley:** 嗯，它确实给了你一个非常实际的视角，既 _____ 也包括在你自己的产品中使用 DevOps。太棒了。

Thakar: 正是。

阿什莉:这对你有好处。伟大的角色。好吧，让我们来看看这个公告。因此，我认为我们正在谈论的是谷歌固有的安全性——谷歌云。

**塔卡尔:**对。

阿什利:告诉我们一点这是什么。

**Thakar:** 是的，我们与谷歌团队有着非常好的合作关系，你知道，我认为随着数字化转型，将东西转移到云容器和 DevOps 已经真正吸引了我们，与我们过去所做的有所不同，我们过去总是在事后添加安全解决方案。因此，今天有了 DevOps 和 DevSecOps，就有机会以自动化的方式将安全性预先嵌入到基础架构中，这样您就可以确保不会遗漏—您知道，这始终是安全性的最大问题，哦，是的，我做到了所有这些，但后来我错过了一件事，因为我不知道它的存在。

因此，今天，Google Cloud 有了一个奇妙的解决方案，它真正允许 DevOps 团队在不断将代码推送到云中时，能够通过这种新的 Qualys 集成，自动评估虚拟机的安全性，直接透明地完成，这样最终用户就不必安装代理和控制台等等。搞定了；完全嵌入平台。

阿什利:优秀。太有趣了，我们很想更深入地探讨这个问题，因为你说的是不要在事后隐瞒事情。你知道，这是 DevOps 的整个左移思想。

塔卡尔:是的。

**Ashley:** 所以，我认为谷歌的 Qualys 云代理是你嵌入到软件平台中的东西，开发者测试你正在使用的生产环境。

塔卡尔:是的。

阿什利:是那种生命周期吗？

Thakar: 是的，没错。因此，今天的开发人员使用这种解决方案来首先确保他们——无论是 Jenkins 还是其他什么人——他们甚至不会将已经有漏洞的解决方案推向生产，对吗？这种事后逃避的不幸副作用是，当你启动一台新机器的时候，它在过去的两年里已经有太多的漏洞，你花了所有的时间试图修补它们。因此，DevOps 管道确实让我们有机会确保首先在您的构建过程中，您已经消除并修补了您的映像，这样您就不会使用已经易受攻击的映像，并且 _____ 客户绝对使用 Qualys 代理和扫描来真正实现这一点。

但是，一旦它被推出到产品中，您还需要进行监控，以确保某人不会去 S3 或谷歌存储单元下载其虚拟映像中某类软件的易受攻击版本，并创建新的漏洞，因此您也需要进行监控。因此，本机嵌入可确保一旦您完成了开发运维流程并清理了映像，当映像被推入云中的生产环境时，在 Google cloud 中，它已经透明地嵌入了监控功能，而无需额外的工作。

阿什利:太好了。我想对于开发人员来说，在开发测试环境中安装它并不困难，对吗？

Thakar: 是的，这就是它的美妙之处，一切都是自动化的，对吗？所以，一旦你写了脚本，这个过程就不需要你每次都运行命令并做所有的事情。一旦你把它推进到 CD 进程中，那么它就真的是透明的，因为在这种情况下，开发人员甚至不需要运行任何命令来让代理程序启动。这是一个选项，他们在谷歌安全中心检查，然后每一个图像旋转起来将有那种一键集成，并自动嵌入其中。

阿什利:太好了。我想你们也会在 Qualys 环境和 Google 中整合安全控制台吧？

是的，绝对的。这是一种独特的能力，因为组织有多个业务部门。不同的团队在谷歌有不同的账户，当然，他们只查看自己的应用程序或自己的账户。此次发布的第二部分实际上也是这样一个事实，即检测到的这些漏洞和问题会从 Google 推回到安全中心，这样帐户的个人所有者就可以在他们的控制台中看到他们需要修复的所有问题的所有漏洞，他们可以创建行动手册，并使用可用的自动化来快速修复这些问题，以便他们可以 不需要知道去另一个工具，去另一个控制台，尝试做所有的事情。

对于将这些应用程序推进到云中的 IT 人员和开发人员来说，他们只是直接在 Google 中看到自己的个人视图，但当然这些信息也可以在 Qualys 控制台中获得，这是对整体风险状况的更广泛的可见性，因为它还包括从客户也拥有的其他类型的基础架构(如笔记本电脑、手持设备和容器等)中发现的安全和漏洞。因此，安全团队将利用 Qualys 平台，因为这样他们就能全面了解整个外部媒介。谷歌中的个人团队将在谷歌控制台中获得他们的视图，以便他们可以真正专注于修复他们需要修复的东西。

阿什利:这真的让 SecOps 的想法变得可行，对吗？

**塔卡尔:**对。

阿什利:更好的权利在前面。

Thakar: 正是。

**Ashley:** 现在，我想安全工程师——你知道，通常会有某种企业安全团队参与运营，也可能没有，但他们也会非常高兴在开发周期中尽早实施，并且已经预先集成到 Qualys 平台、Qualys monitoring 以及 Google 的云监控中。

**塔卡尔:**对。这确实是一个很好的观点，因为这对安全团队来说是一个很大的挑战，当你事后做这件事时，确保整个基础设施被安全解决方案覆盖是一个挑战，因为他们甚至不知道有一个新的实例是由开发团队一夜之间推到 Google 帐户中的，安全部门可能不知道。因此，通过这种集成，当然可以确保无论推送什么内容，Qualys 都会始终监控每一张传出的图像。现在，安全团队对他们很有利，因为他们不必像到目前为止那样花费大量时间来尝试实施安全解决方案。

因此，许多安全团队没有关注安全解决方案的发现，而是花时间尝试实际安装该解决方案，并确保它正常运行、连接等。因此，让 DevOps 团队实际完成所有这些工作是非常棒的，因为现在安全团队可以专注于重要的事情，也就是您的策略。因此，他们可能会说，“嗯，如果你有一个 _____，这是一个失败，”他们不必担心这个东西是如何安装的，或者它是什么。然后，Qualys 是第三方，确保安全团队定义的策略得到实际测试，并向双方给出通过或失败的信息，然后他们可以继续做他们需要做的事情，修复和报告这些问题。

Ashley: 现在，您在公告中描述了一键整合。一键是什么意思？你能为我们想象一下，它是如何工作的吗？

塔卡:是的。我们之所以说一键操作，是因为如果您曾经部署过安全解决方案，您知道，尝试获得多个命令是绝对痛苦的

阿什利:或者一个月或者一个季度。*【笑】*

Thakar: 是的，这是一千次点击和多个控制台，不管是什么。所以，一键操作实际上是因为当你去查看集成时，一旦你进入谷歌安全中心并定义你连接到的 Qualys 帐户，然后在这之后，它实际上只是选中一个框，表明在每个单个映像中包括 Qualys 代理，然后你不必做任何事情，就像你甚至不必在每次启动新映像时运行单独的命令，因为这已经通过谷歌提供的自动化以非常简单的方式处理了。

阿什利:哇。所以这确实是一个复选框式的过程。

**塔卡尔:**对。

**阿什利:**刚刚收录。

Thakar: 正是。

**Ashley:** 就你在谷歌云环境中监控、扫描和报告漏洞方面所做的工作而言，你是否已经做了其他事情，或者是此次发布的一部分？

塔卡:是的。我的意思是，我们与他们有着非常紧密的合作关系。当然，我们也在市场中列出，通过这种集成，它真正提供了一种安全参考体系结构， Google 现在可以与 Qualys 的客户一起，通过定义您希望如何保护您放入 Google 中的工作负载的架构，使其变得非常简单——不仅定义应该使用的正确解决方案，还可以与 Qualys 等供应商合作，通过单击鼠标直接实现这些解决方案，这样您还可以消除集成的阻力，真正简化整个流程。 因此，这将使现有的 qualy 客户以及正在经历数字化转型的新客户，他们的本地基础设施上可能已经有了 qualy；现在它成功了——它为他们真正迁移到 Google cloud 消除了另一个障碍，因为他们可以获得与他们习惯的相同类型的报告和相同类型的分析，因为他们的审计员非常舒适，习惯了 Qualys 的报告，所以现在他们可以获得相同的报告，而不必通过整个流程来重新认证另一个解决方案，所以有很多这样的好处，我认为这种嵌入真的很有帮助。

阿什莉:是的。这无疑降低了准入门槛

**塔卡尔:**对，对。

**Ashley:**–如果已经集成到 Qualys 和谷歌平台，则集成到谷歌云。让我们回到讨论让 Qualys 代理更早进入他们的环境对 DevOps 团队有什么好处？他们在开发周期和测试周期团队中学到了什么，他们通常会跳过这些，直到很久以后他们准备投入生产或投入生产时才发现？

塔卡:是的。因为平台是用 API 构建的，最大的优势是自动化，这就是 DevOps 的意义所在，对吗？我该怎么写剧本？你知道，你把基础设施说成是一种代码。我把安全当成一种代码，对吗？你能不能编码说–你知道，就像你做你的基础设施一样，你能不能说脆弱性是否比失败更大，或者，你知道，你能不能把它写成一个东西？

Qualys 平台本身就是一个基于云的平台，AP 可用，这使得 DevOps 人员可以非常轻松地直接创建这些脚本，他们基本上可以说，“在您的管道中，我得到了一个新的映像，打开该映像，Qualys 代理已经嵌入，它进行分析，结果显示在控制台中，现在您可以真正用人工编写代码，而不必进去验证和查看扫描或其他任何东西，对吗？”Qualys 平台和代理的架构方式是，代理是一个非常轻量级的代理，它不仅仅专注于进行漏洞评估。

它进行库存评估。它可以进行漏洞和配置评估。因此，单个代理可以用来查看设备安全性的更大画面，而不仅仅是软件没有更新，对吗？您可以做任何事情，包括是否将未经授权的软件放入此版本，是否将生命周期结束的软件放入此版本，是否存在不正确的配置，即使您可能有补丁或所有漏洞，等等。有了这种集成，一旦您完成了在虚拟机上安装代理的任务，您现在就可以突然用 API 做更多的事情，以获得更广泛的视图，并确保整体工作负载得到严格控制，因为现在您真正确保了所有配置都符合黄金映像，所有 CIS 基准都得到遵守，所有软件都得到更新，未经授权的软件已经从整个过程中消除。DevOps 是关于我如何消除手动工作，以及我如何使用自动化并减少我必须做的工作量，这正是该架构使我们能够做到的。

阿什利:我认为这是一个非常好的观点；随着自动化程度的提高，速度的提高，人工干预或正在执行的任务的减少。很容易有东西溜进去。

塔卡:是的。

Ashley: 我们以前没有使用过的新的开源代码或现在的东西有一个漏洞，而这个漏洞在两个小时前没有，你马上就会发现。

**Thakar:** 你知道，我们已经看到的事情之一是 DevOps 推动快速进入生产，这有点像是最初的事情，“哦，我想绕过我的运营团队，我想绕过我的安全团队，”这的另一面是，现在你的代码直接进入生产，出现了问题，这是你作为 DevOps 的责任，就像你不能责怪安全人员，因为你知道，他们不再真正参与进来了。这也激励了开发人员提前确保他们从安全角度做了所有正确的事情，这样就不会有他们的微服务被泄露，对吗？因为这样你基本上可以说，“我已经编码了所有东西，预先做了我这边的所有事情，所以我使用自动化推出到生产中的东西不是已经易受攻击的东西。”

阿什利:优秀。那么，让我们来讨论一下，随着这一功能的发布，您如何访问它呢？它已经是 Google cloud 内部的原生了吗？你只需连接到它并说，“在这里，你知道，我已经是 Qualys 的客户，”或者你必须去 Qualys 注册什么，或者你如何获得这个？

塔卡:是的。因此，我们——作为 Qualys，我们直接提供——如果你去 Qualys.com，如果你不是 Qualys 的客户，你可以注册免费试用，你知道，我们是 SaaS 的服务，所以你可以立即获得访问该平台所需的证书，但它完全嵌入在谷歌云控制台中。 因此，当您到达那里并有配置设置时，您现在可以选择 Qualys 作为您想要添加的漏洞管理功能，您知道，这是一种一次性配置，您可以提供您的 Qualys 代理信息，从这一点开始，一旦您完成该操作，您知道，只需单击一次复选框，之后嵌入将自动发生，Google cloud 将为您完成该操作。 因此，在几分钟内，您就可以启动并运行这一集成，并在几个小时内开始看到结果。

阿什利:优秀。这是否需要增加成本，或者已经包含在内，只是 Qualys 产品中的一个附加功能？

塔卡:是的。因此，客户已经拥有的漏洞管理许可是有成本的。他们基本上可以直接获得或使用该许可证，或者他们可以购买额外的许可证，在 Qualys 中运行额外的基础架构，但他们可以使用的许可证与他们从 Qualys 获得的许可证相同，他们也可以在 Google Cloud 中使用。

阿什莉:是的。他们只需要管理 Google can 环境的许可证。

Thakar: 正是。

阿什莉:好的。非常好。很好。好消息。在我们结束之前还有什么我们应该知道的吗？

**Thakar:** 不，我真的——你知道，作为产品的负责人，我总是很想得到反馈，所以我鼓励尽可能多的听众去注册，你知道，给我们发送反馈，告诉我们他们觉得它如何有助于简化，如果我们有机会通过更好的集成来进一步简化 DevOps 流程，我们会很高兴听到这些。

阿什利:太好了。好吧，让我们知道进展如何，我们鼓励我们的听众，去看看 Qualys。Qualys.com。特别是如果你是一个现有客户，开始使用它听起来非常容易，我知道——我是 Qualys 的客户，以前也是 Qualys 的合作伙伴，非常容易安装和运行，所以我鼓励大家去看看。谢谢你加入我们，苏梅德。祝贺你的宣布。

非常感谢你。谢谢你米奇。很高兴和你谈话。

阿什莉:很高兴和你聊天。我要感谢我的客人，Qualys 的总裁兼首席产品办公室的 Sumedh Thakar，当然，也要感谢今天加入我们的听众。我是米奇·阿什利和 DevOps.com。祝你愉快，在外面要小心。

— [米切尔·阿什利](https://devops.com/author/mitchellashley/)