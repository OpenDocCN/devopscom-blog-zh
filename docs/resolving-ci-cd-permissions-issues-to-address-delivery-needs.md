# 解决 CI/CD 权限问题以满足交付需求

> 原文：<https://devops.com/resolving-ci-cd-permissions-issues-to-address-delivery-needs/>

安全问题 和 DevOps 流程问题会拖延 CI/CD 操作。DevOps 团队熟悉困扰他们的管道的挫折，无论是监管还是基于流程的。操作障碍在开发流程中太常见了，导致团队成员和更广泛的组织之间的沟通不畅。DevOps 团队遇到的主要操作问题之一是许可问题。许可问题是[畅通 CI/CD 渠道](https://webinars.devops.com/challenges-to-securing-ci/cd-pipelines)的一个看似很小却很重要的障碍。未能解决这些问题，结果是发展和组织目标之间缺乏凝聚力。

以下是如何简化这些流程，在更广泛的 CI/CD 框架内促进安全集成，并保持稳健的安全态势。

### 检查管道工具的权限和访问

DevOps 生命周期通常包含多个工具，它们都有不同的访问需求和权限。因此，这种情况是一个安全噩梦。[杰瑞米·赫斯](https://www.linkedin.com/in/jeremyphess?originalSubdomain=il)，秘密管理平台 的开发负责人，称之为“秘密蔓延”

“激增的 和秘密的分散化的结合造成了一种操作负担，如果不是噩梦的话，” 他说 。“对于同时在云原生环境 ent 和传统 IT 基础架构中运营的组织来说，由于使用不同的工具 和 云原生解决方案管理自己的秘密，因此会产生重复问题。”

这些工具还存在将用户凭证和权限暴露给恶意参与者的风险 。例如，像 Jenkins 这样的配置工具使用插件来确定访问和工件部署。因为这些工具与其他管道工具进行通信，所以凭据详细信息通常会出现在配置详细信息中。

开发者密码在 前端不可见，但可以从系统后端访问。任何具有“配置”权限的用户都可以请求任何凭据，然后将它们注入代理。结果是 AWS 密钥、Git 凭证和/或密码面临风险。

为了缓解这个问题，第一步包括从 CI/CD 工具文件中删除硬编码的 机密。在多个工具配置文件之间分发机密还降低了攻击的可能性，同时简化了开发人员和工程师的访问。密码管理器也是一个不错的选择，但是在实施解决方案之前要验证它们的安全性。

### 练习最低权限访问

访问和权限问题经常在开发运维团队中造成许多挫折，因为他们被迫向大多数用户分配一揽子访问权限，而不管成员的角色或工作职能。这种原地 的状态在鼓励快速发展的同时，也造就了 大量的安全问题 。

很难在安全性和 CI/CD 需求之间取得平衡。这就是最小特权原则的由来。团队成员在需要知道的基础上获得对秘密的访问。请注意，这一原则适用于从应用程序到系统和 连接设备的一切。

虽然大多数团队将这一原则付诸实践，但他们犯了一个错误，那就是保持流程完整。访问审计的缺乏造成了开发人员的挫败感，而不是访问级别。当快速审查 mi tigate 问题的访问权限时，CISOs 应定期让 DevOps 团队参与进来。

例如，在每个交付团队中嵌入一个安全角色将会快速降低与访问相关的风险。安全团队成员将洞察基于风险的访问需求，并能够快速批准或拒绝请求。

创建访问管理存储库还将消除与基于角色的访问相关的任何混淆。此外，在存储库中记录基于时间和基于任务的访问权限。结果是，在项目开始之前，每个 DevOps 团队成员都了解他们的访问路径 。这让他们有时间提供反馈，并要求一次性接触敏感机密。

在分配基于角色的访问权限时，检查系统中的分段规则。通常，这些规则会根据交付 y 的时间表而改变。让所有利益相关者参与到这些讨论中是一种好的做法，可以防止今后的挫折。

在验证用户对机密的访问时，实施 OTP 和其他认证因素也是一个好主意。

### 审查 OSS 项目

开放的 源代码软件(OSS)项目对行业发展至关重要，但如果访问管理不当，可能会带来安全风险。CI 平台 CircleCI 的开发者倡导者 Zan Markan 恰如其分地概括了这个问题。

“通常，发起并拥有一个受欢迎的 OSS 项目 c 的公司会继续雇佣核心贡献者，” 他说 。“不属于该公司的其他定期贡献者和维护者可能会加入他们的行列。此外，还有其他人——任何偶尔可能贡献一个补丁或功能的人。”

随着用户访问的增加，安全问题也呈指数级增长。强制执行严格的基于用户的访问是不现实的，对 OSS 项目也是有害的。然而，CISOs 或其他关注安全的 经理必须审查在构建拉取请求的过程中是否传递了敏感机密。监控权限——以及谁可以提出请求和审查请求的角色——将确保良好的安全性。

建立机器身份也很关键，考虑到 程度的非人类进入管道面。认证可以基于验证客户端运行时容器属性是否匹配有效容器的 特征。一旦通过身份验证，基于角色的访问就可以接管，将访问权限限制为 secretts。

使用后销毁容器和虚拟机也是一个不错的策略。

### 简化开发运维是安全工作的重中之重

DevOps 对每个组织的成功都至关重要。访问和许可相关的问题是经常发生的，但是很容易避免。审查访问权限并在交付和运营需求之间建立平衡对于保持竞争优势至关重要。