# 持续交付和部署成功的 7 个策略

> 原文:[https://devo PS . com/7-策略-连续-交付-部署-成功/](https://devops.com/7-strategies-continuous-delivery-deployment-success/)

云原生应用的关键优势之一是能够快速将特定微服务的更新推入生产环境，从而使开发人员能够快速响应不断变化的业务需求，而无需升级整个应用。成功做到这一点需要的不仅仅是利用持续交付平台。从开发团队的文化到底层平台所需的测试类型，一切都是至关重要的。

基于到目前为止在几个项目中应用 DevOps 原则，我发现开发团队可以在启动持续交付和部署计划之前从遵循这七个关键策略中获益。这样做，你会增加成功的机会。

### 文化

在当今的企业中，仅仅拥有合适的工具和技术是不够的。成功地采用一个敏捷的、持续的交付和部署过程，将需要大多数开发车间内的文化转变。开发人员不再只对他们的代码负责；他们必须完全掌控开发、测试、自动化工具，最重要的是，在管道中建立运营能力，以便更容易进入生产。让开发人员和运营团队参与进来可能需要一些时间和培训，但这种努力是至关重要的，没有这一点，您的项目将不会成功。

### 自动化平台

仔细考虑您将用于持续交付管道的工具，因为市场上当前的工具有不同的最佳用例。例如，如果您需要进行 A/B 测试，您将需要一个能够根据测试结果分阶段进行首次展示的工具。如果您的应用程序需要在短时间内进行多次更新，您将需要一个具有高级发布管理功能的工具，包括良好的管道可视化和对云环境管理的支持。

### 应用架构

设计您的应用程序，使它们是云原生的。这通常与微服务和容器相关联，并使您能够独立地频繁更新每个服务。部署管道的典型阶段是构建、单元测试、集成测试(包括功能测试)、API 测试、性能和试运行，最后是生产。然而，借助微服务架构和高级部署技术，越来越多的客户正在绕过生产中的某些阶段和测试，尽管生产环境非常封闭。

每个阶段还可以包括在云中创建动态环境，使阶段本身能够作为管道的一部分进行供应、执行和退役。如果你选择这样做，寻找一个有许多内置云插件的工具，这样在 AWS、Google Cloud 和其他云中创建和销毁环境就可以很容易地完成。

还应该指定每个微服务的应用和基础架构堆栈。这可能包括应用程序 Jar 文件、Docker 文件或诸如 AMI 之类的服务器映像；任何相关服务，如 AWS Lambda 函数；以及所有配置和策略。这些规范都应该在“基础设施即代码”清单中进行管理，以确保版本控制、一致性、变更审计和测试。它还确保构建资源(如烘焙映像、jar 和 AWS Lambda 函数)一致地传递到管道的每个阶段，从测试到生产，消除了强加不一致的环境和配置的风险。AWS CloudFormation 模板是基础设施代码清单的一个例子。

### 安全性

在我们生活的这个威胁越来越多的世界里，安全是必要的；然而，在推向生产之前等待测试安全性的常见方法是错误的。安全性应内置于管道本身，并作为 DevOps CI/CD 流程的一部分实现自动化。在不减慢过程的情况下验证构造块是非常重要的。例如，领先的公司正在流水线本身的阶段内自动进行代码扫描、模板检查和其他安全测试。

### 见识

可视化和跟踪管道、环境变量、测试结果、版本、问题和其他工件允许开发人员和操作团队在整个项目生命周期中共享一个公共视图。这提高了协作和可追溯性。

### 交付策略

自动化测试对于管道设计和交付至关重要。如果没有全面、高质量、完全自动化的部署管道测试，生产将会失败。代码覆盖率不再是代码质量的良好表现。在云原生世界中，测试用例及测试套件需要映射到期望的功能和业务结果，以确保测试团队开绿灯，然后一切进入生产。在时间限制阻止全面方法的情况下，首先自动化关键的能力和流程，然后评估自动化额外测试的成本效益。

确保用于测试和自动化目的的数据和环境尽可能地反映生产数据和环境。在将软件投入生产之前，大多数管道都有一个“预生产”阶段。在将软件推向生产之前，您可以考虑跨多个 AWS 区域构建多个阶段。

如果您的目标是非常频繁地更新生产中的软件，并且没有任何停机时间，请确保您的管道工具可以轻松管理多区域部署，例如跨 AWS 和其他公共基础架构即服务(IaaS)云的服务器组和集群的蓝/绿和金丝雀部署。

### 监测和反馈

最后，从生命周期的所有阶段(开发、QA 和生产)获得关于用户体验、响应时间、关键业务服务的性能以及技术指标的持续反馈是至关重要的。只有通过这种持续的反馈，您才能确保在您以更高的频率发布版本时，不会出现降级。这也需要构建到管道的每个阶段，以了解性能并在流程的早期进行改进，这样成本会低得多。

毫无疑问，成功的持续开发和部署过程可以为用户带来显著的好处，这些用户不断地需要新的和增强的功能，并且不能等待传统开发周期所需的几周或几个月。通过仔细考虑这七个策略，您的项目将受益于减少的应用程序错误、更少的停机时间和更满意的用户。

## 关于作者/大卫·克莱默

![david-cramer](../Images/8a11d8d98ba6e5abf31e5c451c788e28.png) David Cramer 是 BMC 云计算/DCA 业务部门的产品管理副总裁。在加入 BMC 之前，David 是 CA Technologies 的产品管理主管。在 CA 任职期间，David 负责应用交付、云管理、虚拟化和基础设施自动化解决方案。在加入 CA 之前，David 曾在 AlterPoint、Motive、NetSolve 和 Nortel Networks 担任高管职务。David 的工作重点是持续交付、云管理和网络规模的 IT。David 拥有南卫理公会大学的 MBA 学位和佐治亚州立大学的金融学士学位。在 [LinkedIn](https://www.linkedin.com/in/david-cramer-943361) 和 [Twitter](https://twitter.com/TheCramer) 上与他联系。