# 持续:软件开发中的移情

> 原文:[https://devo PS . com/continuous-empathy-软件-开发-持续-更新/](https://devops.com/continuous-empathy-software-development-continuous-updating/)

感谢收听由保罗·比格(Paul Biggar)和伊迪丝·哈博(Edith Harbaugh)主持的关于持续交付和软件开发的节目，保罗·比格是 CircleCI 的创始人，伊迪丝·哈博是 LaunchDarkly 的首席执行官。在[的这一部分](https://twitter.com/continuouscast)中，Edith Harbaugh 和 Paul Biggar 与 [Sam Stokes](https://twitter.com/samstokes) 谈论软件开发中的同理心，迷你服务如何成为新的微服务，以及在不断更新的世界中不断更新软件。山姆目前是一名自由软件顾问，之前是 [Rapportive](https://rapportive.com/) 的联合创始人。

这个播客是由 heavy bit(T1)带给你的，这是一个帮助以开发者为中心的公司将他们的产品推向市场的项目。

[soundcloud url=”https://api.soundcloud.com/tracks/237727552?secret_token=s-k6OKe” params=”auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&visual=flase” width=”100%” height=’166′ iframe=”true” /]

保罗:好的，山姆，那么你最喜欢连续交货的哪一点呢？

Sam: 我喜欢考虑缩短反馈循环的问题。创业公司做的很多事情基本上可以被看作是做一些事情，然后等待一些反馈，然后决定是做更多的事情还是做不同的事情。

> 连续交付是指，人们谈论减少批量大小，也谈论更快地运送货物，显然有某种自动化。持续交付将有助于您实现这两个目标。

**Paul:** 这是一个小型创业公司走向产品市场适应的过程吗？这就是你想的那种感觉吗？

Sam: 我认为这适用于不同规模的团队。所以，在一个小的创业公司里，你肯定需要快速迭代，你有所有这些产品创意。但我认为，即使你是一家大公司中的一个小团队，就像我最近工作的一样，仍然有很多相同的压力，产品经理想要尝试新的想法，你有客户一直在发送反馈——有些你想听，有些你想听。

从某些方面来说，这有点像创业。至少，理想情况下是这样的。你可能遇到的许多问题基本上都是关于不能足够快地结束这些循环。

伊迪丝:山姆你对循环很了解，所以现在可能是介绍你自己的好时机。

当然，我的名字是山姆·斯托克斯。直到最近，我还在 LinkedIn 担任软件工程师。现在我大概是一名自由软件顾问。

保罗:我觉得这里缺少了一点历史。

山姆:好的。回到过去一点点。所以我是一家名为 Rapportive 的初创公司的联合创始人。这是 Gmail 的一个插件，当有人给你发邮件时，它会在邮件的右边显示这个人的社交资料。

这样你就可以深入了解你在和谁说话，并在你与人的交流中加入更多的人性——这就是我们的看法。

保罗:这仍然是我唯一使用的 Gmail 插件。

**Edith:** 我也用它，正是因为这个原因，因为我做了很多客户开发工作，它对移情很有帮助。看到这个—

保罗:对，对，耶是一个真实的人。

伊迪丝:你知道，看到他们的脸，你会感到一种联系。

保罗:这种与客户交流的方式很有趣。我们使用的工具之一是对讲机。当我开始使用对讲机时，这种感觉和我第一次使用 Rapportive 时一样，就好像我觉得在电话的另一端有一个人，我觉得我知道那个人是谁，这改变了你与人交流的方式。

Sam: 听到和看到其他例子真的很有激励作用。我们真的觉得电子邮件和一般的商业交流可能有点冷漠和公式化。

是啊，带着人性的元素，甚至只是看到一张脸。我没有使用过对讲机，但我猜他们有一些类似的想法。

类似的，当你给某人发信息或回复时，这个人的脸会出现。

**Sam:** 是的，我们在中有一种插件 API，这是我们产品的一种私人测试版，也是人们使用它的原因之一，所以这可以让你插入侧边栏，人们可以将其插入他们的客户数据库，这样他们就可以看到类似这样的东西，他们会收到客户的电子邮件，显示他们成为客户多久了，他们在商店花了多少钱—

保罗:对，对。

萨姆:他们运行的是什么版本的应用程序，诸如此类。

伊迪丝:你最初的想法是去做那种感同身受的事，还是只是你重复做的？

Sam: 我们从移情开始。关于从所有这些不同的来源获取所有信息，有很多想法，你知道公共来源，像谷歌这样真正的公共来源，准公共来源，像脸书的个人资料，如果你是他们在脸书的朋友，然后私人来源，像你公司数据库中的东西。

所有你可以搜索到的东西，如果你愿意去搜索的话，但不一定会在你和那个人谈话的时候出现。是的，这是非常重要的，当你和这个人交谈时，你应该知道什么，以便让他们感觉他们在和一个真实的人和一个有同情心的人互动。

**Paul:** 我记得当你推出 Rapportive 时，它就像，或者对我来说，它就像是一炮而红，也许这只是多年尝试后一夜之间的成功。我有一个 doco，它的软件交付过程是什么样的？

山姆:嗯，这是个很好的问题。我想实际上有两个部分。那么它是如何到达那里的，我们的过程是什么让我们幸存下来的呢？所以我想我们是如何到达那里的，在这个过程中有一定的运气，因为可能总是会有。我们建造了我们的原型，这是一个非常小的原型。

你知道，它的功能就像这个可怕的演示网站。有一个网站的唯一原因是我们当时正试图筹集一轮种子资金，我们正在向 OIC 申请。Y Combinator 要求你有一个公开的演示网站。他们不喜欢它有密码保护。所以我们把这个东西放在你可以安装的地方，我们有大概 20 个用户。我们的一个朋友决定给他的一个博客朋友发电子邮件，我想是读写网，然后说，你知道，嘿，你应该看看这个。

他的朋友查了一下，结果发现真正喜欢我们制作的产品的人口统计数据之一是记者，因为他们收到很多来自他们不认识的人的电子邮件，他们想知道一些额外的信息。我想这是我们的一个收获，如果你的创业对记者真的有用，这是获得早期媒体的一个好方法。

Edith: 这是 TripIt 的成功之处，因为记者经常出差。所以 TripIt 得到了所有这些免费的媒体，基本上是因为记者们使用它，喜欢它，并在博客上谈论它。不幸的是，记者们并不经常连续报道。

山姆:那我们如何生存呢？因为在那 24 小时内，我们的用户从 20 人增加到了 20，000 人。

保罗:哇。

Sam: 所以我想一部分原因是我们的 CEO 做出了最初的平台选择。他的名字叫 Rahul Vohra，他有计算机科学学位，他是一个了不起的技术专家，但他的重点通常不是写软件。他一直在写原型，他说，'我需要最快的东西来进入这个市场，所以我会把它放在 Heroku 上。'

这被证明是一个挽救生命的决定，因为当 1000 倍的流量高峰到来时，我们只是增加了一些 dynos。这就是我们没有被烧毁的原因。之后我们做了什么？我想就软件过程而言，作为一家公司，我们还很年轻，所以看了所有的推文后，我们差不多都被黑掉了。但是当时有很多，你可以称之为客户开发多于软件开发。因此，我们很快决定，我们将尝试回复每一条推文和每一封电子邮件等，努力实现良好客户体验的理念。

> 我认为这有助于放大媒体报道的病毒效应，因为人们在转发我们所说的事情，并对我们产生了普遍的好感。

所以很多推文是这样的，“哦，我希望我这样做了，”或者“我希望我这样做了，”或者“我希望你能看到那里的推特资料。”所以这有点像客户支持驱动的开发。这显然没有规模，但它可以是一个很好的方式来建立一些早期的善意。

我认为我们的许多用户对使用我们很有热情，因为他们觉得他们得到了个性化的关注。

**Paul:** 那么，当您缩放 dynos 时，它是否正常工作？

Sam: 在我们达到获取所有数据的 API 的速率限制之前，它一直运行得很好。

保罗:LinkedIn API？

萨姆:当时我们使用一种叫做 RapLeaf 的服务。

保罗:哦，是的，是的，我记得他们。

Sam: 这不是他们的主要产品，但他们提供了一个 API，这个 API 基本上就是 Rapportive 所做的事情，即获取一个电子邮件地址，并生成关于该电子邮件地址的社交资料。在那个时候，这完全是围绕着 RapLeaf 的 UI。我们最终建立了我们自己的版本。

所以我们一直在一种演示的基础上使用他们的 API。因为同样是 20 个用户。是的，我们必须立即了解像请求队列这样的事情，这样我们的应用程序就不会等待他们的 API，然后疯狂地尝试增加我们的速率限制，同时找出绕过速率限制的最佳方法，而不会扰乱商业开发交易。是的，当时我们真的没有什么连续的交付流程。

但是我想没有多少人在谈论它——那是 2010 年。我想第一篇博文是来自 Iron View 等网站，但我认为这并不是因为，你知道，没有完整的创业公司支持它。我们拥有的是 Heroku 部署模型，它基本上就像在编写代码的五秒钟内，您就可以将其部署到生产环境中。

如果你仔细看，这有点像连续交付，因为你在说，你部署的所有部分都是自动化的。当时我们真的没有很多测试，所以我们的测试是自动化的，因为没有任何测试。我们的部署是绝对的，你做它得到推动，你不需要像移动任何服务器或任何类似的东西。

保罗:无论如何，围绕 Gmail 插件的测试模式或持续交付模式可能会是一个相当困难的过程。

Sam: 你知道，当 Gmail 改变用户界面时会发生什么，我们从来没有一个好的答案。令人惊讶的是，这种情况并不经常发生。我们认为它每周都会崩溃，我们需要各种金丝雀账户和端到端测试来监控这类事情。最后，这种情况很少发生，我们很快注意到，我们通常可以当场修复它。所以即使我们在测试和诸如此类的事情上做得更好。

**Paul:** 我们遇到了一个问题，我想是 GitHub 的解决方案。所以 GitHub 在两年前，两年半前，当他们还在 Rackspace 上的时候，曾经是超级古怪的。每当 GitHub 出现问题时，我们都会立即发现。我们所有的发展都会开始失败，所以在他们知道有问题之前，我们就知道有问题了。

我们经常会在 Twitter 上宣布，哦，我们认为 GitHub 有一点问题，两分钟后他们的状态会发推给我们，然后我们会转发他们的推文。

伊迪丝:所以他们利用你进行免费测试。

保罗:嗯，至少我们的顾客是这样。

伊迪丝:不，我的意思是你作为他们的测试者，告诉他们——

保罗:嗯，我的意思是，你知道，我们的自动化程度很高，但我们在一开始并没有自动修复。你知道，每两三个月就会发生一次，他们会发誓这是最后一次——

伊迪丝:总是最后一次。

**Paul:** 最后，这种情况发生了六、八次，到那时，我们已经建立了一个允许，你知道，某些修复的东西，但它不会是你所期望的完全自动化的过程，如果它一直发生的话，因为它似乎总是会是最后一次。

山姆:它可能总是因为稍微不同的原因或以稍微不同的方式发生。实际上，这是一个对我来说很有趣的问题，关于持续交付这个主题。人们总是说，每次提交都要运行测试，每次提交都要部署。

但这实际上只是你在软件生命周期中要处理的事件中的一种，对吧，当某些东西实际上正在运行的时候。我的意思是，当然你在改变代码，但你周围的世界也在改变。我觉得你最终总是两者都需要一点——你需要一些当你改变它时会触发的东西，但你也需要对你所依赖的一切有所关注。当然，即使弄清楚所有这些东西是什么也会很有趣。

保罗:

> 不久前，我在 Heavybit 博客上写了一篇关于这个的博文，是关于第三方 API 的，你知道，你如何测试第三方 API。我得出的结论是，如果你把测试作为你的测试套件的一部分来运行，那么如果有什么东西坏了，你的测试套件也会坏，但也有一些东西会在生产中随机地坏了。

当然，您不能部署，因为您的测试套件已经损坏。所以你在两个世界里都是最糟糕的。所以我考虑的是，你需要一些东西，你知道，只是永久监测。就像你所做的任何 API 的事情一样，不断地点击你的个人账户或者你的测试账户，然后在你的测试套件中把它剔除。

这样，您就可以得到两个世界最好的东西，您的测试套件不会崩溃，并且当第三方服务在生产中出现故障时，您可以得到一个实际的监控事件。

Sam: 实际上，我可以把这和 LinkedIn 的一次经历联系起来。LinkedIn 有一个模型，其中有一个登台环境和一个生产环境。暂存环境是—我不知道技术上是否称之为暂存环境，因为它不完全像生产环境，但他们实际上称之为早期集成。因为这是团队与其他团队融合的环境。

因此，这个想法是，你尽可能快地将你的东西部署到 EI，早期集成中，这样，如果任何其他团队依赖于你，或者反之亦然，你可以在事情发生之前找到它。但是，在 EI 中，你实际上得到的是这个不断变化的充满依赖关系的环境，你确实有这个问题，不同的团队使用不同的解决方案，让我们编写一些集成测试，这些测试实际上触及了依赖关系，然后我们将在我们的测试套件中运行它们，当我们部署到 EI 时，或者在构建步骤中—

保罗:我不知道你描述的这是好事还是坏事。

伊迪丝:是的。

Sam: 我想还没有一个明确的结论，但我的结论是，它不工作的原因和你说的一样。

> 您需要知道，如果您的测试套件失败了，那是因为您做了什么。然后你需要一些其他的东西，这些东西会因为别人做的事情而失败。

但是如果你不确定是哪种情况，那么两个系统的信号都会丢失。

一定要听完[全集](http://blog.heavybit.com/blog/to-be-continuous-9)。当你在那里的时候，去看看 Heavybit 的图书馆，那里有其他开发公司创始人和行业领袖的精彩教育讲座。