# DevOps 聊天:通过 Portshift 实现应用程序安全性的新方法

> 原文：<https://devops.com/devops-chat-a-new-take-on-application-security-with-portshift/>

Portshift 从代码到运行时带来了一种新的基于身份的应用程序安全模型。无论是云还是本地，Portshift 都能发挥作用。在本次 DevOps 聊天中，我们与首席执行官 Ran Ilany 和业务运营副总裁 Eran Grabiner 讨论了 Portshift 解决方案的独特之处，以及为什么您应该考虑将它用于您自己的应用安全，尤其是您的 DevOps 团队。

像往常一样，下面是流媒体音频，然后是我们的谈话记录。

[https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/536242257&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true](https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/536242257&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true)

## 副本

艾伦·希梅尔:嘿，大家好，我是艾伦·希梅尔，DevOps.com，安全大道，您正在收听的是另一个 DevOps 聊天。在今天的 DevOps 聊天中，我们实际上有一家新公司要向我们的观众介绍，这家公司就是 Portshift。Portshift 的两位关键人物也加入了我的行列。我们有业务运营副总裁 Eran Grabiner，以及首席执行官 Ran Ilany 或 Ilani——我念错了您的名字，很抱歉——Ran Ilany

**Ran Ilany:** Ilany.

**Shimel:** Ilany，太好了。首席执行官兼联合创始人。先生们，欢迎。

**Ilany:** 谢谢。

艾伦，谢谢你。谢谢你邀请我们。

哦，我的荣幸。冉，你是首席执行官。我让你开球。我们的观众中有很多人可能不熟悉 Portshift。基本上，Portshift 是关于什么的？

**Ilany:** 所以，从根本上来说，Portshift 试图解决一个难题，这个难题在过去几十年中没有得到解决，并且在 90 年代初作为防火墙技术的解决方案被大量引入。现在我们正在向云基础架构迁移，我们看到 20 年前使用的相同防火墙不再有效，无法运行应用程序。本质上，我会说，有两到三个原因，我会让 Eran 详细说明原因。

Grabiner: 对。当然，Alan，当谈到云时，有两件事情从根本上改变了 IT 人员和开发人员的一切。第一件事:你不拥有基础设施，所以网络和基础设施的水平，你根本无法控制它。

其次，随着时间的推移，计算世界发生了很多变化。如果——我不知道——十年前，我们在办公室的数据中心使用单一应用程序，现在，当我们在云中时，我们的应用程序被分成许多不同的部分，许多不同的 _____ 服务。一切都更加自动化了。软件每小时更新一次。开发人员和工程师，他们有更多的权力用他们的软件做事情。因为这两个原因，我们用来协调网络安全的旧工具根本不起作用。

是的，而且——

**Shimel:** 同意。冉？

**Ilany:** 除此之外，还有两个层面的挑战。第一个事实是，如果你真的想在云环境中使用防火墙，你真的需要了解网络基础设施。要了解网络基础架构，您需要了解应用程序在云中做什么，为了做到这一点，您需要配置这些 IP 和端口，一方面，它们实际上会创建与实际网络基础架构非常非常紧密的绑定。

另一方面，您显然需要在安全人员和实际运营人员之间进行这种类型的讨论，这实际上会产生许多官僚主义，您知道，这在 15 年前的数据中心可能是有效的，但是，现在我们正在向云迁移，一切都通过 CI/CD 实现自动化，您需要其他东西。好吗？你需要打破这种模式，一方面，至少要摆脱对实际网络的束缚，另一方面，你需要让事情变得更快，与开发生命周期更紧密地联系在一起。这实质上是 Portshift 作为目标和解决方案提出的主要目标。

绝对的。所以，伙计们——看，我自己也经历过一段时间。你知道，当我们第一次开始使用下一代防火墙时，这是一个前提，我们要让开发人员参与进来，使用应用感知型防火墙等等，但这并没有转化为云。你说得对。但是，冉，我很感兴趣，作为首席执行官/联合创始人，这显然是一个问题，对不对？我们如何在云环境中、以云的规模、以云的速度等等做到这一点？

**Ilany:** Yeah.

**Shimel:** 这件事对你个人或你今天的旅程有什么影响，当时你意识到并说，“嘿，我们必须做点什么，这是一个在这里寻找解决方案的问题”？

Ilany: 对。所以，从本质上来说，我们知道，在与客户交谈时，有一个问题需要解决方案。我的意思是，这些通常是第一——

**Shimel:** 就是这样

是的，而且——

**Shimel:**–最好的方法。

Ilany: 我们看到了——我们称之为“不可能的交易”,好吗？他们要么需要非常非常快，一方面，他们希望在云中运行非常非常快，但另一方面，他们有安全限制。他们真的想控制，我的意思是，应用程序之间的通信和应用程序应该在哪里运行。这就是在敏捷和安全曲线上的位置，每个组织都必须在这种类型的曲线上找到自己，并找到它想要实施或强加的安全级别。

我要说的是，正是这一点促使我们考虑改变范式或打破范式，或者制定一个解决方案，让客户不必做出这种类型的权衡，或者做出这种类型的决策，目标是既快速、敏捷，又安全，不受 _____ _____ 的影响。

**Grabiner:** 我们基本上是从 DevOps 的角度来看待云中正在发生的事情，我们看到许多事情随着自动化、CI/CD 工具而变得更好，我们问自己，为什么在安全方面没有发生这种情况？为什么 DevOps 工程师现在使用工作站或工具来部署软件，为什么安全工具看起来不一样？为什么他们不能成为同一个想法和同一个工作周期的一部分？这让我们认为，从某种意义上来说，我们需要将安全性向左推，左移，并将其作为 DevOps 生命周期的一部分和组织的 CI/CD 基础架构的一部分。

Shimel: 当然可以。所以，伙计们，很明显，我们称之为“DevSecOps”，对吗？是它的一部分。

是的，没错。是啊。

**Shimel:** 这是我——你知道，在 DevSecOps 日和我们在 RSA 举办的活动之间，这是我们非常关心的事情。我的问题是，听起来 Portshift 的真正目的是帮助 DevOps 工程师、DevOps 团队、开发人员更多地参与到安全性或云防火墙这类安全性范例中。Portshift 的目标是安全团队、开发团队，还是两者都是？

**Ilany:** 所以我认为——嗯，显然，Portshift 的重点不是试图教育 Dev 和 DevOps 成为安全人员——这显然不是目标——但我认为好消息是 Dev 和 DevOps 拥有相关知识，好吗？从本质上来说，知识就是他们知道自己意图的地方。从本质上来说，他们知道他们希望在哪里部署应用程序，从本质上来说，他们知道谁应该与谁就应用程序容器或处理器进行对话，这显然取决于您的基础架构。我要说的是，这是整个左移概念的基本假设，好吗？我们实际上掌握了这类知识，好吗？我们根据这些知识或属性创建应用程序的实际身份，它本质上是这些属性的签名基础结构或加密签名。我们用 DevOps 用他们自己的自然语言描述的那些意图——我的意思是，烹饪书上的食谱，你知道，_____

**Shimel:** 厨师还是傀儡。

Ilany: 是的，当然。或者 Ansible 或者 Kubernetes，很明显，基础设施。我们在创建加密身份时使用这种类型的信息，以便在云中部署这些应用程序或签名的应用程序，并实施我们正式描述的实际安全性。最重要的是，从本质上说，这些人不需要改变他们的工作方式，好吗？安全性与他们自己的系统 CI/CD 系统更紧密地联系在一起。

我们利用这种类型的信息来创建安全性，实际的安全性人员将实际定义护栏。好吗？他们将定义高层次的操作环境——生产环境、测试环境或生产前环境——实际应用程序应该在其中运行。安全性将被强制执行并自动可见，没有乒乓，好吗，或者没有安全性和 DevOps 人员之间永无休止的讨论，我们都知道这是问题的一部分，好吗？这是保护云婴儿车中的应用的挑战的一部分。

绝对的。所以我想——让我倒回去一会儿。我只是想确认一下。显然，我知道你在 AWS 工作。

**Ilany:** Mm-hmm.

**Shimel:** 微软 Azure，谷歌云也是？

Grabiner: 对。

**Ilany:** Mm-hmm.

**Grabiner:** 我们对基础设施一无所知。

希梅尔:好的。我很好奇，因为这是我们反复讨论的问题。开发人员和 DevOps 团队的态度。我的意思是，你永远不会遇到一个开发者说，“哦，我想做一个不安全的应用程序，或者我想我的东西被黑客攻击”，对吗？

**Grabiner:** 没有。

**Ilany:** Mm-hmm.

**Shimel:** 你说得对，他们不是安全人员，但他们有安全意识，需要对安全负责。

**Ilany:** Mm-hmm.

**Shimel:** 对吧？另一方面，看，我们都知道安全人员说过，“开发人员会按照我说的去做”，对吗？"当我告诉他们他们是安全的时候，他们也是安全的."但在这个新世界里，这也行不通。对吗？必须在一起。因此，您谈到了与 CI/CD 流程的集成。请告诉我们您是如何在 CI/CD 流程中工作的。

**Grabiner:** 明白了。是的，所以，基本上，我们正在做的是，我们要求开发人员、DevOps 工程师使用一组非常简单的 API，无论他们何时使用他们的基础设施作为代码或他们使用的任何工具，向 Portshift 发送我们需要的相关信息，以便识别他们正在部署的应用程序。这些信息可以是关于构建、版本、应用程序的名称空间和其他属性的技术信息，这将允许我们为应用程序的每一部分提取唯一的身份。这是第一部分，我们在这里了解您的应用程序逻辑，了解谁应该与谁交流，并且了解您的业务。

现在，当我们获得这个身份，并进入运行时，我们看到所有不同的部分，首先，我们肯定看到它们。我们知道是因为我们在 CI/CD 中发现了它们。如果某些东西没有通过 CI/CD，如果一个开发人员没有询问就部署了一个容器，如果，上帝禁止，一个攻击者在网络中移动，我们将立即看到这一点，因为我们在 CI/CD 期间签署了组件。我们可以看到他们。我们可以看到他们在交流。现在，安全人员和 DevOps 工程师可以根据他们的应用程序逻辑，轻松定义他们的议程和规则。

一个简单的例子:如果他们希望他们的计费应用程序与他们的财务数据库进行对话，这可能需要几天的时间来配置，因为你的应用程序被分成不同的部分，你需要配置安全组并确保你做得正确等等，使用 Portshift，你只需写下这句话。你只需用英语说，“我希望我的计费应用程序能与财务数据库对话”，就是这样。从那以后一切都会好的。

**Shimel:** 所以听起来很神奇，对吧？

Grabiner: 对。

你知道，我太老了，不相信魔法。然而，幕后发生了什么呢？当我写这个的时候，幕后到底发生了什么？

Ilany: 对。因此，本质上，幕后发生的事情是，我们有两个阶段来生成身份位。正如 Eran 雄辩地提到的，第一阶段是通过线下完成的，好吗？我们采用这种类型的属性，这是 CI/CD 中的一种意图。我们将这些作为身份的属性，这实质上是对应用程序的描述——应用程序应该在哪里运行，它应该在我们的目标实际环境中与谁对话。

然后我们有了与运行时属性的关联。每个进程、每个容器都有运行时特征——例如，进程 ID、UID、内存占用等——所以我们将 ICD 创建的离线属性与运行时属性结合在一起。我们一起签字。

这基本上创建了一个独特的实体，这是我们用来执行的。我们在流量流中传输这种类型的身份，以便两个不同应用程序之间的对话首先经过身份验证，然后才被授权。好吗？这就是我们所说的经典的“零信任”方法，好吗？我们不信任知识产权；我们相信对方的身份。

我认为，这带来了另一个我们谈论的问题，即运营优势，以及它对于开发和开发运维以及安全协作非常敏捷和有用的事实。但还有另一个非常重要的优势，那就是，现在我们不是在讨论由网段组成的攻击面，而是在讨论访问类型。好吗？例如，如果一个攻击者进入我的一个工作负载或一个应用程序，我们不会失去整个部分，好吗？我们丢了一个零件。

现在，我要说的是，我们已经不那么担心我们暴露的程度了，好吧，因为我们谈论的只是允许的点对点访问。它们不是开放的网段，从攻击者的角度来看，这就像梦想成真一样。如果我找到一个平面网络，并以某种神奇的方式进入你的平面网络，那么我就可以进入那里的每一个资源或应用程序。

**Shimel:** 好目标。

Ilany: 对。这基本上是不同应用程序之间基于身份的访问控制的安全观点的基本概念。

Shimel: 当然可以。伙计们，听起来很吸引人。正如我开始时向你提到的，时间过得很快。我们已经到了时间的尽头。

Grabiner: 对。

Shimel: 我很抱歉，但也许我们可以继续这个话题。感兴趣的人，Portshift，可以在 portshift.io 获取更多信息，对吗？

**Ilany:** 对。

Grabiner: 没错。

**Shimel:** 你们将会在 AWS reinvention 工作

**Grabiner:** 正确。

**Shimel:**–_ _ _ _ _ _ _ _ _ _ 之后。你会参加 RSA 会议吗？

**Grabiner:** 是的。我们也将在那里展示，在一个启动场地。

哦，是发射台还是沙盒？

Grabiner: 我想它应该叫做发射台。是的，所有早期公司都在那里。是啊。

是的。沙箱——这可能是创新沙箱。Launchpad 更适合创意。

哦，是的。

**Shimel:** 我认为你更适合——是的，我们是 RSA 的重要组成部分，所以，是的，我刚刚和他们一起做了一个关于这两方面的播客，所以我知道的很少。不管怎样，我很抱歉。非常感谢您参加我们的活动，我们会的—如果我们在 AWS 上没有见到您，我们将在 RSA 见到您。嗯，我们可能想听到更多，因为这有点适合我们的甜蜜点。Ran，Eran，感谢您今天参加我们的 DevOps 聊天。祝你好运。我是 DevOps.com 的艾伦·希梅尔。祝大家今天愉快。

— [Alan Shimel](https://devops.com/author/ashimmy/)