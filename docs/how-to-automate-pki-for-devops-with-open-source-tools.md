# 如何使用开源工具为 DevOps 自动化 PKI

> 原文：<https://devops.com/how-to-automate-pki-for-devops-with-open-source-tools/>

从历史上看，DevOps 和 security 一直是截然相反的实践。DevOps 希望快速行动，打破常规，或者他们是这么说的，但是安全政策往往会让事情慢下来。然而，很明显，这种思想流派已经发生了演变，因为两种实践都可以从对方那里学到一些东西。组织已经采用“左移”方法将安全性更早地集成到应用程序开发中，而安全团队正在学习接受 [DevSecOps](https://devops.com/?s=DevSecOps) 的自动化、灵活性和可伸缩性。

例如，考虑公钥基础设施(PKI)，一种通常用于认证身份、设备和软件的安全技术。在 DevOps 中，PKI 有许多有价值的用例，例如认证服务和基础设施(而不是硬编码的秘密)以及验证软件和第三方应用程序。同样，对于 DevOps 来说，自动化手动和基于票证的证书管理也是一个有价值的用例；尤其是因为这会给 DevOps 带来不可接受的瓶颈。

在这个例子中，PKI 和 DevOps 就像一枚硬币的两面:

*   *面向 DevOps 的 PKI*–利用 DevOps 为业务应用和服务高效部署基于 PKI 的凭据
*   *面向 PKI 的 DevOps*–通过 devo PS 自动部署和配置 PKI

在这两种情况下，这些过程都使用许多相似的技术和工具。最棒的是，它们中的许多都可以通过开源社区获得。

[**EJBCA**](https://www.ejbca.org/)**–开源 PKI**

EJBCA 是一个开源的证书颁发机构，它提供了一个完整生命周期的证书管理解决方案，从注册和登记到证书验证和撤销。该项目的源代码可以根据 GNU 宽松通用公共许可证(LGPL)的条款获得。EJBCA 用于安装高度可伸缩的私有证书颁发机构。相比之下，公共证书颁发机构是单一的且昂贵的，这使得它们不太适合敏捷开发运维。

[**ansi ble**](https://www.ansible.com/)**——开源 IT 自动化**

Ansible 是一个 IT 自动化工具，可以安装和配置软件(在本例中是 EJBCA)。通过创建行动手册、角色和任务，该流程可以轻松重复。Ansible 易于使用，因为它基于 YAML，是一种易于理解的语言，这使得它非常适合已经实现了基础设施即代码(IaC)的 DevSecOps 环境。Ansible 也是高度可伸缩的，因为它是模块化和无代理的，这使得它轻量级和快速。此外，Ansible 行动手册可以使用 EJBCA 的密钥和证书保护其他软件的部署，从而可以将 Ansible 用作通用自动化工具，将 PKI 用于 DevOps，将 DevOps 用于 PKI。

[**哈希公司金库**](https://www.vaultproject.io/)**——开源机密管理**

HashiCorp Vault 是一个秘密管理解决方案，可用于保护、存储和控制对令牌、密码、证书和加密密钥的访问。它的使用案例包括秘密管理、数据加密和基于身份的访问。随着组织转向更加动态的云和混合基础架构，机密管理已成为不可或缺的一部分，以确保密钥不会暴露在应用程序和 API 中，并确保证书安全地颁发给正确的机器。

[**詹金斯**](https://www.jenkins.io/)**——开源持续集成**

Jenkins 是用于构建、测试、交付和部署软件的自动化服务器。Jenkins 可用于自动部署证书和密钥，作为持续集成和持续交付管道(CI/CD)的一部分。本质上，Ansible 中定义的剧本可以由 Jenkins 在 CI/CD 管道中简化，这是 DevOps 的标志。

## PKI for DevOps 和 DevOps for PKI

PKI for DevOps 的最终目标是为业务应用程序提供没有硬编码秘密的 PKI 凭证，这减少了安全团队担心的风险。DevOps for PKI 的目标是自动部署一个完全配置的 PKI 解决方案，这对 DevOps 团队来说是一个小障碍。组织可以利用一组开源的 [Ansible 剧本来自动化 EJBCA](https://github.com/primekeydevs/ansible) 的安装，这使得这个过程很容易复制。

开发运维的本质是大规模实现自动化和灵活性。这意味着 PKI 证书供应需要集成并自动化到 DevOps 中。当这一点做得正确时，安全性和开发运维不需要截然对立，组织可以实现两个世界的最佳状态:安全性和效率。