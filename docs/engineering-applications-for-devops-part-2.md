# DevOps 的工程应用(下)

> 原文：<https://devops.com/engineering-applications-for-devops-part-2/>

这个博客系列解释了如何为 DevOps 设计应用程序。

本博客系列涵盖的主题:
·在决定一个应用程序是否适合开发运维时要考虑的因素。
·devo PS 工程设计的最佳实践。
devo PS 应用于企业应用和软件服务。
·适用于 COTS 系统的 DevOps。
devo PS 应用于制造(嵌入式)系统软件。
·应用成熟度的五个级别。

这个博客是第二部分，涵盖了 DevOps 工程设计的最佳实践。你可以在这里阅读第一部分。

糟糕的设计实践严重限制了 DevOps 提供的改进潜力。正如我的博客文章[Design for DevOps——推荐的工程实践](https://devops.com/design-devops-best-practices/)中所述，“没有良好的设计实践，devo PS 实现就没有希望兑现其高质量和大规模加速创新的承诺。”

遵循 DevOps 推荐的应用设计工程实践对于传统、绿地或棕地产品、平台项目、功能增强或维修非常重要。对于企业三层应用或多层产品来说很重要。不管开发人员是使用敏捷、瀑布还是 ITIL 开发过程，这都是事实。在每一个应用程序设计案例中，设计人员都面临着严峻的挑战，并且需要平衡相互冲突的目标。

设计师被期望快速减少工作积压，同时生产出高质量的产品，避免昂贵的拒绝和退回。此外，在有限的时间和资源下，人们面临着增加创造性内容而不是纠正性内容的工作量的压力。平衡这些相互冲突的目标是一项艰巨的任务。如果没有推荐的工程实践的支持，整个设计体验就是一个压力大锅，很快就会筋疲力尽。

## 推荐的工程实践

以下推荐的工程实践以简化 DevOps 管道的方式改善了设计体验和设计产品:

设计师必须彻底理解客户用例。可用性、可靠性、可扩展性、可用性、可测试性和可支持性比单个特性更重要！建议质量重于数量。预期客户实际使用的设计是最成功的。
·文化需要支持设计师。
领导者必须通过激励、指导和培训来支持设计师。
不能指望设计师什么都知道。如果吸取了教训，改进很快就来了，设计师犯一些错误是可以的。持续监控和快速补救是良好开发运维实践的示例，有助于将任何错误的影响降至最低。

## 设计编码实践

设计编码实践在以下方面至关重要:

产品设计支持模块化独立包装、测试和发布。换句话说，产品本身被划分成模块，模块之间的依赖性最小。通过这种方式，可以构建、测试和发布模块，而不需要一次性构建、测试和发布整个产品。
在可能的情况下，根据 12 因素不可变非单片应用程序的原则，应用程序被设计为模块化、不可变的微服务，可随时部署在云基础架构中，而不是单片可变架构。
·在提交到集成/主干分支之前，使用同行代码评审预先检查软件代码变更。
将软件变更与最新的集成分支版本一起集成到私有环境中，并在将软件变更提交到集成/主干分支之前使用功能测试进行测试。
开发人员定期提交他们的代码变更——至少每天一次。

## 良好的设计实践支持 QA 和 Ops

良好的 DevOps 设计实践通过以下方式支持 QA:

设计实践考虑并理解质量保证流程。在提交到集成/主干分支之前，通过单元测试预先检查软件代码变更。
·软件源代码变更在提交到集成分支之前，使用静态分析工具进行预先检查。静态分析工具用于确保修改后的源代码不会引入严重的软件错误，如内存泄漏、未初始化的变量和数组边界问题。
在提交到集成/主干分支之前，使用动态分析和回归测试对软件代码变更进行预先检查，以确保软件性能没有下降。

良好的 DevOps 设计实践通过以下方式支持 Ops:

设计实践考虑并理解交付和部署管道流程。
在检入过程中，软件功能用软件开关(即功能标签或开关)进行标记，以实现选择性功能级测试、升级和恢复。当代码变更被检入时，自动化测试用例被检入到集成分支。通过测试的证据包含在签入中。
测试在战前测试环境中进行，该环境与生产环境非常相似。

## 支持工具

实现面向开发运维的设计最佳实践需要以下支持工具:

可根据需要轻松编排、创建和发布的弹性基础设施，以最短的延迟按需支持设计人员的任务。设计、代码管理、监控和测试工具随时可用且可扩展，延迟最小。
·监控工具，用于跟踪应用程序流程性能，并以易于使用的格式及时向设计人员报告结果。

## DevOps 不适用的应用

“如果你建造了它，他们就会来，”这是在*梦想领域*中的一个伟大的电影创意，但现实是，尽管所涉及的人员、流程和技术非常优秀，但许多 DevOps 旅程都没有结果。如上所述，无法从更快的交付周期中受益、成本不足以证明开发运维投资的合理性或者过于僵化而无法接受变更的应用程序不适合开发运维。

### **这意味着什么**

这篇博客是解释如何设计最适合 DevOps 的应用程序的系列文章的第二部分。这个博客系列解释了如何为 DevOps 设计应用程序，涵盖的主题包括:

用于决定应用程序是否适合开发运维的因素。DevOps 的工程设计实践。
·devo PS 应用于企业应用和软件服务。
devo PS 应用于 COTS 系统。
·devo PS 应用于制造(嵌入式)系统软件。
应用成熟度的五个层次。

这个博客涵盖了用于 DevOps 工程设计的实践。你可以在这里阅读第一部分。

有关如何为 DevOps 设计应用的更多信息，请参考我的书[工程 DevOps](http://mybook.to/engineeringdevops) 。