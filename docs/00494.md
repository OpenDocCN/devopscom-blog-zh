# 迁移到云？一些实用的建议

> 原文:[https://devops.com/migrating-cloud-practical-advice/](https://devops.com/migrating-cloud-practical-advice/)

哦，如果世界只是一片绿地。如果一切都是新的，我们不必担心遗留系统，这将是一个多么美好的世界。但不幸的是，事实并非如此。对于我们的应用程序和基础架构，不使用云往往意味着将一些现有的基础架构从内部安装迁移到云。你如何成功做到这一点？

你必须打破一些鸡蛋来做煎蛋卷，但是迁移到云不像做早餐。我们承受不起停机时间、中断的链接或中断的应用。随着越来越多的应用程序被转移到云中，需要建立一个可靠的流程。我请几个我认识的人帮我整理一份清单，列出从本地迁移到云或者更有可能部署本地和云混合环境时要考虑和要做的事情。

我问了我的朋友 JP Morgenthal，他对云迁移和 DevOps 略知一二，我和来自 [Datadog](https://www.datadoghq.com) 的 Alex Rosemblatt 深入探讨了一下。Datadog 实际上在这方面颇有经验。他们的产品/服务同时监控云和本地服务器，所以他们经常处理这种情况。考虑到这两位先生所说的话，这里有一个清单应该对你有所帮助:

1.  评估应用程序在云中运行的功能限制。这可能包括操作系统依赖性、存储性能、网络带宽/性能。需要注意的一些关键要求:
    CPU
    内存
    存储
    附加存储 vs 块份额
    IOPS
    DR
    性能
    底层硬件
2.  选择您的迁移方法:Lift-n-drop 或 re-platform。Lift-n-drop 只是将应用程序移植到云中，而不需要修改架构和提供所有的应用程序组件。平台迁移考虑尽可能使用云服务来替代现有的应用程序组件。

3.  选择 IAAS 供应商，使用一些标准:
    可用功能—自动扩展、附加服务等
    实例类型/AMI 可用性
    区域分布
    支持 SLA
    API 可用性
    性能指标/日志访问

4.  制定迁移项目管理计划，其中包括:
    移交日期选择
    测试项目计划
    可接受的性能基准
    移交日运营
    内部沟通和额外培训
    运营团队
    开发团队
    应用程序开发中的变更以说明新功能？
    QA 团队
    管理层
    受影响的非技术组织团队

5.  如果是混合架构(应该是混合的)，选择现有数据中心如何与云服务集成。这可能是通过电信提供商的第 2 层网络或通过互联网的第 3 层网络。现在也是考虑如何在本地和云中进行监控的好时机。同样，Datadog 也是这样做的。

6.  为应用程序建立网络支架。为各种应用程序组件开发允许的通信路径。这将简化以后应用程序组件的部署。测试发送和接收的正确端口是否打开。

7.  在具有完全互联网访问权限的单个子网中部署应用程序。消除任何障碍，确保应用程序将在云服务提供商的资源上运行。这只是一个测试环境，以确保基线组件能够运行并相互通信。

8.  将应用程序部署到适当的子网中，以确保服务器无法通过公共互联网使用。

9.  从当前应用程序环境移植数据

10.  对系统进行完整的回归测试

11.  添加额外的测试，看看云服务不可用时系统会如何运行

这显然不是一个详尽的列表，但应该给你一个计划的开始。如果您还没有进行云迁移，最终您将不得不进行云迁移。最好现在就开始计划。