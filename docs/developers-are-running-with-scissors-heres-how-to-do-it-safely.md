# 开发商都是剪刀差在跑。以下是如何安全地做到这一点

> 原文：<https://devops.com/developers-are-running-with-scissors-heres-how-to-do-it-safely/>

我们都听说过这些故事。对应用程序进行更改需要很长时间，对吗？

在新冠肺炎之前，这是真的。

许多企业发现，新型冠状病毒带来的全球疫情让他们有意愿找到更快行动的方法。正如一位客户最近转述的那样:“在 COVID 之前，我们需要六个月到一年的时间来推出一款新应用，但使用 COVID 后，只需六周。一场生存危机会帮你做到这一点。”

企业总是觉得必须加快速度，改善在线体验，并向市场推出新的应用程序。但委婉地说，COVID 增加了紧迫性。所有的过程和政治都被推到一边，公司只是告诉他们的开发者运行。开发人员在很短的时间内规划、原型化代码并将其投入生产。

问题？这些企业开发者是带着剪刀跑的。我们都记得我们最喜欢的幼儿园老师告诉我们不要这样做。但是如果你面临一场生存危机，你真的有选择吗？事实是，开发人员的新代码(剪刀)可能会破坏一些东西，可能会关闭关键任务应用程序，影响公司的声誉或收入，甚至危及客户数据。然而，如果我们对开发商大喊慢下来，然后步行，那么我们的收入可能会急剧下降。

对于完全建立在现代架构上的云原生公司来说，以这样的速度发展很好。他们没有遗产。他们从一开始就被设计为每天推出几个变更。但是在正常情况下，一家大型银行或保险公司可能会每月(T1)而不是每天进行相同数量的变更。这些企业就像你喜欢的老师一样，禁止自己的开发者带着剪刀跑。

这导致了开发人员和基础设施团队之间几乎截然相反的摩擦，他们的工作是提高可靠性和正常运行时间，并确保业务不会被破坏。

现在，我们已经将 COVID 作为世界上的一个强制功能，上市时间和变更时间的压力对于手动治理流程来说永远都是太快了。所以公司需要解决这种紧张关系。他们需要允许开发者用剪刀安全地运行*。*

*幸运的是，所有的团队、工具和技术诀窍都存在。我们知道 DevOps 团队帮助自动化发布过程。我们知道持续集成和持续交付(CI/CD)以及编排工具已经成熟。我们知道，容器、Kubernetes 和云原生架构的技术变革已经为生产做好了准备。这真的只是一个把所有东西都拉在一起的问题。*

*其核心是微服务的概念:将应用程序分解成小的、离散的功能。每一个都是可重用的，并针对上面描述的团队、工具和技术进行了优化。对于微服务，如果开发人员破坏了什么，他们只是破坏了一小部分。任何给定应用程序的绝大部分——因此也是企业运行的——都不会停止运行。企业将这些微服务环境与他们的传统应用一起部署，创建了一个混合架构。*

*与架构的分离使开发人员能够自助测试和部署需要更改流量规则的新应用功能。他们可以进行金丝雀测试、蓝绿色测试和 A/B 测试，而无需联系基础架构对应方，也无需打开 IT 票证并等待变更窗口。*

*很快，对吧？但是不行。这是一个很好的解决方案，但是它只能让你半途而废。仍然存在可见性和将工作流缝合在一起的挑战，以便每个人都在同一页面上。对于许多拥有复杂工作流程的公司来说，开发人员能以多快的速度进行变更并不重要——它仍然在炼狱中结束，等待安全人员审核代码或更改防火墙规则。50 个独立的应用团队，每个团队都在开发自己的微服务，他们需要像共享服务团队一样协调安全变化，不幸的是，这是新的瓶颈。至少现在已经不是网络组的错了。*

*投资位于应用交付基础设施之上的抽象层解决了软件与网络集成的问题，但是如果这些层不说话，那么您实际上只是引入了另一个孤岛。你把同样的问题从硬件转移到了软件。等式的一半可以走得很快，但另一半不行。*

*如果延迟是完成一次往返所需的时间，那么可以将此视为*人类延迟*。作为技术人员，我们喜欢测量应用程序延迟。我们可以将一个应用程序的运行时间从 100 毫秒缩短到 10 毫秒，并为自己出色的完成工作而庆贺。但是，如果您的安全团队仍然需要 60 天来批准代码和实施新策略，那么您仍然有超过 50 亿毫秒的人工延迟。应用程序延迟降低了 90%,但这只是问题的一小部分。*

*为了解决人类延迟的最终问题，需要一种方法来提供可见性、流程编排和自动化，从而消除开发、开发运维、基础架构、运营和安全等不同团队之间的交接点和由此产生的摩擦，就像云原生公司所做的那样。*

*以前，解决这个问题的一种方法是获得一个垂直集成的平台，为您完成所有工作。这是平台即服务(PaaS)和基础设施即服务(IaaS)提供商采用的方法。缺点是您将应用程序服务耦合到了底层基础设施。一体化方法的简单性允许您在开始时走得很快，但是您稍后可能会发现您已经阻碍了您的适应能力。例如，如果发生重大变化，比如收购，你就不能快速合并系统、移植到新的云或者将应用程序迁移回本地。*

*请将此视为垂直整合，其中应用、应用服务和基础设施都紧密耦合。现在考虑一种不同的方法，在这种方法中，您可以横向集成各个孤岛。跨人员从左到右集成比跨技术堆栈从上到下集成更有价值。解决方案是投资新技术，但要在应用程序生命周期的所有阶段提供可见性、工作流和 API。现在你有了一场接力赛，每支队伍都拿着剪刀跑，安全人员可以确保安全完成。*

*幸运的是，以一种开放的、松散耦合的方式支持这种模型的技术今天已经出现了。对于拥有传统和混合基础架构的企业来说，您已经具备了快速发展并与云原生公司竞争的能力，并且您不必雇佣一千名硅谷软件开发人员来与云原生组织竞争。*

*通过在抽象层上投资，自动化和维护整个组织的应用交付和应用安全性，您可以鼓励您的开发人员跑得更快。接招吧，麦戈纳格太太。幼儿园再也不会一样了。*