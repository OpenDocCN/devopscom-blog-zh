# 无一例外地连续交货

> 原文：<https://devops.com/continuous-delivery-without-exception/>

持续交付(CD)和所有其他持续的东西——持续集成(CI)、持续测试、持续部署——已经成为 DevOps 的新口号。CI/CD 采用通常始于敏捷开发团队开发新的或资金充足的系统。但是，资金不足的 IT 团队负责支持的世界其他地方和所有这些“其他”应用程序呢？连续交付能够或者应该成为所有应用程序的现实吗？

答案是响亮的是！没有一个应用是孤岛。每个应用程序都会发生变化，无论是代码变化、操作系统补丁、支持数据库的变化还是运行基础设施的变化。如果没有一个受监管的管道在所有系统之间快速传递变更，组织将面临不可预见的风险和不断增加的维护成本。

无论一个应用程序现在有多新或资金有多充足，它很快就会成为许多其他应用程序中的一个，这些应用程序必须作为组织 it 资产的一部分进行保护、修补、更新和维护。例如，考虑所有那些在 2000 年代早期建立的“热门新”Windows IIS 网站现在都位于 Windows Server 2008/R2 上，这些网站将于 2020 年 1 月 14 日停止使用。不受支持的操作系统不仅成本高昂，而且也是网络攻击的主要目标(Bluekeep 漏洞只是众多例子之一)。

术语“技术债务”是由沃德·坎宁安在 1992 年引入的，用来描述当我们未能充分维护他所谓的“不成熟”代码时会发生什么:

> “尽管不成熟的代码可能工作得很好，并且完全被客户接受，但是过量的代码会使程序变得难以驾驭，导致程序员的极端专业化，最终形成一个不灵活的产品。首次发布代码就像负债累累。少量的债务加速了开发，只要通过重写及时偿还……当债务没有偿还时，危险就出现了。花在不太正确的代码上的每一分钟都算作债务的利息。在不整合的实施的债务负担下，整个工程组织可能会陷入停顿。”

## 组织必须驾驭复杂性

[《devo PS 状态，Dora 报告》](https://devops-research.com/2018/08/announcing-accelerate-state-of-devops-2018/)中包含的“转型 J 曲线”形象化了大型复杂组织在自动化交付渠道时所面临的挑战。团队首先瞄准引人注目的项目和快速成功，然后当他们面临越来越多的复杂性和技术债务时，就会看到下降。

当涉及到任务关键的商业现成(COTS)应用程序时，复杂性和技术债务是最相关的。手动控制、流程层和孤立的支持团队通常都与这些类型的应用程序相关联。术语“双模态”通常用于描述这些类型的应用程序与作为持续交付管道的一部分发布的定制应用程序在交付流程上的差异。

COTS 应用程序不仅以这种“双模式”方式处理，而且还是“被遗忘”和“隐藏”的应用程序——被遗忘的是仍在使用但不再被积极开发的遗留应用程序，而隐藏的是 IT 运行 IT 操作所需的所有应用程序。为了在持续交付中取得成功，组织需要在所有团队和环境的交付管道中应用标准化，包括复杂的、被遗忘的和隐藏的应用程序。

## 复杂:任务关键型 COTS 应用

Microsoft SQL 等大型任务关键型应用程序给专注于企业开发运维的团队带来了独特的挑战，但成功的 CD 管道是可能的。团队必须首先认识到打包的应用程序与定制的应用程序有着本质的不同。类似于旧的应用程序(许多打包的应用程序也是如此)，基本的挑战是创建一种自动化的方法来构建包，然后由管道使用。这里的成功还需要关于支持打包应用程序的基础专有服务和技术的额外信息。

## 被遗忘:遗留应用程序

旧应用程序给试图实现连续交付的组织带来重大挑战的原因有很多:技术债务、缺乏资源、需要重构、操作平台依赖性和对业务中断的担忧等等。多次更新这些应用程序需要个人的英雄行为，涉及大量的手动工作，其中操作手册被单独更新，影子会话被调用，并且对依赖系统的影响通常在更新影响生产之前是不知道的。

开始连续交付需要创建一个自动化构建包，然后可以通过管道将其部署到首选目的地—云、本地或混合。如果应用程序及其所有依赖项已经成功地从底层操作系统和基础设施中抽象出来，并进行相应的打包，那么它就可以在管道中使用并部署到任何地方，而不必重构或重写应用程序。

## 隐藏:它“拥有”应用程序

数字时代导致企业使用的应用程序(网站、分销、POS 等)呈指数级增长。)以及 IT 团队用来构建、测试、部署、管理、保护和监控*这些*应用的第三方应用/工具。在许多情况下，这些应用程序已经变得和它们所支持的业务应用程序一样至关重要，但它们通常不被业务部门视为“应用程序”。

在许多情况下，他们仍然完全隐藏在业务之外，很少了解他们提供的价值。应用程序通常没有明确的所有者，不同的团队以不同的方式使用应用程序，更新和补丁是临时处理的，并且专业知识仅限于组织内的少数个人(他们在离开时带走了关于应用程序的知识)。

最终，IT 使用的第三方应用程序需要像任何其他应用程序一样进行管理。否则，由于在生产前没有正确测试变更，会导致发布延迟和生产失败。