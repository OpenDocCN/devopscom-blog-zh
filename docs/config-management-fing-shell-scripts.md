# 配置管理&运行 Shell 脚本

> 原文：<https://devops.com/config-management-fing-shell-scripts/>

笑话科技项目随时都会出现。有些人，像可悲的 titstare，永远不应该看到阳光。其他人，比如马克·扎克伯格的 Facemash，一开始只是一个笑话，后来发展成了一个完全不同的东西。大多数人来来去去，没有人真正注意到。

虽然它们的寿命通常很短，但我们从人们对这些项目的反应中学到的往往比我们从他们对项目的使用中学到的更多。最近出现了一个很好的例子，几个沮丧的 Chef 和 Ansible 用户提出了一个简单的配置管理替代方案，很遗憾地命名为[F * * * Shell 脚本](http://fuckingshellscripts.org) (FSS)。正如他们解释的那样，比如“为什么我们不能只使用该死的外壳脚本？”。

虽然配置管理工具的可用性问题——特别是在企业中——是一个我非常感兴趣的话题，但我通常对 FSS 没有太多兴趣。引起我注意的是当[向《黑客新闻》发布](https://news.ycombinator.com/item?id=7401803)时引起的反应。超过 150 条评论显然触动了 FSS 的神经。

现在澄清一下，这个项目的作者非常明确地向群众保证，他们创造了 FSS 作为一个笑话:

> 我们一下午就写好了，整个过程中我们都像女学生一样咯咯地笑。

人们要么忽略了这一点，要么选择忽略它:

> “这简直太棒了！我梦想过这样的工具。”
> –艺术事实

> “我希望看到像您这样的工具完全成熟，然后我想我会喜欢使用它。”
> –斯德古蒂斯

它为许多人提供了一个完美的平台来表达他们对当前工具的不满:

> “即使对于一个经验丰富的系统管理员来说，使用 Puppet 和 Chef 来完成哪怕是一个微不足道的项目(替换一个大约 10 行的 shell 脚本)也要花费令人痛苦的几天时间。”mattjaynes

> “根据我的经验，一开始就让 Ansible(和其他 CM 系统)正常工作就需要做大量的工作”
> –s _ kilk

> “我们现在正在使用 Chef，并评估其他选项。它们要么过于复杂，要么不够灵活，但又不在两者之间。”
> –斯德古蒂斯

> “保持简单。木偶/厨师有可怕的 DSL，这使得推理变得非常复杂。”
> –sp 1982

为了平衡起见，我应该指出人群中有一些支持的声音。Ansible 尤其因其团队简化工作的努力而赢得赞誉。

尽管总的来说，我还是被表达出来的挫败感震惊了。自动化工具已经存在多年了；现代工具的始祖 CFEngine 诞生于 1993 年。尽管如此，一个半开玩笑的项目建议抛弃所有这些技术，转而支持他们打算取代(或至少抽象掉)的技术，shell 脚本，这被认为是可信的。对我来说，这类似于人们抛弃虚拟化而使用物理机器。这根本说不通。

当然，除非在当前工具集所采用的方法中，仍然有一些东西从根本上被破坏了；他们仍然太难了；他们仍然无法解决关键的先决条件，如[可见性和问责制](https://www.scriptrock.com/blog/automation-enterprise-doing-it-wrong/)。我相信这是事实，因为我亲身经历过；我在与我交谈的企业中见过上百次，像上面提到的黑客新闻这样的帖子几乎没有给其他解释留下任何空间。见鬼，我们把我们的产品[护栏](https://www.scriptrock.com)建立在这整个前提之上；对我来说，这些不是空话。

Ansible 提供的渐进式改进是一件好事，但人们似乎在寻找一个阶跃变化。就目前的情况来看，这不太可能来自当前的工具，而更有可能以新方法的形式出现。有人要码头工人吗？