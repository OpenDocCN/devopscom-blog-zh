# 针对数据库的开发工具:数据屏蔽、云备份、WAF 等

> 原文:[https://devo PS . com/devsecops-for-databases-data-masking-cloud-backup-waf-and-more/](https://devops.com/devsecops-for-databases-data-masking-cloud-backup-waf-and-more/)

DevSecOps 无处不在。越来越多的组织意识到开发运维与安全之间的传统分离既浪费又危险。因此，他们急于将安全性集成到他们所有的软件开发过程中。

为容器化的应用程序、云资源和现代 DevOps 基础架构的其他部分增加安全性已经得到了很好的理解。但是数据库呢？数据库过去是，现在仍然是，一个关键的系统组件，也是攻击者的主要目标。在这里，我将回顾现代数据库安全的基础，并向您展示如何为 DevSecOps 组织中的数据库创建一个持续的安全过程。

## 什么是 DevSecOps？

[DevSecOps](https://devops.com/?s=devsecops) 将安全实践整合到 DevOps 方法中。DevSecOps 通过发布工程师和安全团队之间的合作来推广“安全即代码”的方法。与 DevOps 类似，DevSecOps 方法专注于为复杂的软件开发过程创建创新的解决方案。团队在敏捷方法的框架内完成这项工作。T3】

DevSecOps 旨在缩小安全和 IT 团队之间的差距，同时确保代码的快速和安全交付。组织用一种新的方法取代了孤立的开发方法，这种新的方法在交付过程中促进了安全任务的共同责任。

在 DevSecOps 中，两个据称相反的目标——交付速度和安全代码——被统一到一个有效的过程中。

## 数据库安全基础

术语“数据库安全”是一个总括术语，用于描述为开发和维护数据库可用性、完整性和机密性而创建的所有工具。任何 DBA 的一项重要职责就是确保存储在数据库中的信息始终是安全的。

数据库安全的目标是保护:

*   数据库管理系统
*   访问数据库信息的应用程序
*   数据库中的数据存储
*   硬件服务器
*   虚拟数据库服务器，例如基于云的服务器
*   网络接入点

在安全性和可用性之间取得平衡至关重要。虽然您必须优先考虑数据安全性，但信息需要可访问才能为组织提供价值。您对数据库中保留的信息提供的访问权限越多，信息就越容易受到攻击。然而，过于安全的数据库既不实用也不实用。

实现可访问性和安全性之间平衡的一个好方法是创建有意义的安全协议，创建分层的信息访问级别，并投资于一个强大的数据库安全性和活动监控工具。

## 共同的威胁和挑战

以下是一些最常见的数据库攻击类型:

*   **内部威胁**—这些威胁涉及特权用户滥用他们的访问凭证。内部人员可能是疏忽大意的员工，无意中使数据库暴露于攻击之下；可能是恶意的内部人员，故意滥用数据库；也可能是外部入侵者，窃取凭据以破坏数据库。随着越来越多的员工持有特权访问凭据，违规的风险也在增加。
*   **注入攻击**—这些攻击涉及将任意攻击字符串插入 HTTP 头或 web 应用程序服务的数据库查询中。这些攻击可以是 SQL 或 NoSQL。安全的编码实践和定期的漏洞测试应该有助于保护您免受注入攻击。
*   **数据库软件漏洞利用**—数据库软件提供商定期发布针对其软件漏洞的安全补丁。但是，如果您不快速应用补丁程序，您将延长暴露时间，并面临黑客利用您数据库中的漏洞的风险。T3】
*   **备份攻击**—如果您没有采取足够的控制措施来保护您的备份数据，您的数据库将面临备份攻击。T3】

以下挑战会加剧这些威胁:

*   **大量数据**—组织必须使用可扩展的工具和实践来充分管理日益增长的大量数据。
*   **不断蔓延的基础设施蔓延**—组织正越来越多地转向混合云和多云环境，这使得他们的网络更加复杂，安全性也更难管理。T3】
*   **不断发展的法规**—随着全球监管格局的变化和变得更加复杂，保持合规性变得越来越具有挑战性。
*   **技能短缺**—[对网络安全人员](https://securityboulevard.com/?s=cybersecurity+skills+gap)的需求远远超过供给，并且这种短缺在未来只会增加。

## 使用 DevSecOps 实现连续数据库安全的 4 种技术

DevSecOps 方法要求在数据库开发和使用的所有阶段都保持数据库的安全性。让我们探索一些实现持续安全性的技术。

### 数据屏蔽

[数据屏蔽技术](https://satoricyber.com/data-masking/data-masking-8-techniques-and-how-to-implement-them-successfully/) 让您创建一个结构相似、匿名的组织数据版本。您可以将这些数据用于用户培训或软件测试。目的是保护真实的数据，同时使用一个功能性的替代品来替代不需要真实数据的用例。

在数据屏蔽中，数据的格式保持不变。您只需更改数据的值。你可以用各种方式改变数据，包括字符重排、加密和单词或字符替换。无论您选择哪种方法，您都必须以某种方式修改该值，这使得逆向工程或检测变得不可能。

当向不需要访问数据作为其角色一部分的用户(无论是组织内部还是外部)呈现数据时，使用数据屏蔽。在公共论坛上显示敏感信息之前，您应该对所有敏感信息应用数据屏蔽。

### 使用 Web 应用程序和数据库防火墙

默认情况下，使用阻止流量访问的防火墙来保护您的数据库服务器免受安全威胁。唯一允许的流量应该来自需要访问信息的特定 web 服务器或应用程序。防火墙还必须防止您的数据库建立出站连接，除非特别需要。

使用防火墙保护数据库是不够的。您还应该部署一个 web 应用程序防火墙(WAF)。这是因为 [SQL 注入攻击](https://www.neuralegion.com/blog/sql-injection-sqli/) 针对 web 应用程序，可以用来删除或泄露数据库中的数据。如果攻击是从被允许的流量源发起的，数据库防火墙可能无法阻止这种情况的发生。然而，web 应用程序防火墙可能会阻止这种性质的攻击，因为它可以分析应用层的流量并识别恶意查询模式。

### 云备份

数据库备份解决方案可帮助组织在发生用户错误、物理硬件故障、数据损坏或勒索软件攻击时，通过备份数据库副本来保护其数据。通过使用数据库备份工具，组织可以确保他们的信息始终可以访问，即使他们的中央数据库出现故障或遭到破坏。

[云备份服务](https://cloud.netapp.com/netapp-cloud-backup-service-an-easier-way-to-protect-your-data-lp) 允许您在发生灾难或故障时将数据库副本发送到异地的辅助位置进行保管。第三方服务提供商通常托管辅助数据存储系统和服务器。该提供商根据使用的容量或存储空间、用户数量、数据传输带宽、信息访问次数或服务器数量向备份客户收费。

使用云数据备份可以帮助您提高数据保护，而不会让 IT 人员不堪重负。这种节省劳动力的优势非常显著，甚至可以抵消与云备份相关的一些额外成本，包括数据传输成本。

### 安全数据库用户访问

您必须努力将访问数据库的个人数量限制到最低限度。管理员应该只拥有最低限度的特权，即他们执行工作所需的特权，并且只在他们需要访问时才拥有这些特权。

对于小型组织，这可能很难实现，因为员工有多个角色，并且可能只有一两个数据库管理员。但是，您至少应该使用角色或组来管理权限，而不是直接授予访问权限。

如果您有一个大型组织，您必须考虑通过访问管理软件实现自动化访问管理。访问管理软件可以为授权用户提供一个临时密码，并赋予他们每次访问数据库时所需的权限。该软件还记录在此期间进行的活动，并阻止管理员共享他们的密码。

锁定任何形式的密码共享都是至关重要的——这是管理员和数据库用户的一种常见做法，但它使得问责制和有效的数据库安全性几乎不可能实现。

此外，您应该遵循标准的帐户安全程序:

*   强制使用强密码
*   存储、加密和加盐密码散列
*   在三次或四次登录重试后锁定帐户
*   当员工离职或转换到不同职位时，停用帐户

## DevSecOps 和数据库安全

在本文中，我解释了 DevSecOps 和数据库安全性的基础知识，介绍了现代 IT 环境中数据库系统面临的主要威胁，并提供了实现数据库持续安全性的四种方法:

*   **数据屏蔽**—所有现代 RDBMS 系统都提供了数据屏蔽机制，可以降低被入侵帐户的影响。
*   **使用 WAFs 和数据库防火墙**—防火墙为应用层攻击提供出色的运行时保护和可见性。
*   **云备份**—在云中备份数据库是一个持续的过程，可以增强可用性并降低勒索软件攻击的影响。
*   **保护数据库用户访问**—使用最小特权原则可以显著降低数据库的威胁面。

我希望这将有助于您将 DevSecOps 实践扩展到您环境中的关键数据库系统。