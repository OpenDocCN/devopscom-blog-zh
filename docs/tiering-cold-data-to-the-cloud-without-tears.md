# 无缝地将冷数据分层到云中

> 原文：<https://devops.com/tiering-cold-data-to-the-cloud-without-tears/>

云提供了廉价的存储。但是像云中的其他东西一样，也有隐性成本。云存储提供商(CSP)对将数据放入云中以及从云中检索[数据](https://devops.com/?s=data)收费。他们对 API 调用收费，并且当从 CSP 提取数据时，他们通常收取出口成本。因此，为了保持较低的企业存储成本，快照、日志、备份和冷数据等不常访问的数据最适合分层到云。

通过对数据进行分层，本地存储阵列只需保留热数据以及最新的日志和快照。通常，60%到 80%的企业数据已经超过一年没有被访问过。通过对冷数据以及较旧的日志文件和快照进行分层，存储阵列、镜像存储阵列(如果正在使用镜像/复制)和备份存储的容量大幅减少。这就是为什么对冷数据进行分层可以将总体存储成本降低 70%之多。

这种方法的许多优点包括:

*   **降低采购成本。**用于快速访问热数据的闪存存储价格昂贵。通过将不常用的数据分层，您可以购买更少的闪存存储，从而降低购置成本。
*   **降低备份和镜像成本。**通过对冷数据进行连续分层，如果冷数据放在强大的存储中(如主要通信服务提供商提供的存储)，您可以减少备份和复制的占用空间、许可证成本和存储成本。
*   **提高存储阵列的性能并降低其容量。**通过以较低的容量运行存储，并将对冷数据的访问转移到另一个存储设备或服务，您可以提高存储阵列的性能，并使用较小的存储阵列。
*   **支持冷数据处理，而不会加重存储阵列的负担。**处理您的冷数据并将其输入您的 AI/ML/BI 引擎对于保持竞争力至关重要。通过云中的冷数据，您还可以减少存储阵列的负载，从而延长其寿命。

## 先了解，再分层

云分层的一个关键挑战是确定要分层的数据。最终用户不必决定归档哪些数据或处理共享文件的管理。这个问题可能会导致 IT 组织在昂贵的热存储中保存过多的数据。解决这个问题的一种方法是通过业务策略来规定何时以及如何应用流程，从而实现流程的自动化。将数据保存在现有的名称空间中也有助于提供数据的透明性。用户仍然可以找到并访问这些数据，就像这些数据从未分层一样。透明性使 IT 能够跨整个组织中的所有存储设备连续、系统地对冷数据进行分层，而无需最终用户的帮助。

为了[帮助 IT 部门做出正确的决策](https://www.komprise.com/blog/what-you-need-to-know-before-jumping-into-the-cloud-tiering-pool/)，需要通过分析来了解您有多少数据，以及有多少数据在三个月、六个月或一年内没有被动过。如果 It 部门能够运行假设情景来确定他们将通过云分层节省多少成本，那就更有吸引力了。您最不想做的事情就是在黑暗中对数据进行分层。在投资之前，请花时间了解您的数据资产。

在着手实施云分层计划时，除了分析之外，还有其他一些考虑因素:

*   **透明、连续的分层。**分层应该对用户透明。如果有人仍然可以搜索和访问分层的数据，而不改变任何体验，IT 可以在整个企业中系统地对数据进行分层。如果没有透明分层，对数据进行分层将是一个繁重的过程，因为您需要用户权限。
*   **灵活的分层策略。**您需要灵活地排除某些数据集，包括其他数据集，并从大范围的数据年龄中进行选择。请注意，许多分层解决方案提供的策略极其有限。
*   **跨多供应商存储阵列分层。**大多数企业都有来自多家供应商的存储阵列，每个设备都有不同的分层解决方案(如果有)。这使得在整个组织内推行一致的全球分层策略变得非常困难。寻找一个能够涵盖您现在拥有的以及将来可能会购买的所有存储设备的解决方案。
*   **快速访问分层数据。**从云中访问数据将比访问本地存储阵列上的数据产生更高的延迟。但是，一旦检索到冷数据，您可以在本地缓存它，以消除未来的延迟并降低出口成本。如果数据集很大，分层解决方案应该对其进行流式处理，以便用户可以访问它，即使在调用其余数据时也是如此。
*   **对分层数据的本机云访问。**分层解决方案应允许使用云存储本机访问工具直接访问冷数据。例如，如果您将冷数据分层到 AWS S3，您应该能够使用标准的 S3 浏览器(如 CloudBerry)直接从 AWS 访问数据。遗憾的是，大多数存储阵列分层设备以专有格式存储数据，这意味着您只能从源存储阵列访问数据。

云分层是通向云的道路上实用而简单的一步。如果操作得当，它可以让您进入云环境，同时降低存储成本。有新的解决方案可以使这种方法无缝运行，不会中断用户和您现有的数据保护工作流。通过对整个存储生态系统中的数据资产进行分析，并设置冷数据迁移策略，您可以确保从成本和业务角度来看，数据始终位于最佳位置。