# Heroku 日志记录需要克服的五大挑战

> 原文:[https://devo PS . com/the-top-5-challenges-to-over-with-heroku-logging/](https://devops.com/the-top-5-challenges-to-overcome-with-heroku-logging/)

Heroku can be a very powerful tool for monitoring the massive amount of data generated by your applications, systems, APIs and add-ons.

使用[Heroku logging](https://coralogix.com/log-analytics-blog/heroku-logs-the-complete-guide/)时，您可能会发现理解日志文件中的数据非常耗时。当您每天运行大量处理大量数据的应用程序时，日志中出现的庞大数据量可能会让人不知所措。

## 管理海量日志输出

由于要收集的数据量巨大，所以找到使这个过程变得简单一点的方法，将信息限制在有用的范围内，并将你所拥有的信息组织成易于理解的片段是很重要的。

**解析同下水道**

使用 Logplex 和 log drains 可以帮助你过滤掉大块的日志。Syslog drains 将帮助您将任何系统消息移动到另一台服务器进行存档。HTTPS 排水管可以帮助您更好地控制您的系统信息，将其发送给第三方应用程序 进行分析。

通过分配明确的指示符来识别创建日志的应用程序、系统或 API，这些可以流入通道，以便更好地理解它们的给定用途。

**日志保持期**

虽然我们可能认为更多的信息总是好的，但我们能够处理的信息量是有限的。经过一段时间后，一些日志数据变得没有意义或多余。明智的做法是根据业务需求为数据设置切合实际的日志保留期。

**限制详细度**

不记录 一切 。在开发期间，如果有特定的问题需要调查，打开调试是合适的，但是在大多数情况下，这些不应该被存储。

## 流模式的复杂性

大量数据面临的挑战是，成功的活动和反常的行为之间可能存在细微的差异。细节可能很小，除非仔细检查，否则肉眼基本上看不见。

**使用正则表达式识别模式**

通过使用日志分析工具，您可以设置这些工具来挑选指定的正则表达式模式，以反映日志中的细微变化，从而提供有意义的见解。

## 不同的日志数据需求

你可能有不同需求的人希望利用你在 Heroku 日志中获得的信息。虽然您拥有开发人员和 QA 工程师感兴趣的数据，但也有其他精通技术的用户可能希望从大量数据输出中获得商业智能(BI ),以便能够识别关键绩效指标(KPI)。

**分析工具**

使用智能附加分析应用程序有助于将信息过滤和分类成不同角色的用户可以理解的可用块。通过精确过滤，您可以为希望使用特定应用程序或系统行为的人提供智能实时警报。

## 应用问题预测

详细的 Heroku 日志的最佳潜在用途之一是发现过去发生的问题模式，并利用它们预测未来可能发生的问题 。

作为一名专家，你也许能够发现日志中的模式，但是，即使是最聪明、最专注的工程师也无法手动定义每一个值得检测的场景。

偶尔会出现一些模式，这些模式只能通过比较和对比工作行为和非工作行为的机械过程才能发现。通常，细微之处对于人类来说太小而不能注意到差异。

**机器学习辅助**

自然地，利用人工智能技术可以帮助捕捉未知。通过投资 ML，使用一些更好的库或者选择一个具有这些功能的 Heroku 日志插件，您可以更轻松地监控您的应用程序和基础设施。

## 保护敏感数据

随着 CI/CD 的快速发展，大量的活动从开发到生产定期流经您的管道。在整个过程中，敏感数据可能会出现在日志中。虽然您的团队可能很努力地保持对 OAuth 凭证、安全密钥、认证令牌等的控制，但是没有人是完美的。敏感的安全凭证可能会意外地进入生产服务器。如果出现错误，敏感的客户数据也可能意外地进入公共日志。

证件检测和安全警报

日志可以作为识别敏感信息的保存点。使用解析引擎，可以立即对这些内容进行编辑，以便进行合规的日志管理。通过监视日志文件中可能包含密钥或其他潜在安全漏洞的任何模式，您将能够继续接收关键日志数据，而不会增加业务风险。

**英雄私人空间**

使用 Heroku Enterprise，您可以使用 Heroku Private Spaces，这是一个由私人应用程序和数据服务组成的独立网络，有助于您将敏感数据与公共干扰隔离开来。如果您正在处理大量敏感的客户数据，确保任何信息都被过滤到这些地方将有助于您遵守 GDPR 和其他隐私相关法规。

## 结论

Heroku 是监控您的云集群活动的绝佳解决方案。然而，除非你有可靠的分析工具，否则你可能会发现自己花了很多时间考虑如何利用这些收集到的海量数据。考虑使用加载项作为分析图层来帮助发现模式、更好地组织数据并创建智能警报，以确保您的操作继续平稳运行。