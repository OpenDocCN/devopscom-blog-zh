# 云迁移监控:实用指南

> 原文：<https://devops.com/cloud-migration-monitoring-a-practical-guide/>

几乎每个组织都将一些运营系统[过渡到了云](https://devops.com/category/blogs/devops-in-the-cloud/)。DevOps 专业人员是迁移项目的重要组成部分，他们促进迁移本身，并确保应用程序按预期工作，并在迁移后提供令人满意的性能。

为了让您的下一次云迁移成功，您必须进行正确的监控。必须在迁移的每个阶段监控应用程序，包括应用程序仍在本地运行时、迁移期间以及新工作负载在云中运行时。

在本文中，我们将解释迁移期间要跟踪的关键指标、迁移周期每个阶段的监控注意事项，以及主要云提供商提供的可帮助您监控迁移的免费工具。

## 云迁移期间要监控什么

云迁移过程涉及许多组件。云迁移有几种方法—每种迁移都是独特的，可能需要设置不同的指标。然而，在监控您的云迁移流程时，有几个方面可以被认为是强制性的:

*   **跟踪应用流量。**跟踪应用流量可以帮助您验证应用配置是否定义正确，以及整个应用的可用性。您应该确保所有请求都到达新服务器，并注意错误率。此外，注意响应时间，以确保您的应用程序没有超过计划的阈值。
*   跟踪你的成本。跟踪成本可以帮助你确保不会遭受意外损失。大多数组织迁移到云以降低成本。但是，云资源的不正确实施可能会导致损失。您可以通过利用 AWS Billing 等第三方云工具来了解您的成本，这些工具原生集成到管道中，监控成本，并在定制的仪表板中显示可视化数据。您也可以使用这些工具来设置警报。
*   **监控应用安全。**应用安全监控可帮助您在迁移过程中和迁移后识别安全漏洞和事件。您应该监控基础设施配置，例如内部流量、主机开放端口和主动访问不同服务的实例进程。此外，注意每秒的 API 命中数，这可能表示分布式拒绝服务(DDoS)攻击。

## 监测迁移生命周期的各个方面

云服务提供商通常确定迁移过程的三个主要阶段，即计划、迁移和运行阶段。

### 计划阶段

规划阶段帮助您在迁移之前评估应用程序的性能水平。目标是深入了解工作负载在迁移前的运行方式，以及用户体验的当前状态。这些数据可以用来建立性能基准和基线。

性能基准，如错误率、页面加载时间和缓慢的事务，可以帮助您设置配置警报，以跟踪云迁移过程中的中断。然后，您可以快速诊断情况并应用修复程序，以确保迁移期间和之后的应用程序健康。

以下几个问题可以在计划阶段对你有所帮助:

1.  什么是应用基线？
2.  迁移过程将如何影响用户体验？
3.  迁移过程中预期会有哪些潜在的技术挑战？
4.  公司网络能否支持额外的带宽需求？
5.  开始迁移过程需要哪些步骤？

### 迁移阶段

迁移阶段包括将组件从一个位置安全地移动到另一个位置所需的所有过程。在此过程中，您应该持续监控性能，以确保用户体验保持在预先设定的基准范围内。然而，迁移到云意味着您不再能够控制所有的配置。

为了确保迁移过程中应用程序的性能和稳定性，您需要识别潜在的障碍和问题，并持续监控和验证该过程。您应该测试应用程序响应时间和调用计数等关键方面，并快速解决问题。

### 运行阶段

迁移过程完成后，运行阶段立即开始。在迁移后阶段，您需要建立主动监控流程。目标是确保您的应用程序在云中运行良好；使用预期的资源并且不产生开销。

在监控您的应用程序时，跟踪服务级别协议(SLA ),以确保云供应商满足商定的要求。您还应该监视变化，并检查可能导致问题的各个变量。

此外，您应该确保应用程序之间的所有连接在迁移后都得到维护。

## 免费的云迁移监控工具

三大云提供商——亚马逊、微软 Azure 和谷歌云——提供工具来帮助自动化迁移到他们的云，并协助监控的关键方面。这些工具是免费提供的，因为允许简单、无摩擦的迁移符合云提供商的最大利益。

下表总结了每个云提供商提供的迁移监控功能。

| **云提供商工具** | **它有助于监控什么** |
| [AWS 迁移服务](https://aws.amazon.com/dms/)帮助自动迁移依赖数据库的应用程序。 | 

*   Continuous monitoring of source and target databases
*   Can restart the failed migration.
*   Supervise continuous data replication.
*   and [First-party AWS monitoring tool](https://cloud.netapp.com/blog/aws-blg-aws-monitoring-tools-and-best-practices-monitor-what-matters)

集成 |
| [Azure 迁移工具](https://azure.microsoft.com/en-us/services/azure-migrate/)提供一个迁移中心，让组织管理大型迁移项目。 | 

*   Track the migration process and current status of server and database migration.
*   Allow external tools to integrate and track migration.
*   Report compliance aspects of migration

 |
| [迁移为谷歌计算引擎](https://cloud.google.com/migrate/compute-engine/)该工具以前称为 Velostrata，可自动迁移内部系统，并在出现错误时自动回滚。 | 

*   Verify the migration compatibility of the workload
*   Continuous monitoring of streaming data transmission
*   The migration to the local system can be rolled back in the event of an error.

 |

监控对于成功的云迁移至关重要，在云迁移的每个阶段都使用监控非常重要:

*   在规划阶段，在将应用程序迁移到云之前，建立应用程序性能基线。
*   在迁移阶段，仔细监控应用程序行为并解决问题。
*   在运行阶段，验证应用程序是否按预期执行并符合 SLA。

我希望这将对您计划和执行下一个云迁移项目有所帮助。