# sre 如何受益于特性标志

> 原文:[https://devops.com/how-sres-benefit-from-feature-flags/](https://devops.com/how-sres-benefit-from-feature-flags/)

当您想到谁会使用特性标志时，您最可能想到的是软件开发人员。一般来说，特征标志与软件工程密切相关。

但是现场可靠性工程师(SREs)也能从中受益。SREs 可能不是创建特性标志的人，但他们应该与开发人员密切合作，确保他们团队支持的应用程序包含特性标志。

下面是为什么特性标志有利于 sre，以及 sre 可以做些什么来确保他们的组织充分利用它们。

## 什么是特征标志？

功能标志——有时也称为功能切换——是软件工程中的一种技术，它允许开发人员在应用程序运行时打开或关闭特定的功能。换句话说，当应用程序被部署到生产环境中时，它们允许您控制应用程序中可用的特性。

功能标志可以通过这样的方式进行配置，即它们允许为特定用户组而不是整个最终用户组打开或关闭功能。例如，如果您想为同意测试新功能的用户打开一个试验性的新功能，而不将该功能暴露给一般用户群，那么这是非常有用的。

通常，开发人员和 sre 使用特性标志来手动打开和关闭特性。但是您可以通过编写一个脚本来自动化这个过程，如果您的可观察性工具确定某个特性给用户带来了问题，这个脚本会自动关闭这个特性。

## 为什么开发者喜欢它们

特性标志在开发人员中受欢迎的主要原因是，它们使实现和试验新特性变得容易，同时保持开发流程简单。

如果没有它们，开发人员每次想要实现新特性时，都必须创建新的应用程序版本。如果该版本中的任何特性导致了问题，他们必须从代码中删除这些特性或修复有缺陷的特性，然后部署新的版本。这种方法是乏味的，它使团队倾向于延迟发布和应用程序回滚。

但是有了特性标志，开发人员可以不断地向应用程序添加新特性，而不用担心这些特性中的错误会导致回滚或延迟发布。如果一个特性有问题，开发人员可以简单地使用特性标志将其关闭，而不必发布新的版本。

## sre 如何受益

不仅仅是开发人员的生活变得更容易了——sre 也可以利用特性标志来支持 [核心 SRE 目标](https://rootly.com/blog/what-is-an-sre) :最大化可靠性。

这是因为特性标志最小化了与快速移动的软件开发管道相关的风险。它们允许团队尝试新的应用程序功能——如果他们想不断推出应用程序增强来取悦用户，这是很重要的——同时提供了一种针对有缺陷的功能实现的保护措施。

例如，假设您是一名 SRE，您发现您支持的应用程序的最新版本存在严重的延迟问题，原因是该应用程序中的新网络功能存在问题。如果该功能是通过功能标志控制的，只需将其关闭，就可以非常快速地修复问题。您不必等待开发人员修复底层代码问题，然后才能为您的用户解决问题。

## 限制

当然，这并不意味着特性标志是解决可靠性问题的灵丹妙药。

如果可靠性问题的根本原因在于您的基础设施而不是您的软件，他们将不会帮助您。举例来说，如果一个应用程序因为你 [错误配置了你的 Kubernetes 集群](https://rootly.com/blog/how-kubernetes-can-both-help-and-hinder-incident-management-teams) 或者你耗尽了服务器容量而崩溃，你不能简单地用一个特性标志来解决问题。

还要注意，特性标志只能应用于特定的特性。换句话说，他们只能控制应用程序的功能，前提是开发人员在发布应用程序之前有意创建一个应用程序来控制该功能。如果您发现了一个不受功能标记管理的 bug，修复该问题的唯一方法是重新部署应用程序(或微服务，如果问题仅限于一个微服务)。

## SREs 如何鼓励使用特征标志

作为一个 SRE，你很可能不能直接控制软件开发过程。因此，您需要与开发人员合作，确保他们将特性标志构建到他们的应用程序中。

这样做很简单。从教育开发人员开始，确保他们了解好处。也要确定哪些特性最有可能产生可靠性问题，这样开发人员就可以优先为它们创建特性标志。并考虑将它们纳入您的事件响应行动手册，这将确保事件响应团队记住尽可能利用它们来快速补救问题。