# GraphQL APIs 的图形 CDN

> 原文：<https://devops.com/graph-cdn-for-graphql-apis/>

艾伦·希梅尔与来自 graph CDN(T2 graph QL API 的 CDN)的马克斯·斯托伊伯交谈。GraphCDN 现在对每个人都可用，为您的 GraphQL APIs 提供边缘缓存、查询分析、错误跟踪和防止恶意查询。下面是一段视频，后面是对话的文字记录。

[https://player.vimeo.com/video/571778326](https://player.vimeo.com/video/571778326)

播音员:这是数字无政府主义者。

艾伦·希梅尔:嗨，大家好。感谢您加入我们另一个科技强的电视节目。这一部分的嘉宾是马克斯·斯托伊伯——如果我念错了，马克斯，我道歉。我尽力了，但你为什么不正确地说？

麦克斯·斯托伊伯:斯托伊伯，但这并不重要。我真的很兴奋能来到这里——谢谢你邀请我。

Shimel:哦，我们很荣幸邀请到你。但是你知道吗，名字很重要，对吗？我妈妈教我的，在某个地方，你的妈妈或爸爸或两者，他们的名字，他们也应该有正确的发音。

不管怎样，麦克斯，谢谢你加入我们。也许比你的名字更重要的是你公司的名字，所以你为什么不开始与我们的观众分享呢？

斯托伊伯:当然。所以，我是 GraphCDN 的联合创始人，我们最近刚刚宣布，现在每个人都可以公开使用它。所以，这也是我来这里的原因，告诉你们一些关于那段旅程以及我们是如何到达这里的。

希梅尔:当然。所以，graph cdn——我的意思是，我们已经看到了这么多来自图形数据库和图形数据的新闻，它确实给了我们一种新的看待方式，我想这是自然的一部分，对吧？随着我们的发展，事情变得越来越复杂，越来越大，所以你需要新的技术来帮助你抓住它。当然，图形技术是一个真正的后起之秀，如果你愿意的话，在帮助我们理解这些东西方面。

所以，你知道，为什么我们不从一点背景开始呢？比如，公司是做什么的，你在解决什么问题——诸如此类的事情。

斯托伊伯:当然。所以，GraphCDN 是 GraphQL CDN。GraphQL 是一项技术，如果你不熟悉的话，是由脸书在 2014 年发明的，可能是 2015 年。有一段时间了。他们使用它——它基本上就像一个 API 框架，让人们构建非常强类型的 API，以便在他们的服务器和客户端之间进行通信。脸书发明了它，并且开源了它。许多其他公司也开始采用它，因为它对开发者来说感觉非常好。

因此，我们提供，类似于其他 cdn 如何为网站提供功能，使它们更快，更安全，快速云，我们为 GraphQL APIs 做同样的事情。我们为每个人都这样做，不仅仅是脸书内部拥有这样的技术，当然，我们也为脸书以外的所有其他公司这样做，他们真的没有时间自己开发所有这些技术。

我们之所以走到这一步，是因为当我们建立最后一个状态时，我和我的联合创始人 Tim 正在使用 GraphQL，我们遇到了巨大的扩展问题。我们在疯狂增长，但是我们不能仅仅缓存我们的 GraphQL API，例如，因为现有的 cdn 都不支持 GraphQL。他们不能缓存通过它的任何数据。

因此，我们努力解决这个问题，我们在过去的公司内部建立了糟糕的解决方案，试图尽我们所能解决这个问题。然后现在，我们聚在一起，我们说，“嘿，我们只是要解决这个问题，”对不对？原谅我的语言，没有人这样做几乎是愚蠢的，因为这是如此明显的需要。

所以，我们坐下来，结果发现这很难解决，这就是为什么我们花了一段时间，但我们终于做到了，现在我们有了 GraphCDN，它为拥有 GraphQL APIs 的人做了很多事情。我想说，这是大概的概述。

希梅尔:当然。马克斯，你知道吗，你在这里和那里提到了一点点，但是让我们谈谈你的背景和你的历史。

斯托伊伯:当然。所以，我可以说，我是工程界最出名的人，因为我发明了一堆开源项目，尤其是在前端 web 开发领域。这个星球上大约 1%到 1.5%的网站是由我发明的技术驱动的，主要是由风格化组件驱动的，这是最大的一个。

因此，我已经积累了一大群工程师、设计师和其他技术人员追随我的开源工作。然后，我之前和两个来自加州的朋友共同创办了一家初创公司，我们在那里建立了一种现代论坛，在某种程度上，有点像 WhatsApp 和传统的混合，你知道，过去我们经常在那里闲逛和交朋友。

后来被 GitHub 收购，变成了 GitHub 讨论，这样 GitHub 上的工程师就可以出去玩了。然后我在另一家初创公司 GatsbyJS 工作了一段时间，该公司正在构建一个 JavaScript 框架，或者仍在构建一个 JavaScript 框架，今年年初我离开了该公司，专注于 GraphCDN，并与 Tim 一起真正构建这个框架。这就是我的背景。

Shimel:非常酷，祝贺你。非常非常令人印象深刻。

斯托伊伯:谢谢你。

希梅尔:谢谢你。你知道，看，我和足够多的工程师和软件开发人员一起工作过，知道没有什么是真正完成的，对吗？我们总有更多可以做的，对吧？为什么是现在，为什么是秘密出现，如果你愿意的话，你知道，为什么是现在？

斯托伊伯:这是个很好的问题。这很有趣，因为我们内部对此争论了很长时间，因为我们觉得我们在两三个月前就做好了 GA 准备，对吗？我们有一些基本的功能，我们认为我们可以满足共同的需求，几乎所有我们想要满足的共同需求。我们已经为人们做好了准备，但 GraphCDN 也是关键的基础设施，因为它是一个 CDN。如果我们倒下了，我们的顾客也倒下了。我们非常认真地对待这一责任。

现在，我们基于 Fastly 的边缘计算技术。因此，GraphCDN 的基础架构实际上非常稳固。但是我们想确保我们的基础设施尽可能的坚固。因此，我们逐渐加入了早期接入客户，包括澳大利亚最大的橄榄球网站和其他一些网站，以确保我们的基础设施能够真正处理负载。在过去的两三个月里，我们证明了这一点，然后我们说，“好的，我们对我们的系统充满信心，我们已经发现了所有我们以前在 GA 中会发现的错误。”当然，你永远也找不到全部。那将是——我认为任何这样说的工程师都在撒谎。但是我们找到了其中的大部分，那些真正重要的，然后我们说，“好吧，这已经足够好了，让我们让人们注册并真正把它送到人们手中。”

Shimel:太好了。让我们来谈谈公司的模式。我的意思是，以你的开源背景，我会假设，有开源图吗？

斯托伊伯:实际上没有。

Shimel:没有？

斯托伊伯:它的开源部分是 GraphQL 部分，脸书开源的框架。但是我们的基础设施是完全专有的。实际上，有两种思想流派，对吗？像 Sentry 这样的公司在开源中做所有的核心工作，然后在上面提供托管或其他服务。我认为这种模式可以很好地工作，但对我们来说，因为我们是关键的基础设施，我们知道我们需要在人们的关键路径上，我们知道我们需要可靠，这需要一个团队，对吗？你不可能一边运行它，一边让它在后台运行而不担心它。需要维护。需要有人 24/7 待命坐在那里，注意这个东西保持运行，只是为了确保不出任何差错。

因此，开源并不适合这样做，因为老实说，我们将全天候坐在那里，确保我们的基础设施保持运行，没有任何停机时间。所以，我们没有开源，而是——我们有一个非常慷慨的收费计划，但是除此之外，信不信由你，人们为我们提供的东西付费。当然，这听起来很荒谬，因为这就是商业所做的，但是作为一个开源开发者，这对我来说实际上没有你想象的那么自然。但我不得不说，这感觉很好。我们非常感谢我们的客户帮助他们扩展和保护他们的 GraphQL APIs。到目前为止，在过去的几个月里，我们已经有了客户，每个人都非常高兴他们有我们，当然，从我们这方面来看，这是非常令人满意的。

希梅尔:同意，同意。当你说 GA 时，我假设 GA，人们现在就可以购买和使用它。

斯托伊伯:正确。绝对的。

Shimel:但是有免费试用吗，有吗—

斯托伊贝尔:是的。

Shimel:你知道，因为你知道现在软件是如何被消费的，对吗？你得把它送到人们手里，给他们带来快乐，对吧？

斯托伊伯:当然。

Shimel:如果好，而且他们喜欢，他们就会买。

斯托伊伯:当然。这正是我们遵循的模式。我想说，我们有一个非常慷慨的免费计划。你可以免费使用我们，我想，每个月有 5，000，000 次请求，我们意识到，这涵盖了许多早期创业公司，甚至可能超过我们的预期。据我们所知，这绝对是一个非常慷慨的免费计划，这是一件好事，因为我们希望提供这种价值，特别是对那些成长中的公司。最终，当他们达到超过 5，000，000 个请求的规模时，每 1，000，000 个请求的成本开始为 10.00 美元。所以，价格会随着你的使用情况而变化。

从理论上来说，你可以向我们发送任意多的请求，因为我们基于 Fastly，他们处理大量的流量，我并不担心无法处理规模。我们做到了——这真的很有趣，在我们发布并宣布现在每个人都可以使用它之后，当然，人们注册了，然后突然开始将这个东西部署到生产中，我们的流量一夜之间就增长了 10 倍，我们甚至没有注意到。就像，我们只是看着我们的图表，就像，我们第二天早上醒来，我们看着我们的图表，看着我们的内部仪表板，我们意识到，“嘿，一个网站只是让我们一夜之间，10 倍于我们的流量，我们甚至没有意识到，”对不对？他们只是——他们只是说，“是的，这个有用，我们会用它——非常好。”这种情况一直在发生，非常非常有趣。我很喜欢，我不得不说。

希梅尔:你知道，这是——所以，我从 96 年、95 年开始从事互联网业务，这确实是互联网的一个显著特点，人们，你知道，如果你把你的商店放在那里，你把自己放在那里，人们就会过来。他们可能来自任何地方，不管他们是来自澳大利亚、日本、韩国，你知道，阿姆斯特丹、伦敦，还是隔壁，都没什么区别，他们在互联网上。突然——嘣，你知道，它亮了，就像，“我的天哪，你知道吗？我们希望这样，但是谁”——你知道，你永远不知道。太棒了。

那么，接下来有什么计划？你们宣布筹款了吗，正在进行中吗，或者——你知道，继续旅程在哪里？

斯托伊伯:几个月前，我们从一些知名的业内人士那里筹集了一轮资金，其中大部分是我们的朋友，比如 Versel 的首席执行官 Guillaume _ _ _ _ _ _ _ _Tom Preston-Warner，GitHub 的创始人之一；Jason Warner，GitHub 现任 CTO。我们在业界认识的一群朋友也很喜欢 GraphQL，他们知道 graph QL 是关于什么的，他们很快就明白了我们在做什么。

因此，我们筹集了足够的资金来维持我们几年，现在我们要用这笔资金来建立一个小团队来帮助我们维持这一点，因为现在，只有我和蒂姆——或者说过去几个月一直只有我和蒂姆，现在我们开始雇用并加入第一批人来帮助我们真正将这一点提高到一个新的水平。因为这是一项很大的工作。[笑声]

希梅尔:对，我知道，对。

斯托伊伯:打造一个伟大的产品需要做很多工作。

Shimel:嗯，你知道他们说什么，Max，如果很简单，每个人都会做的。

斯托伊伯:完全正确。[笑声]当然。

希梅尔:但这是有趣的工作，对吗？有些人是为了生活而工作，有些人是热爱自己的工作。

斯托伊伯:对，绝对是。

Shimel:你知道我们没有做什么吗，Max，我们从来没有给任何人，比如网址，他们可以从哪里获得更多信息，他们可以从哪里下载？他们能去哪里？

斯托伊伯:网址和主页在 GraphCDN.io，和其他网站一样，它有一个巨大的注册按钮，你可以点击它，然后你会被重定向到 GitHub，你可以注册并试用它。你甚至不需要 GraphQL API，我们有这种流程，我们会给你一个演示 API，这样你就可以感受一下它是做什么的，它是如何工作的。所以，是的，去 GraphCDN.io 试试吧。

Shimel:听起来是个计划。嘿，伙计，你得回来告诉我们这里的进展，好吗？

斯托伊伯:我绝对会这么做。非常感谢你邀请我。

Shimel:哦，这是我们的荣幸。马克斯·斯托伊伯，GraphCDN 的联合创始人，在 graph cdn . io——对吧，马克斯？

斯托伊伯:就是这样。就是那个。

希梅尔:对。去看看。似乎很酷。我是科技强台的艾伦·希梅尔，我们要休息一下，马上回来，我们的下一位嘉宾。

[End of Audio]