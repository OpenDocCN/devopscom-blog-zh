# 用开源光盘构建高质量的软件

> 原文:[https://devo PS . com/building-higher-quality-software-with-open-source-CD/](https://devops.com/building-higher-quality-software-with-open-source-cd/)

[业务加速](https://www.gartner.com/en/information-technology/insights/top-technology-trends) ， [体验](https://www.forbes.com/sites/forbescommunicationscouncil/2022/03/03/three-imperatives-to-face-the-new-experience-economy/?sh=7029c3f85652)——对客户、合作伙伴和员工来说——就是一切。这意味着几乎所有应用程序都需要在更短的周期内增加新功能、安全更新和漏洞修复。但是，将新代码匆忙投入生产，尤其是在云环境中，难道不是导致错误、安全漏洞和用户沮丧的原因吗？如果采取正确的方法就不会。

[连续交付](https://devops.com/?s=continuous+delivery) (CD)使开发团队能够快速、定期地将软件更新部署到生产系统中，而不会危及用户体验或产生安全风险。经过实战考验的开源 CD 编排解决方案(包括 Spinnaker 和 Argo)提供了一种经济高效的方式，可以向多云和 Kubernetes 环境大规模交付安全、高质量的软件。

### 什么是连续交付(CD)？

大多数软件开发团队都饱受质量问题的困扰，这些问题与停机、追踪 bug 和安全漏洞、复杂的升级、版本回滚等等有关。根据 [信息联盟 2020 年的一份报告&软件质量(CISQ)](https://www.it-cisq.org/cost-of-poor-software-quality-in-the-us/index.htm)随着公司急于以更快的速度增加更多的价值，软件质量受到影响。2020 年，仅在美国，公司的成本就高达 2.08 万亿美元。

CD 依赖于一个利益相关者协作、过程自动化以及持续和严格的风险评估和反馈的框架，以确保高质量代码的平稳、大容量流动被部署到生产系统。如果处理得当，CD 通过使开发团队能够安全、快速和可持续地将诸如新特性、配置、错误修复甚至实验之类的变更部署到生产中来降低软件开发风险。它还降低了与软件部署、失败的发布以及客户失望和流失相关的成本。

有了有效的 CD 工作流程，开发团队就有了信心和更高的工作效率，更快地交付更好的产品，同时消除了错过发布日期的挫折感、管理层的愤怒以及与软件缺陷和漏洞相关的指责游戏。

### 开源 CD 解决方案

在开源 CD 解决方案兴起之前，公司通常依赖于使用脚本的点自动化。这些可以提高一点效率，但是当公司从大型机或内部服务器的整体架构转移到基于微服务的生产环境时，脚本不容易适应或扩展以应对更复杂的环境。这导致了持续交付编排解决方案的形成，该解决方案可以确保代码更新以可重复的、有序的方式流向它们的目的地。

出现了两个非常流行的开源 CD 解决方案，Spinnaker 和 Argo。Spinnaker 由网飞开发，并由谷歌、微软和 Pivotal 扩展。它于 2015 年在 GitHub 上发布。Spinnaker 为应用程序交付创建了一条“铺设好的道路”,通过护栏确保只有有效的基础设施和配置才能进入生产环境。它促进了代表软件交付过程的管道的创建。这些管道可以以多种方式触发，包括在 Jenkins 作业或其他管道和其他方法完成时，通过 cron 表达式手动触发。Spinnaker 还提供集群管理，以及对应用程序云足迹的可见性，允许用户调整大小、删除、禁用，甚至使用蓝绿色部署等策略手动部署新的服务器组。

Argo CD 是 Kubernetes 的一个容器原生部署引擎，它支持 CD 管道，支持在 Kubernetes 中自动部署应用程序。Argo CD 于 2018 年推出，利用 Argo GitOps 引擎，这是一个实现核心 GitOps 功能的开源库。它允许用户使用 Git 作为事实的来源来管理、自动化和审计软件部署。Argo CD 的功能包括漂移检测、应用程序资源的健康分析和应用程序活动的实时视图。

作为开源软件，这两种解决方案都提供了开源模式提供的所有好处，包括低启动成本、快速和持续的创新以及必要时的付费支持。

### CD 自动化的成功案例

Symphony 为受到高度监管并为数百万客户提供服务的金融机构提供了一个基于云的协作平台，因此该解决方案必须满足严格的安全性和法规遵从性标准。该公司希望支持多租户系统，以提高性能并降低每个客户的运营成本。然而，现有的软件交付系统在集成测试、长的分类时间和手工将发布移交给站点可靠性工程( [SRE](https://devops.com/?s=SRE) )方面造成了瓶颈。交付管道和软件交付环境数量的不断增长也增加了基础设施成本和人力资源的负担，使得更快地交付功能和确保大规模合规性变得困难。

Symphony 确定它需要一个全新的 CD 解决方案来支持基础架构和软件交付工作流，以便将其改造到现有平台中。该解决方案需要支持基础设施即代码、管道即代码和配置即代码，同时提供可见性、可审计性和更快的审批流程。Symphony 选择了一个 CD 解决方案，该解决方案利用 Spinnaker 和 Argo 的力量来自动化整个端到端 CD 流程，包括基础架构、部署、测试和推广到生产部署的管道。借助该解决方案，Symphony 能够将部署新环境所需的时间削减 98%，只需 10 分钟即可为客户准备好基础设施和平台。这也允许快速和频繁的变化。

有了自动化 CD，该公司通过自动化实现了显著的成本优化。它还能够通过自动策略检查来提高安全性和合规性，自动策略检查可以在每个管道的各个阶段持续强制实施合规性，而不会影响交付速度。

### 入门指南

当您审查潜在的 CD 解决方案时，请确保它们能够提供所需的以下水平:

*   易于设置和配置
*   可见性和协作
*   DevOps 工具集成和可扩展性
*   内置部署环境支持
*   安全和治理
*   工作流灵活性
*   性能、正常运行时间和可扩展性

### 获得专家评估

虽然 CD 解决方案的好处是巨大的，但是部署一个也不是小事。第一次就做出正确的选择是值得的。对您现有环境和流程的专业评估可以在几个方面为您提供帮助，包括:

*   暴露您当前的孤岛
*   识别软件交付过程中可以自动化的瓶颈
*   为交付过程中的每个人确定生产力提高的机会
*   为您提供对 CD 解决方案做出明智决策所需的洞察力。
*   提供关于最佳实践的建议，这些建议可以超越部署流程，提高效率和质量

如果您的公司需要快速交付安全、高质量的软件版本，那么现在就是部署持续交付解决方案的时候了。