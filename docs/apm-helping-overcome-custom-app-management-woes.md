# APM:帮助克服定制应用管理困境

> 原文：<https://devops.com/apm-helping-overcome-custom-app-management-woes/>

***在任何经济环境下，每个部署定制应用的企业都需要评估其 APM 需求，以保护其业务***

定制应用程序有许多用例，但它们被部署的原因只有一个:现成的东西不能满足它。

当我们推出一种新的[数字业务](https://devops.com/?s=digital%20business)时，或者如果操作对于现有的商业应用程序来说过于复杂，我们至少需要一个定制应用程序。无论是什么商业模式——无论是初创的食品配送服务、在线购物应用，还是旨在管理复杂企业供应链的应用，我们都需要定制应用。随着定制应用部署的爆炸式增长，这种需求只会随着时间的推移而加速。

但管理定制应用程序会带来复杂性，甚至在疫情加剧这些复杂性之前。定制应用是在最新架构之上编写的。在过去，应用程序代码是一个整体。现代应用程序是由动态链接在一起的服务构建而成的，这些服务是由一系列小的连锁部分组成的，这些部分中的每一个都比以前的单一应用程序负责的少得多。

与应用程序和基础设施之间简单的一对一关系相反，从交互的角度来看，现代应用程序及其支持环境呈现出分层和细微的安排。

现代应用程序(及其支持基础设施)从未停止动态变化。服务不断变化和重新配置。它们在机器人的控制下被移动和重新部署，就像许多乐高积木一样。最终，这些操作会增加数百、数千甚至数百万个可单独执行的代码元素。需要明确的是，定制应用在离开产品很长时间后仍会继续发展。这是一个永恒的展示。

它运行时非常棒—快速实现价值，易于构建和部署。但是，由于复杂性、异质性和动态性的增加，当出现问题时，可能会很可怕。当你在家工作时，整个操作必须由你来管理。

## 2 新冠肺炎带来的情景

定制应用程序通常必须高度可用。它们必须提供引人入胜的用户体验，从而转化为端到端的应用性能，即使需求不可预测。业绩不佳的负面后果包括收入、市场份额、客户的损失以及公司市场声誉的下降。

由于新冠肺炎时代的到来，许多新的情况正在发生。

这里有两个突出的例子:

***新冠肺炎加速不可预测的需求***

从性能的角度来看，目前最大的挑战是不可预测的需求。应用程序对事务性工作的不可预测的需求导致了瓶颈。反过来，瓶颈会导致速度变慢或停机。

此外，一些在此次危机前不被认为是业务关键型的应用程序，现在甚至比几个月前重要得多。旨在帮助企业继续发展的软件(如视频会议软件)的创造者正面临巨大需求。虽然体验成功很好，但当峰值出乎意料时也会很混乱。

不可预测的需求导致经济放缓。将团队聚集在一起并弄清楚为什么客户会报告“你的网站很慢”或“有些东西不工作”并不容易您的远程 web 应用程序支持团队(可能是创收网站的电子商务支持团队)不知道如何根据问题的一般描述开始解决这些问题。

与此同时，其他曾经有需求的应用程序，比如旅游网站，几乎处于闲置状态。这些公司的员工可能会忙得团团转，不知道这种新模式会持续多久。最终，有人需要削减成本。

***新冠肺炎让你削减成本***

全球经济遭受了巨大的打击。我已经经历过三次这种趋势:当经济下滑时，公司削减成本——他们倾向于用斧头，而不是手术刀。

如果你有一个旅游网站，需求就会下降。你怎么知道在哪里削减成本？您如何准确确定需要多少基础设施资源来支持减少的需求？你能安全地回拨亚马逊或 Azure 等云资源的订阅吗？

## 利用 APM 管理危机

为了在这些时候进行管理，你必须衡量你必须管理什么。您需要应用性能管理(APM)，这是一种[级别的监控](https://en.wikipedia.org/wiki/Application_performance_management)，重点关注应用本身、应用用户以及支持应用的完整基础架构堆栈的性能。

***APM 监听着不可预知的***

APM 关注应用可用性(是否启动)、性能(响应时间和延迟)、吞吐量(每秒调用或每秒事务)以及应用事务的错误率。它完全了解所有支持基础架构，无论是内部、混合还是完全公共云。

如果您的站点“运行缓慢”，您可以使用 APM 来发现这个问题是影响了全世界的每个人还是只影响了特定的地理区域。

APM 的综合事务检查允许您从 web 应用程序用户的角度查看 web 应用程序的事务性能和可用性。APM 的代码分析和事务跟踪允许全面了解应用程序本身所有元素的性能、组成应用程序的服务以及它们如何相互关联以竞争底层基础架构资源。最后，APM 的日志管理支持将与应用和基础设施相关的事件和问题与端到端应用性能相结合。总之，这提供了性能和可用性的全面情况—从最终用户一直到基础架构、应用程序和服务的所有元素，再到特定的代码行。

***用 APM 保持性价比***

APM 的采购和维护成本应该不高。它不应该消耗宝贵的开发人员资源来在生产中实现和维护。

第一代 APM 工具价格昂贵且难以使用，在应用程序开发过程中需要特定的应用程序开发人员的专业知识和参与。因此，公司只为那些对降低管理复杂性、降低与低可用性或低性能相关的风险和成本非常重要的应用保留 APM。幸运的是，大多数高价供应商已经过渡到现代架构，现在是纯粹的 SaaS。

下一代 APM 并不难。也不一定贵。它还通过保护和增强公司的在线业务成果(包括在线收入、客户满意度、市场份额和公司声誉)来保护收入。

如果您有一个 CI/CD 流程，通过它您总是将新的版本推向生产，APM 工具应该能够有所帮助。它应该能够在部署新版本时自动适应它们，而不需要任何手动重新配置。如果您正在使用金丝雀或蓝/绿部署流程，APM 工具还应该为您提供决定是否继续每个版本(或回滚)所需的关键信息。

如果您的站点需求下降，APM 可以精确地确定需要多少基础架构资源来支持您下降的需求，允许您通过回拨 Amazon 或 Azure 的云资源订阅来安全地取消供应并节省资金。APM 带来节约。

## APM 入门

在部署 APM 之前，清点您的所有应用。根据我的经验，公司经常把他们的应用分成两层或者三层。

对于一线应用来说，钱不是问题。他们必须检测应用程序，因为这是他们的事。如果你是一个金融网站，85%的收入与你的在线退休信息系统有关，那么它就是至关重要的。您将检测该应用程序的每个方面。你别无选择。

与此同时，由于危机，二级应用可能变得至关重要。或者，由于 APM 在成本和复杂性方面的声誉，这些应用程序还没有被插装。现在，它的复杂性门槛和成本已经大大降低，是时候装备这些应用程序了。

由于 COVID，您的业务模式可能会面临全新的风险，这使得今天成为重新评估哪些对您的业务新变得重要，哪些不重要的绝佳时机。

我们正处于一个转折点，每个部署定制应用的企业都需要评估他们的 APM 需求，以保护他们的业务，无论他们是否受到这场危机的负面或正面影响。是时候检测您的应用程序，停止盲目运行了。