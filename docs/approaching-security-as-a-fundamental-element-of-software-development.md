# 将安全性视为软件开发的基本要素

> 原文：<https://devops.com/approaching-security-as-a-fundamental-element-of-software-development/>

我们如何真正将安全性集成到 SDLC 中？围绕安全软件有哪些最佳实践？

在 TechStrong TV 的这一集里，合规总监 Jill Britton 和 [Perforce](https://www.perforce.com/) 的产品经理 Stuart Foster 与我们一起讨论了如何通过将安全性作为软件创建过程的基本组成部分来提高应用程序的安全性。

视频紧接在下面，后面是对话的文字记录。尽情享受吧！

[https://player.vimeo.com/video/500051203](https://player.vimeo.com/video/500051203)

## **成绩单**

**Mitch Ashley:** 我很高兴能和我之前在网上研讨会和其他视频中交谈过的一些人一起购买。来自 Perforce 的吉尔·布里顿和斯图尔特·福斯特。欢迎两位。

斯图尔特·福斯特: 谢谢你邀请我们，米奇。

**吉尔·布里顿:** 感谢。

阿什莉: 让我们从一些介绍开始吧。既然你在这个时区领先，吉尔，你先来怎么样？

布里顿:好的，谢谢。我是吉尔·布里顿。我是 Perforce 的静态分析工具合规总监。我负责编码标准、功能安全标准、安全标准等领域。

**阿什利:** 优秀。斯图尔特，你想介绍一下自己吗？也给我们讲讲 Perforce 吧。

福斯特:当然，是的。我是斯图尔特·福斯特。我是 Klocwork 和 Helix QAC 公司静态分析产品的产品经理。关于 Perforce，我们帮助企业进行大规模开发。我们有许多各种各样的工具，可以帮助您在规划方面加快开发项目。所以我们有项目和投资组合管理工具，需求管理工具。我们在 DevOps infinity circle 的创建区域提供了一些帮助，用于问题管理版本、资产管理、代码审查。我们有静态分析。我们有各种功能测试用例管理和类似的东西，也适合验证。我们有很多工具可以帮助您将高质量的产品推向市场。

**阿什利:** 优秀。非常好。至少在美国，这是一次非常及时的关于软件安全的谈话，在这种情况下，是关于网络安全管理软件产品的销售情况。我们不会讨论这个问题，但是安全应用的主题就在这里，在列表的最顶端。让我们首先开始，我知道我们将进入一些编码标准和类似的东西，为人们配备一些他们可以使用的东西。也许我们首先从 DevOps 开始不仅仅是——而且左移不仅仅是，好吧，让我们开始与安全人员开会或讨论 Slack，然后突然我们就左移了。你知道，我们如何真正将安全性集成到创建软件的过程中，还有很多事情要做。Stuart，如果你想开始分享你对此的一些想法，当然，Jill，也想知道你的观点。

福斯特:当然，是的。我的意思是你想到 DevOps，你想到敏捷开发，它是代码的所有权；但是除了简单地为你的产品、你的应用程序交付功能需求之外，你知道，很多团队只是在考虑安全性。所以有必要把它直接内置进去。这将引导您选择工具和流程，以确保您将安全性融入到您的管道中，并使其自动化。这要从思考编码标准之类的事情开始。因此，有大量的安全编码标准可供您关注。我想吉尔对此有几个词。

阿什利: 我相信你会的。去吧，吉尔。

布里顿:哦，我有很多很多话要说。重要的是，你要选择一个你能适应的标准，一个你能应用的标准。如果你向供应商提供产品，你可能会被告知使用哪一种。但是你有我认为的证书——哦，在哪里，它来自卡内基梅隆大学。他们关注安全性已经很多年了，这是一个不断积累的过程，也需要来自学术界、工具、开发人员以及任何希望做出贡献的人的经验，然后当然会考虑所有的贡献。这是一个很好的安全标准，因为它确实存在。

但是与此相关的是，你已经有了一个共同的弱点枚举，这实际上只是一个已经在这个领域被发现和证明的弱点的集合。所以你已经有了丰富的经验，你想避免做别人已经看到的问题。这就是这类标准的由来。我认为 CWE 不是一个编码标准。这更像是一种衡量。你知道，我见过这个问题吗？我有这个问题吗？还有另一组相关的数字，我们姑且这么说吧，这是常见的漏洞，甚至更进一步。在你看到弱点之前，就已经有弱点了，你只需要在你自己的开发中使用这些信息。不要做别人已经做过的事情，这是一种看待安全问题的方式。

阿什利: 我们并不是不知道如何创建安全的软件。是的，但是我们一遍又一遍地做着同样的事情，同样的错误，对吗？

**布里顿:** 没错。

**阿什利:** 有时只是出于不知情，有时只是人为失误。抱歉，史都华，你也要跳进去。

我想说的是，CWE 有效地描述了不一定与语言直接相关的问题；其他的是你要遵循的特定规则，以确保你不会遇到这些类型的漏洞或弱点，对吗？

**布里顿:** 没错。就是这样。

阿什利: 是的，Java 和 PHP 中有一些特别的东西，你知道一些特别的语言被很好地使用，当然也很流行。去吧，吉尔。

Britton: 不，事实是当你看 cwe 的时候，它们被分类到语言或者系统或者仅仅是一般的领域；但是还有他们所谓的名单。所以你有一个 C 和 C++的列表，还有一个 Java 的列表。那么你也有一个前 25 名。现在，前 25 条可能适用于也可能不适用于您自己的产品，但它总是值得一看。如果这些都不适用，还有另一种次要清单。它正在出现，你可以看看那里。对于任何类型的软件，总有一些东西需要检查。

阿什莉: 你发现清单上的大多数东西已经存在一段时间了吗？SQL 注入，缓冲区溢出之类的东西？还是它们往往是更新的东西？我们看到的是同样的东西还是会发现很多新的东西？

**布里顿:**是一个品种。你确实一遍又一遍地看到同样的场景。有一些弱点出现在 2011 年的列表中，并且在 2020 年仍然存在，但是随着新类型的开发的出现，你会发现更多熟练的黑客。你必须考虑到黑客总是领先一步。

**Foster:** 你可以看到这些标准或前 25 名名单，它们每隔几年就会改变，它们会花时间回顾在开源项目和其他地方发现的漏洞，并对它们进行加权。因此，虽然你可能会看到前 25 名在多年间有非常相似的重叠，但他们的排名发生了变化。因此，它向您显示，总体而言，软件正变得越来越安全，但在这些新领域却不那么安全。因此，您会看到一些较低的漏洞，而新的漏洞会以更高的速度出现。我认为这也取决于软件开发目前的市场状况。有什么新的热点？是物联网连接软件吗？有没有一种新出来的语言从来没有被攻击过？所以你可以看到这 25 个列表的优先级发生了变化。

阿什利: 让我们先回顾一下。开发团队或开发人员如何——我假设大多数人可能至少熟悉 CBE 或类似的东西，但也许他们还没有进入 cwe 的前 25 名。做那件事的最好方法是什么？难道只是出去读读他们，教育一下自己吗？人们，开发团队会不会喜欢，好吧，我会深入研究一下，然后我会和你分享，或者人们如何将这些应用到他们的团队中？

布里顿:他们有几种应用方式。有时他们只是听说，就像我们今天正在谈论的事情；他们说，哦，这和我有关系吗？听着，有几件事。正如我所说的，有时供应商指定角度来证明你已经检查过了。当然还有静态分析工具，我们可以针对这些漏洞和弱点映射检查器和消息，这样我们就可以显示您的代码正在展示这些特性。但是真正重要的是知道你要寻找什么，然后做一些事情，因为静态分析工具可以告诉你，是的，你有这个漏洞，但真的没有离开那里。你必须做点什么。

阿什利: 你知道，这很有趣。这么多，当然不是每个人，这么多的漏洞都与输入有关，对，某种类型的用户界面，网络，操作系统命令，移动设备。它主要是关于中和，处理你收到的输入，确保他们没有注入他们不应该注入的东西，访问一个目录，诸如此类的事情。因此，它适用于多个技术堆栈和多个应用程序。所以总的来说，这不是一个你会在一个应用上使用的技能，然后你必须为下一个应用重新学习它。你随身带着那些东西。这是你作为软件工程师所具备的技能的一部分。

布里顿:对，是教育，不是吗？你知道，只是每个人对这类问题都有越来越多的经验。不久前，安全性还不是核心，但现在是了。

**Foster:** 如果你仔细想想，你会知道在安全性方面有不同的成熟度，对吗？你开始开发，因为你知道你有一些类型的漏洞，你开始朝着那个方向努力。但是，如果你从更长远的角度考虑你的项目，以及它们如何可能成为非常重要的知识产权或随着时间的推移而嵌入的软件，那么考虑安全性就变得更加重要，因为，你知道，与遵循安全编码标准来确保可靠性相比，能够修复一些你知道的问题， 首先，软件的强度和硬度意味着，多年后，当有人将你的软件集成到某种永远无法触及的嵌入式系统中时，你就降低了市场上长期存在漏洞的风险。 所以当你在开发和考虑开发更安全的软件时，这就变成了第二层次的成熟度。

**Ashley:** 刚才你提到了，我忘了你们谁提到过，你们可能会在与客户签订的合同中遇到一些要求特定安全标准的情况。我知道大家都经常提到的一个例子是 ISO 26262 的汽车工业。在这里，你不仅要处理安全问题，还要处理安全问题。稍微谈一谈某些事情——特定行业的标准真的有点脱离保留地去做一些真正不同的事情吗？或者它们是建立在我们通常在软件中所做的基础上，然后应用到它们的特定领域？

布里顿:我们可以选择 ISO 26262，它是汽车的代名词。这是很好的练习。没什么大不了的。他们推荐软件使用编码标准。你可以使用任何你喜欢的编码标准，但是你需要能够检测出特定类别的软件违规，所以无论你做什么。MISRA 是 26262 的经典之作，因为它是为车辆开发的。但是，其他行业对软件也有非常、非常相似的要求，现在我们正在进入安全领域。回到车辆，ISO 21434 还没有出局；但这也需要使用编码标准，他们寻找的违规仍然非常非常相似。这是同一类型的事情。高质量的软件是我们一直在寻找的。

**福斯特:**因为正如我一分钟前提到的，你会想到一辆汽车，这是一个巨大的滚动嵌入式系统，一旦完成，它或多或少是永久性的，以后很难修复。因此，您可以理解，作为一个流程，安全性变得越来越重要，我们回头再来解决这个问题。这就是为什么《ISO 21434》一上映就会成为一个东西或者说会成为一个东西。但是我们已经有一些行业的客户在关注它，了解它的影响，因为连接汽车是一个巨大的滚动计算机。

**Ashley:** 你知道，这有点类似于创建软件，但不久前我经历了一次网络信任审计，非常像你描述的标准，你有流程吗，你有你遵循、应该遵循的东西吗，你遵循了吗，你有证据吗？因此，许多标准只是编写纯代码时应该做的技术细节。你是否有相关的流程，你是否遵循这些流程，在某些情况下，你会进行审计。如果你想要一个网站信任，例如，认证或其他。所以这不仅仅是写安全的代码，而是如果你说你要去做，那么你必须去做，并证明你正在做，并有一些形式。因此，我要说的是，通过编写遵循其中一些标准的安全代码，这实际上是一种投资，但这将有助于您满足其他要求。

**Foster:** 是的，当您尝试实施 ISO 27001，即信息管理安全管理要求合规性时，它会变得更容易。这里有一些控制措施，你所说的每一项审计都是为你的业务设置控制措施，这些控制措施有很多方面都与公司内部开发的软件有关。因此，是的，通过遵循其中一些安全标准，当您以后去认证您的公司是否符合 ISO 要求时，您实际上是在帮助进行这些控制。

阿什利: 你知道，吉尔，我知道你处理了很多治理和一些合规性之类的事情。围绕安全软件有哪些最佳实践？我们已经接触了相当多，但是是否有一些关于其他最佳实践的想法来帮助人们提升成熟度等级？

布里顿:事实上，这是任何过程中非常基本的一部分。选择您的衡量标准。你将如何实际测量和观察你在过程中的进展？类似于软件的弱点，当你得到了你的度量标准，你会用它们做什么呢？没有必要收集所有的数据，然后说，是的，我们已经有了我们的指标。这是什么意思？这是否意味着上周我们有 27 起安全违规事件？哦，太好了，我们有号码了。但是，对于这 27 起左右的安全违规事件，我们该怎么办呢？这又回到了流程中。你的流程是什么？这些指标的可接受水平是多少？您可以让度量标准贯穿从需求到开发和测试的整个周期。实际上，你可以测量你在月经周期中的进展。

**福斯特:** 当你看到这些安全标准和它们的漏洞时，你会发现，它们有影响可能性、补救成本、潜在问题或风险，就像你在市场上看到的那样。因此，除此之外，许多标准也有某种风险等级或优先级，可以帮助您——让您知道从哪里开始。就流程而言，这并不总是运行一个工具或试图遵循这些标准并试图修复所有错误的问题。从某个地方开始很重要。我们通常称之为基线，在这里你知道你的软件现在的质量，重点是开始遵循一个安全标准并阻止新的漏洞被引入，然后你可以回去并开始优先考虑修复什么来开始清理。对吗？

此外，当您发现它似乎不可克服时，您可能需要花一些时间来查看您过去发现的客户弱点或缺陷，以及除了标准的重要性之外的一些理解，查看您已经产生或已经报告的漏洞类型，并关注这些漏洞。这是一个好的开始，你知道吗？您知道您的开发人员的培训弱点是什么，然后您可以实施某种教学、学习、培训过程，以帮助您的开发团队在处理这些类型的问题时更舒适、更有经验。

有时也是在你所说的基础上，它有助于揭示过程中的其他问题，例如，我们不断地在代码中引入我们没有意识到的库，它们显示为一个安全漏洞。好的，让我们也去修复流程的这一部分，这样我们就知道这些东西都在那里，当更新发生时，它们会经过一些定义好的流程。另一个可能是，我们发现的不仅仅是新的东西，还有重复的东西，我们不断发现的东西，偶尔会以任何频率重复出现。好的，如果我们正在修复它们，但是我们如何停止引入它们呢？有什么好的方法可以帮助你呢？可能是教育工具，等等。有很多方法可以做到这一点。所以对你俩来说，对你自己来说也是，吉尔，不要问问题你不会对答案做些什么，对吗？

**布里顿:**没错。完全正确。

阿什莉: 所以你必须采取行动，当然这也是你最终要做这件事的原因。你不只是走过场，以满足一些文件标准，因为这将赶上你很快，如果你这样做。

**布里顿:** _____。会的。你完全正确。

**福斯特:** 只是给自己买技术债和风险。

阿什利: 对，没错。它会追上你的。你如何向一些人介绍这些词，如流程、标准、合规性、审计，任何前面有 ISO 的词？这类事情只会让你觉得你限制了我的风格，对吗？你在扼杀我的创造力和写代码的能力。我有点夸张，但并不是每个人都对这些事情反应良好。你如何给组织定位，使它不仅仅是我们不得不做的一件可怕的事情，它实际上有真正的商业价值，对你和你的职业生涯都有好处？

**Britton:** 嗯，遵循一个过程的整个事情是，开发人员可以参与到这个过程中，然后经历他们的职业生涯，excel 帮助开发这个过程。但是这个过程不应该令人窒息。它永远不应该扼杀创造力。整个过程的想法是告诉我你是做什么的，你如何证明你是做什么的？好吧，没关系。现在，也许我们可以调整它，做得更好一点？这是所有审核中出现的有利于持续改进的事情。

我们实际上获得了 ISO 9001 认证。所以我们都定期经历这些。你知道，但是我们不想扼杀我们的开发者。他们会说，“好吧，我们有这个流程。这对我们不太适用。我们能做些修改吗？”我们走，是的，看起来很好。我们与必要的人交谈，通常情况下绝对没问题。所以我们让开发人员全程参与，然后他们会跟着做，因为这是他们自己的过程。

**福斯特:** 是的，我认为我们的目标是尽量减少摩擦，并随着时间的推移不断引入。就像 Jill 说的，有持续的改进，对吗？这是一个长期目标。这不是做一次就能克服巨大痛苦的事情，这是一项艰巨的工作。这只是你随着时间的推移而做的事情。你看敏捷开发，对吧？人们做单口相声。有程序的，你知道的。有一定程度的文档和计划不会太烦人。你知道，DevOps 的目标是自动化许多这些挑剔的过程，以便它们快速、可重复、节省时间，对吗？他们尽可能快地报告信息，以便快速解决问题，对吗？这只是减少了摩擦，减少了回去修复某个特性或某种开发任务的痛苦，对吗？然后你只是在另一个安全检查层上加层，对吗？而且应该是无痛的。应该很容易。

随着时间的推移，你越来越成熟，那么质量会越来越好，这又回到了 Jill 提到的指标，不只是有一个数字，而是看到这个数字下降。然后让你的团队能够看到这种仪表板或信息，作为一种反馈机制，你知道，你可以直观地看到质量的提高。你知道，客户对现场问题的报告在减少，因为我们的质量在提高。为什么？不仅仅是因为安全性，还因为你所写的所有自动化和单元测试和检查，你已经努力产生更高质量的代码，这将会带来回报。

我喜欢把它作为一个持续改进过程的想法，不管你把它贴上质量或其他东西的标签，因为你可以把它应用到你的 DevOps 过程，你的工具链，你的代码质量，安全，保障，让你更容易遵守，只是改进你写软件的整体方式，也许是工作流之类的东西。因此，您可以让这些法规遵从性活动或标准活动真正成为您的组织走向成熟和提高工作效率的一部分，无论是在组织中还是在 it 中工作。

问你一个问题，隐私法，你知道，加州的 GDPR、CCPA 也属于这一范畴吗？当我们谈论客户信息的使用时，它们会影响开发人员吗？当然，我们会在应用程序中处理这些信息。这是开发人员需要熟悉的东西吗？还是更多的营销部门在给人们发送电子邮件？

**Britton:** 这对开发人员来说不是很大的问题，但这确实取决于他们处理的数据类型。看看我和 Stuart 使用的工具，我们没有引入外部工具，因为它是一个静态的分析工具。所以我们不看那个。但是，当你在这个领域做事情时，开发人员必须意识到，如果他们要处理个人信息，他们就必须拥有 GDPR，这必须包括在任何流程中，我们将如何处理这一点。

**福斯特:**是的，有编码规则，你知道，试图帮助这类事情。你知道没有硬编码的安全密码，不使用幻数，应该写的各种级别的加密，或者警告你在你的软件中使用过时类型的加密，处理未经验证的输入和输出的能力。诸如此类的事情将有助于满足 GDPR 的一些要求。所以你需要了解你的系统如何与其他系统交互，如何保护你的 API 等等。所以这不仅仅是你的一个软件。您的开发人员需要了解您的软件将如何被使用和实现，以及它将如何与其他软件或系统进行通信。

**Britton:** 这让我们回到了我们之前讨论的弱点，因为有些弱点实际上涵盖了这种类型的数据。

**阿什利:** 一点不错。

布里顿:你拿它做什么。

阿什利: 我们软件中的漏洞可能会导致数据丢失。这可能违反了隐私法，当然，还有其他影响，不管是什么。很好。这很有趣。我真的很高兴与您讨论创建安全软件的这个方面。我们已经稍微提到了静态代码分析和工具。我知道这不是一个关于 Perforce 的商业广告，但你们中的一个人能不能给我们一个定位，在我们今天讨论的过程中，Perforce 在这个领域真正发挥了你们的专长？

福斯特: 是的，当然。就我们的静态分析产品 Klocwork 和 Helix QAC 而言，我们适合开发管道和流程的许多不同领域。我们的存在是为了确保当开发者正在他们的桌面上输入代码时，漏洞被发现。我们还适合在您的 SI/CD 管道中进行门控检查和质量检查，以便我们可以快速报告问题，如果您每晚在服务器上运行，或者如果您在云中部署检查和构建您的软件，以及提供实例和任何类似的事情，也可以进行典型的报告。我们基本上在任何地方都有空。所以我们帮助你向左移动到你想要的程度。我们在任何地方都提供这些安全检查，只是为了能够推动我所说的持续合规性。

**阿什利:** 优秀。太好了。好了，Stuart，Jill，和你们谈话很有意思，希望大家——祝你们在创建更加安全的软件的旅途中一切顺利。我们很快会再和你通话。保重。

**福斯特:** 牛逼。谢谢你米奇。

**布里顿:**谢谢。