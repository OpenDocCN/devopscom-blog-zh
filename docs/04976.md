# DevOps Chat: Security Graph SDK 通过 vArmour 提供更好的策略

> 原文:[https://devo PS . com/devo PS-chat-security-graph-SDK-powers-better-policies-with-varmour/](https://devops.com/devops-chat-security-graph-sdk-powers-better-policies-with-varmour/)

我们所管理的环境的广度和复杂性不断增加，令人叹为观止。了解安全风险并跨云、多云、私有云以及大量软件技术应用策略是每个企业面临的挑战。

vArmour 最近发布了 vArmour 应用程序控制器的第 5 版，它通过安全图和 SDK 提供了对安全图所表示和组织的大量信息的更有效的访问。通过将云、网络和代理信息流式传输到安全图中，企业现在可以集中了解其云计算基础架构中的应用程序关系，从而实现简单、准确和安全的集中风险和策略管理。

在本次 DevOps 聊天中，我和 Marc Woolward、 [vArmour](https://www.varmour.com/) CTO 和 CISO 讨论了如何通过扩大对整个组织的软件基础架构、系统和环境信息的访问，使策略的制定和评估变得更加易于管理。

像往常一样，下面是流媒体音频，然后是我们的谈话记录。

## 

[https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/723170851&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true](https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/723170851&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true)

成绩单

米奇·阿什利:大家好。我是 DevOps.com 的米奇·阿什利，您正在收听的是另一个 DevOps 聊天播客。今天，我邀请到了 Marc Woolward，他是 vArmour 的首席技术官兼首席营销官。我们正在讨论云应用的政策和风险，以及如何管理。马克，欢迎来到 DevOps 聊天。

马克·伍沃德:谢谢你，米奇。很高兴来到这里。

阿什莉:嗯，也谢谢你从池塘的另一边飞过来。*【笑声】*你在美国，带着你的英国口音，所以感谢你的参与。

**Woolward:** 硅谷有很多我们这样的人。说实话，我觉得是半个英国人。

阿什利:这里有，这里有不少你们。*【笑声】*你能不能帮我们一个忙，介绍一下你自己，告诉我们一些关于你的情况，你在 vArmour 做什么，并简单介绍一下 vArmour 做什么。

是的，当然。好吧，大家好。正如 Mitch 所说，我是 Marc Woolward，我是首席技术官，在业余时间，我还是 vArmour 的首席技术官。我的背景是，我已经在 vArmour 工作了五年左右，我关注战略方向，我与高级技术专家和我们的客户交谈，了解他们在云安全方面面临的挑战，我领导一些职能部门，例如数据科学团队，并以首席安全官的身份处理 CCPA 和 GDPR 等问题。

我的背景是，在我加入 vArmour 之前，我是一名技术研究员，我是高盛电信和网络的首席技术官。我想我在那里待了 18 年。在那里做了很多事情。在高盛做技术研究员的一个有趣的地方是，你会参与各种各样的事情。我是私有云体系结构团队的成员，大约十年前，我们构建了第一批私有云环境之一。此外，尽管我的背景是 keynote infrastructure，但我对应用程序弹性和应用程序设计模式很感兴趣。所以，这让我在硅谷的一家产品公司找到了一份很好的工作。

阿什利:是的，非常喜欢，尤其是云的扩散和所有这些。所以，让我们开始吧。我想我们要谈一谈 10 月份发布的产品，那是什么，来自 vArmour 的应用控制器第 5 版？

伍沃德:是的。

**Ashley:** 你能告诉我们一些关于该公告的信息吗，然后我们可以了解一下你在市场上看到的一些影响。

是的，当然。嗯，我的意思是，首先，我想我可能应该告诉大家一点关于 vArmour 是做什么的。

阿什莉:哦，是的。求你了。

伍沃德:所以——好的，没问题。你上一个问题我没有回答。所以，实际上，我们专注于帮助我们的客户了解他们的应用程序在云和多云环境中的行为。因此，我们有一个风险和策略引擎，它可以构建您的应用程序行为及其依赖关系的图像，并从策略的角度建议应该保护应用程序的方法，我们帮助实现这一点—我们让我们的客户在云环境中实施安全、可靠、简单的策略变得简单。

那么，第五版的全部内容是，支持应用控制器功能本身的是一个安全图，而影响它的是一个描述所有节点的图，您知道，计算实例、Kubernetes pods、多云环境中的服务器以及它们之间的关系。我们一直在做的是用关于应用程序、合规性要求的各种信息丰富该图表，这些信息包括应用程序做什么、它是否存在、它运行在哪个领域、它运行在哪个地区？

实际上，第 5 版的目的是开放这一点，在图表中展示更多信息，以便客户可以从中受益更多。因此，这意味着能够将越来越多的信息插入图表，以从中获得更多价值。像驻留在 CMDBs 中的信息，来自处理漏洞管理的系统的信息，来自控制平面的信息，像 Kubernetes 这样的东西，以便图表中的信息变得越来越丰富，越来越有价值。它可以用于各种使用情形，而且它还允许公司根据他们对风险和应用程序的看法来制定策略，无论是法规遵从性驱动、风险驱动还是业务部门驱动。

阿什利:现在，你能稍微向下挖，把引擎盖打开一点吗？讨论所有这些信息是如何进入 vArmour 以及应用程序控制器的。您是从日志、配置、活动应用程序中获取信息吗？这有哪些来源呢？

是的，问得好。我要做的是，首先回答这个问题，在云中，我们不缺乏数据。因此，如果您正在运行一个合理规模的云环境，您会有大量的日志—您知道，云轨迹日志、流日志、各种基于事件的信息。这是基于事件的数据。这就是数据。

这方面的问题是数据—它是非结构化的，而且数量巨大，很难从中收集太多价值。应用控制器的工作是获取数据，并将其转化为知识。因此，它为您提供了对应用程序的深入了解，从而使您更容易做出良好的安全决策。

阿什利:嗯。

**Woolward:** 所以，我一会儿会回到这个话题。但我们这样做的方式是，我们有一个分布式遥测管道，其中我们使用分布到云环境的边缘计算功能，这些功能使用日志，也使用事件总线和 API 之外的事件。因此，当部署一个计算实例时，我们提取与之相关的所有元数据。

我们称之为消息总线的边缘计算功能对数据进行汇总、丰富，然后将其分发到集中式图表中，在该图表中，我们有效地将数据从单个流日志信息转换为向图表中的边缘添加信息，这表示了关系。因此，我们一直在丰富和总结，这种丰富提供了上下文，这使得理解您的应用程序是什么变得容易得多。

**Ashley:** 考虑到我们应用程序的动态特性——云原生、所有这些，无论是 Kubernetes 集群实例、微服务，了解您所拥有的一切就已经成功了一半，这些信息或多或少告诉了您什么？所以，这也是一个值。

**伍沃德:**肯定的。你知道，Kubernetes 是一个很好的例子。因为如果您在错误的级别捕获这些信息，如果您在 IP 地址级别甚至是 pod 级别，就会有大量的噪声存在，而且非常短暂，没有任何意义。如果您可以在抽象阶段使用它，这对应用程序来说是有意义的，那么这将是在部署或服务级别，您可以将它吸收到图表中，您可以随着时间的推移构建应用程序的画面。

然后，当刚刚部署的实例化与该模型不同时，您可以很快看到这一点。因此，我们试图做的是总结信息，并将其表示为——我说的是将其表示为知识，同时继续处理非常动态和非常大量的数据，并寻找异常和变化的地方。

阿什利:这听起来也像是一个图形技术的完美应用，能够可视化，探索，深入挖掘，退出，在不同的层面上看它。

是的。当然，你知道，就像我说的，我在高盛和金融服务业工作的背景，图表技术非常适合描述关系，这与风险有关。所以，如果你看看金融风险建模，这几乎是图形技术十多年来的原型应用。我真的会对网络风险和云安全风险采取同样的方法和同样的原则。

阿什莉:非常好。现在，我也知道你已经引入了一个 SDK。客户可能希望在哪些应用中使用 SDK？

**wool ward:**SDK 的要点是，我们与所有常见的云环境集成，我们与 sdn 集成，而另一款产品旨在集成到这些不同的环境中，就像开箱即用的产品的一部分。

阿什利:嗯。

**Woolward:** 但是我们从我们的客户那里发现，他们有不同的知识库来丰富对风险的理解。因此，如果您有一个漏洞扫描器，您将拥有大量关于在您的环境中运行的各个系统状态的信息。通过将其插入图表，并使用 SDK，无论您使用什么系统，都很容易做到这一点，您可以开始问这样的问题，“对于我的应用程序，我是否依赖于 CB 严重性为 7 或更高的系统。”因此，SDK 是一种获取漏洞信息的方式，从您的 CMDB 中提取对您有价值的特定字段，比如说，从您的服务中，有效地插入这种上下文，这种上下文可以阐明您对应用程序和风险的整体理解。

所以，实际上，它是关于允许我们的客户将对他们重要的数据源集成到这个插入到他们的云中的图中。

阿什利:嗯。因此，无论是在某种意义上的输入和输出应用程序中，都可以引入更多数据，还可以提取数据用于其他用途的报告。

是的。那是一个极好的观点。我错过了。客户使用图表的另一个应用是嵌入在应用控制器中的分类引擎。所以，我们要做的是，根据我们对系统行为的理解，根据它们之间的关系以及它们与系统之间的关系，对系统进行分类。

因此，SDK 的一个重要用途是将我们的系统分类结果与 CMDB 中的信息进行比较。所以，你知道，你在 CMDB 的意图是否与云环境中实际发生的事情相符？

阿什利:嗯。

**Woolward:** 通过这样做，您可以验证您的库存信息是正确的、准确的，并继续保持正确——这再次改善了您的安全状况，因为，您知道，安全的基本支柱之一是了解您拥有什么，并对您想要保护的系统有准确的了解，所以没错。

阿什莉:绝对是。

但是，你知道，SDK 是双向的。

阿什利:嗯，你和 GDPR 相处了一段时间，加州消费者隐私法案也即将出台。这种技术如何帮助满足、满足和报告合规性——有哪些方法可以利用 vArmour 和应用控制器来帮助您应对这些挑战，以满足法规要求？

**伍沃德:**肯定的。是的，所以，我的意思是，不同的监管框架或多或少对所需的安全控制有所规定。因此，如果您采用 PCI 之类的东西，它就非常具体，并且在构建控制的方式方面非常直接。因此，根据 PCI DSS，应用程序控制器可以让您围绕您的持卡人数据环境确定范围内基础架构的范围，并围绕系统层构建控制层。所以，它很擅长这样做。

如果你看更抽象的东西，它更多地谈论结果而不是达到结果的手段，那么，如果你说它是像 GDPR 那样的东西，在那里你正在考虑保护与欧洲或 CCPA 的数据主体有关的个人信息，在那里更多地是保护加利福尼亚州消费者的个人信息，这实际上归结为管理风险和确保控制，在存储或处理这些信息的系统周围放置合适的控制集。要做到这一点，第一步是理解问题的范围以及处理这些个人信息的系统之间的关系范围。

因此，首先，应用控制器可以让您了解这些环境的范围，并开始围绕其行为和对这些系统的访问进行控制和报告。因此，这一切都始于界定和了解您的环境，并确保您可以将控件放在周围——您知道，将控件放在它们的边缘，并且您继续监控这些控件是否有效，以及应用程序控制器在云中的实际工作。

阿什利:嗯。非常好。我当然不会自称是这两种监管框架的专家。*【笑声】*我真的很好奇，自从你发布第 5 版以来，我们已经有一个月，一个半月了。作为一名前产品创造者，看到人们用新技术、新版本做什么总是很有趣。还有，你不希望他们用它做什么。你见过这两种情况吗，你知道—是的，我们认为我们应该以这种方式帮助客户，事实证明是这样，然后我们也看到了他们使用它的一些有趣的方式，他们认为他们不会这样做。

是的。所以，我会从我们的预期开始，如果你喜欢，继续说明我们设计的产品提供的价值。有一件事我们从来没有——嗯，我从来没有不感到惊讶的是，你在云环境中部署我们的系统，它开始消耗遥测数据。在一个小时左右的时间内，图表已经开始丰富，您会发现成百上千的工作负载。

突然之间，相互关系的程度，通常还有外部依赖性，VPC 或 VNET 之外的关系都被形象化了。几乎每次，当我们与客户坐在一起的头几个小时，我们都会进入相同的讨论，“这是什么关系？哦，我对 GCP 的某些东西有依赖。”

因此，一般来说，这种发现未知和未被怀疑的依赖关系的方式打开了一个完整的蠕虫罐，以便了解这里发生了什么，并确保正确的策略到位，并确保每个人都了解攻击面的范围和爆炸半径。所以，我们总是看到，这只是在版本 5 中加速了。

就出乎意料的事情而言，这就是 SDK 的魅力所在。因此，SDK 允许客户插入对他们来说重要且相关的信息和元数据。我没想到的一个领域实际上不仅仅是对传统网络风险、攻击面和爆炸半径的应用，而是提出了一些有趣的操作问题。

大约两周前出现了这个使用案例，一位客户为他们的应用程序取了一个操作术语，并将其插入到图表中，然后问了这样一个问题:对于我的关键层应用程序、我的系统关键应用程序，如果它们的一个依赖项、它们所依赖的一个应用程序(我不知道，参考数据或其他类型的通信，如通信网关)出现故障，我的恢复时间是多少？

突然间，您可以在图表中画出应用程序和依赖关系之间的关系，并插入恢复时间目标。突然间，我明白了，如果应用程序 A、B 或 C 出现故障，我可能需要等待八个小时才能恢复，而我的系统需要一个小时的恢复时间。

阿什利:嗯。

**Woolward:** 所以，他们开始问这些问题，这些问题是你不希望从一个关于运营风险的网络工具中得到的。所以，我认为这就是图表的魅力所在，它允许客户思考，风险对他们意味着什么，他们可以插入他们需要的信息或数据，然后他们可以提出这些问题，引导他们获得知识。

阿什利:很好，是的。这听起来既像是信息、运营信息，也像是应用程序之间发生的行为以及对 It 的更深入了解。

当然，是的。是啊，当然。我认为另一件事，我的意思是，我要说的最后一件事是，如果你看一看过去一两年中的大多数数据泄露，它可以归结为，如果你看一看云，并且你了解安全工作的方式，它就是这种共同责任模式。因此，云服务提供商提供了大量工具，如微分段、身份访问管理策略执行等。那里有一套非常强大的安全功能。

问题总是在于，缺乏对应用程序的了解意味着由客户编写的策略和提供的权限是有缺陷的，因为这是他们的责任，有点像共同责任模型。应用程序控制器允许您以简单的方式构建策略，这种方式既安全又能满足您的业务需求，然后允许我们的客户履行他们在云安全分担责任模型中的职责。

阿什利:嗯。哇哦。嗯，我觉得我们才刚刚触及表面，我们已经没有时间了。希望，我们可以让你回来，我们可以探索这一点，因为我们越来越接近一月份生效的 CCPA。

**Woolward:** 是的，作为一家加州公司的首席营销官，我显然也在这方面花了一些时间。

阿什莉:我相信你会的。

伍沃德:那会很有趣。

阿什莉:对，没错。Marc，非常感谢你和我们一起参加 DevOps 聊天。

是的，这是我的荣幸，米奇。谢谢——谢谢你邀请我。

阿什莉:绝对是。这是我们的荣幸。我要感谢我的嘉宾 Marc Woolward，他是 vArmour 的首席技术官兼首席市场官，当然，还要感谢我们的听众，感谢你们抽出时间来参加我们的播客节目。我是 DevOps.com[的米奇·阿什利。祝你愉快，在外面要小心。](https://devops.com/)

— [米切尔·阿什利](https://devops.com/author/mitchellashley/)