# SaaS 数据备份和 API 瓶颈

> 原文:[https://devops.com/saas-data-backup-and-the-api-bottleneck/](https://devops.com/saas-data-backup-and-the-api-bottleneck/)

保护 SaaS 数据的需求从未像现在这样迫切。最近来自 Odaseva 的 [全球调查发现，51%的勒索软件攻击以 SaaS 数据为目标，与对云、端点和内部数据的攻击相比，它们更有可能成功(52%)。](https://www.odaseva.com/blog/new-research-ransomware-attacks-targeting-saas-data/)

但是除了勒索软件的威胁，还有很多理由来保护 [SaaS 数据](https://devops.com/?s=SaaS+data)。员工无意中恶意删除数据。虽然停机并不常见，但确实会发生，而且一旦发生，会带来很多痛苦。例如，亚特兰蒂斯号在 4 月份遭遇了为期两周的[](https://www.atlassian.com/engineering/april-2022-outage-update)。如果数据没有备份，组织就完全处于提供商的支配之下，在他们能够访问服务之前让服务恢复在线。

尽管所有受访者都表示他们的组织实施了某种形式的 SaaS 数据保护，但 57%的受访者表示他们仍有未受保护的 SaaS 数据。很可能，这就是为什么只有一半的 SaaS 数据被攻击成功加密的受访者表示他们能够恢复所有数据，而超过八成(81%)的受访者能够恢复本地数据。

这并不奇怪，因为备份 SaaS 数据与本地数据保护截然不同。当然，首先，IT 对应用程序和数据的控制是有限的。它将需要依赖 API 来备份和恢复 SaaS 数据，并且这些 API 调用将有严格的上限。SaaS 提供商几乎总是在多租户架构上运行他们的服务，因此他们需要确保每个人都可以使用 API 资源。为了实现这一目标，他们对 API 调用设置了硬性限制，通常是在 24 小时内，这意味着 IT 部门必须谨慎管理 API 在备份和恢复操作中的使用。由于有许多不同的 API 可供选择，它们具有不同的功能和限制，因此需要做出一些艰难而复杂的选择。

### 使用硬大写导航 API

管理 API 的使用非常重要，不仅仅是为了备份。这些 API 对于连接集成到 SaaS 应用程序中的其他应用程序也是至关重要的。对于核心 SaaS 应用程序，如 CRM 或 ERP，可能会有许多这样的集成应用程序需要使用这些 API*。*

为了获得最佳性能，IT 部门需要非常小心地使用用于备份和恢复的 API。我们以 Salesforce 为例。Salesforce REST API 每小时最多可以传输一百万条记录，而 BULK API 在相同的时间内最多可以传输十倍多的记录。而如果使用并行调用来复用数据，批量 API 最多可以做到 3 亿。结果是，您使用的 API 可以极大地改变您的恢复点目标(RPO ),因为更快地传输更多数据意味着全天备份更多。

不幸的是，Salesforce 客户将无法依靠批量 API 满足其所有备份和恢复需求。例如，一些对象只能通过 REST 或其他 API 访问，批量 API 对其他应用程序也很有用——你不想触及这个硬上限，让其他应用程序无法连接 *。* 而且你不能总是用同样的 API 来写数据和读数据。

SaaS 备份基础架构必须实现 API 使用的平衡，这必须得到严格管理。不要忘记恢复，这会消耗大量的 API 资源。确保您有足够的数据来应对大型恢复—在数据丢失事件后，当您试图让用户恢复业务时，您真的不想达到 API 上限。

最后，API 会随着时间而变化，备份系统必须能够适应。你需要确保你跟上 API 文档，这样系统才能定期更新；否则，数据可能不受保护。

现在，人们普遍认为 SaaS 数据需要得到保护，但是构建一个能够满足组织的 RPO 和 RTO 的 SaaS 备份解决方案比许多 It 人员可能意识到的要复杂得多。API 管理的战略计划是任何 SaaS 备份管理解决方案的必备要素。