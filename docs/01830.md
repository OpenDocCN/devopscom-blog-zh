# DevOps 聊天:利用蟑螂实验室轻松扩展数据

> 原文：<https://devops.com/devops-chat-scaling-data-without-complexity-with-cockroach-labs/>

蟑螂实验室 CockroachDB 背后的人最近宣布了新一轮的资助，因为他们继续他们的使命，让你在不复杂的情况下扩展你的数据。

在这次 DevOps 聊天中，[蟑螂实验室的首席执行官](https://www.cockroachlabs.com/)斯潘塞·金博尔谈论了他们的计划以及蟑螂将如何继承 DB 世界。

像往常一样，下面是流媒体音频，然后是我们的谈话记录。

[https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/678485016&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true](https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/678485016&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true)

## 副本

Alan Shimel: 大家好，我是来自 DevOps.com 的 Alan Shimel，您正在收听的是另一个 DevOps 聊天。在今天的 DevOps 聊天节目中，我很高兴斯潘塞·金博尔能加入我们。斯潘塞是蟑螂实验室的首席执行官/联合创始人，蟑螂实验室是数据库和 DevOps 领域的热门公司。斯潘塞，欢迎你。

斯潘塞·金博尔:谢谢你，艾伦。很高兴来到这里。

绝对的。所以，斯潘塞，让我们把它弄清楚。首先，我假设我们的大多数听众已经听说过蟑螂实验室，但也有可能他们没有。为什么不给我们一点背景呢？

金博尔:嗯，当然。我的意思是，首先，我们可能应该解决一个显而易见的问题——为什么我们要给某种东西命名为蟑螂？我想当我给你解释的时候你就会明白了，但是蟑螂实验室的成立是为了建立一个数据库，而这个数据库会复制并且很难被杀死，所以这就是这个名字的由来。老实说，这个名字是在产品出现之前发明的，而且早在它成为一家公司之前。所以，你知道，现在我可以每周向财富 500 强的首席信息官们解释同样的事情。*【笑声】*有些遗憾，但这个名字很有意义。

所以，我可以给你一点背景知识。蟑螂实验室的三位联合创始人都在谷歌工作了大约 10 年，谷歌经历了启动 NoSQL 运动的 Bigtable，并迅速转移到 Megastore，引入了一些交易性。然后他们创造了 Spanner，Spanner 是 Google 已经研究了十多年的东西。

当我们离开谷歌时，我们意识到 Spanner 是许多公司问题的解决方案，而不仅仅是谷歌的。从那以后，这一点变得越来越真实。我们做了一家初创公司，即使作为一家初创公司，我们也想要谷歌内置到 Spanner 中的功能，而这些功能在开源中是不可用的。这就是蟑螂最初的想法的来源。这家初创公司被支付处理公司 Square 收购，现在也被许多其他公司收购。Square 也需要扳手之类的东西。

所以，这个想法已经流行开来。我们从 GitHub 项目开始。这一举动引起了风投的兴趣。公司成立了，现在，四年半过去了，我们正忙于向全球 2000 强、财富 500 强的大公司销售产品，一边与甲骨文竞争，另一边与亚马逊竞争。

只有在网上，伙计，你知道吗？*【笑声】*这是一个疯狂的故事，但却是真实的。所以，首先，我完全明白蟑螂的事情，因为它们将会继承地球，你知道，或者看起来是这样，特别是在我们前进的道路上，但是我们不要进入政治。

但这是一个令人惊奇的故事，因为当——对于从事 it 行业的人来说，有点熟悉仪表板的历史，以及拉里·埃里森是如何成为世界上第二富有的人，或者不管他是什么，你知道，令人着迷的是，我们在网上做的所有事情，几乎都是基于存储数据和访问数据的能力，让我们可以做所有的事情，你知道，操纵数据，分析数据。我是说，没有数据库，这些都不会发生。

所以，当你回顾数据库的历史，然后，你知道，到关系数据库，然后你提到一些其他的东西，SQL 数据库，然后 NoSQL 数据库—

**Kimball:** 并返回 SQL。*【笑声】*

**Shimel:** 好的，回到 SQL，现在你已经有了时间戳数据库。你知道，所有这些都围绕着，我们如何存储这些数据，以一种方便的方式将数据放入其中，并方便我们访问、操作、分析这些数据，并从中获取价值，对吗？

所以，就像蟑螂一样，数据也不会死，对吗？*【笑声】*它正在吞噬世界，你知道吗？我最近在哪里，我在好市多或其他地方购物，他们有 8tb 的备份或驱动器，你知道，外部驱动器可能比信用卡大一点，你知道吗？一部好的 iPhone 的大小，比方说，厚一点。我想 8tb 的价格是 169 美元。*【笑声】*我在想，“我的天啊，你知道，当我有那些 3.5 英寸的软盘，伙计，还有更大的那些的时候”

**Kimball:** 第一个 20 兆字节的硬盘是—

**Shimel:** 耶！我不认为全世界有八兆字节。

金博:有一段时间没有了，对吗？

**Shimel:** 是啊，太疯狂了。您知道，随着我们的数据存储和数据需求的增长，我们的数据库也在增长。所以，你提到了谷歌的衍生产品，你提到了谷歌最新、最伟大的产品没有做的某些事情，因此，为什么是蟑螂。

但是你们最近也宣布了一轮新的融资，如果我没弄错的话，对吗？

**金博尔:**正确，对。我们将——这将发生在 8 月 6 日。

席梅尔:嗯，当人们听到这个的时候，已经是 8 月 6 日了，所以。

金博尔:明白了，好的。

如果你在家听到这个消息，已经是 8 月 6 日了，他们已经宣布了他们的融资。

**金博尔:**是的，所以，我们确实结束了，这是一个大回合。基本上，额外的资金相当于我们过去筹集的所有资金，你知道，这并不罕见，但这是一大笔钱。总的来说，我们谈论的是超过 1 亿美元。

**Shimel:** 哇。

金博尔:你知道，我认为，要正确看待这个问题，你只需要看看我们在与谁竞争，对吗？我的意思是，当然，它是一些世界上最大的公司，世界上最大的公司，我们也为世界上最大的公司服务，所以你确实需要这笔钱来建立一支能够教育、接触和销售这些公司的销售队伍，所有这些—我对实际销售给财富 500 强公司的必要过程感到谦卑和惊讶。在某些情况下，这是相当复杂的。

但是，为了继续迭代产品，我们必须这样做，你只需要雇佣最优秀的人，创造一个环境，让他们可以合作推动产品前进，这样你就可以参与竞争。

绝对的。但是，你知道，在今天的互联网和 IT 世界中，竞争对不同的人有不同的含义，对吗？我们通过提供优质服务来竞争。你知道，我刚刚完成，一两个月前我在伦敦的 DevOps 企业峰会上，那里有一个人们称之为 BVSSH 的概念——更快、更安全、更快乐的更好价值，对吗？这就是我们在 DevOps 中试图提供的东西。

因此，在这方面的竞争也是如此——但是，在数据库领域，有时它真的非常、非常、非常受功能驱动。

金博尔:是的。

**Shimel:** 对吧？

Kimball: 这是一种递增的特性，也有几分代的特性。我们一直在推动真正改变数据库的本质，这是一个存在的机会，因为生态系统中正在发生的所有其他事情，特别是全球公共云，我认为这是描述 AWS 和 GCP 以及阿里云和 Azure 结合的一种方式。当然，还有许多其他更具区域性的问题。但总的来说，所有这些都可以被新的数据库体系结构所利用，使公司能够以新的方式存储数据，从而使他们的业务超越竞争对手。

举个例子，像 GDPR 和最近关于隐私的法规，俄国、中国、越南、南韩和南美洲——还有很多——人们非常关注数据如何本地化，数据相对于客户存储在哪里，数据在哪里处理。

此外，我认为这真的很令人兴奋，因为有了这个全球公共云，新服务有能力上线，能够为用户提供即时发生的端到端用户体验。这意味着不到 100 毫秒，这是用户注意时间间隔的阈值。如果某件事感觉是瞬间发生的，但它发生在不到 100 毫秒的时间内，那么实际上，由于物理和光速的原因，如果你的所有数据都在弗吉尼亚州的一个数据中心，你就无法为澳大利亚的客户做到这一点。但这是目前流行的模式。

当然是了。

**金博尔:** *【相声】*在公共云上，通过像蟑螂这样的解决方案，您实际上能够拥有一个跨越全球的数据库，它能够将数据存放在客户附近，并实际上提供一些数据隐私的保证，即他们的数据在他们的法律管辖区内进行处理并存储在他们附近，而且还能获得端到端的用户体验，您只需单击移动应用程序上的一个按钮，它就能通过应用程序逻辑、访问数据库、返回并更新。所以，我认为，这种瞬间实现的能力将开启一个新的应用时代。

希梅尔:的确是这样。我记得，斯潘塞，在互联网时代，我帮助建立的一家公司叫做 Interliant，我们是早期的 ASP 应用服务提供商。

但是在我们改名之前，我们是 Sage Networks，我们是一个大型的主机提供商，一个 rollup。我们收购了许多不同的托管公司。对我们来说，一个关键的事情是，你知道，与我们收购的所有这些较小的托管公司相比，真正给我们带来规模的是，所有这些托管公司的存储和数据都是相同基础架构的一部分，如果你愿意的话，那就是托管网站和网络服务器等等。

我们所做的是，你知道，我们实际上——我不想说抽象，因为它不是真正的抽象，但我们将数据和数据库从 web 服务器及其运行的应用程序中分离出来，对吗？现在，这让我们有时间存储这些数据。这是在有云之前，但是我们有多个数据中心。因此，我们几乎可以在亚特兰大的数据中心存储数据，并在存储网络服务器的网站上访问或使用数据，比如说，当时在弗吉尼亚州的泰森斯角。阻碍我们前进的是，我们没有你们现在拥有的连接。

金博尔:是的。

**Shimel:** 对吧？如果你有一条 T3 线路，那就太棒了，你知道吗？那是电信级的。所以，有点不一样。但是，你知道，这是我们现在生活的时代，你有分布式应用程序。那么，当然，为什么没有分布式数据存储和组织它们的数据库呢？

金博尔:是的。我在精神上有分散的观众，对吗？我的意思是，每当一家初创公司在 app store 上推出他们的第一款移动应用程序时，全球能够访问该应用程序的总人数都非常惊人。我是说，那里的机会是巨大的。但是，您知道，每个人 90%以上的努力都集中在部署到单个可用性区域，对吗？所以，这是，有一个遗留的东西是如何建造的，这是快速变化的，你必须通过整个堆栈来做。在蟑螂实验室和 CockroachDB，我们正在研究这个堆栈的一个基础部分，非常重要，可能是最困难的部分之一，即数据存储，这些应用程序背后的状态。

是的。毫无疑问。如果你愿意的话，我想谈一点关于 CockroachDB 的项目。云原生的吧？显然，当你们刚起步时，你们是从谷歌出来的，你们在谷歌有一个很大的开源遗产——当时讨论的是什么，“这是我们开源的东西吗？是我们免费提供的吗？”我们如何走这条线，对吗？去吧。

**Kimball:** 所以，当我和我的联合创始人从 2002 年到 2012 年在谷歌的时候，谷歌只是在任期快结束的时候才开始做开源。以前，他们非常坚持关闭源代码。这只是谷歌发展的一种模式。现在，他们更加开放，他们最近的一些努力，包括 TensorFlow 和 Kubernetes，都是谷歌手中的开源实际上对公司和更大的生态系统都是一个巨大优势的例子。但是像 Spanner 这样的东西是闭源的，并且 Spanner 构建的许多东西也是闭源的。

但是谷歌做了什么，这很棒，他们总是发布这些东西。

**Shimel:** 对。

**Kimball:** 当我们创建蟑螂的时候，我们不仅在谷歌工作，还有幸看到这些东西是如何建造的——你知道，我的联合创始人之一 Peter 和我自己正在开发一个叫做 Colossus 的东西，这是谷歌的外骨骼分布式文件存储系统，运行在 Spanner 下面。

所以，我们有了一个很好的机会去了解谷歌为什么以及如何建造他们所建造的东西。但是，你知道，一旦我们被踢出谷歌的老巢，或者我们离开了，我想，更好的说法是—

**Shimel:** 飞巢。*【笑声】*

金博尔:是的。我们逃出笼子了，对吧？我们受益于谷歌围绕 Spanner 之类的东西所做的所有已发布的工作，但你知道，在更广阔的世界中，你意识到，对于数据库来说——当我们开始这项工作时，我猜是 2014 年。在 2014 年，这在今天肯定是正确的，人们不会关注你的数据库，除非它是开源的。这是一种基本要求。已经有一些数据库尝试作为闭源软件，但据我所知，它们还没有走得很远。

所以，我只是认为——对我来说也是如此，作为数据库的潜在用户，作为数据库的潜在开发者，非开源的东西感觉有点恶心。*【笑声】*对吧？就像，没有足够的表面积让我觉得我可以主宰自己的命运，对吗？

希梅尔:是啊。

Kimball: 就像，如果有的话——这就是我讨厌闭源产品的地方。如果出现问题，这只是一个大黑匣子，你知道，这是一个黑洞，如果你想发送支持票，会发生什么？然而，在我看来，如果我能够深入调查，找出问题所在，可能是我的错，对所有相关人员来说会更好，但假设这是产品中的一个错误，我可以将它发送到公司，他们可以将它作为一个补丁。

这就是开源的美妙之处，作为一种个人偏好，甚至是一种理想主义的心态。如果没有开源，我将无法启动数据库。

希梅尔:是啊。我的意思是，坦率地说，成功的开源数据库在数据库领域有一段历史，它们不仅是成功的开源项目，而且作为商业实体或管理这些开源项目的公司也同样成功或更加成功——你知道，非常成功的开放商业实体为投资者、创始人和员工提供了巨大的出口和巨大的价值。

所以，我的意思是，在这方面，这并不像你在开拓，对不对？这并不像有人说，“哦，他们在开源中这样做是疯了”，对不对？嗯，15 年前，他们可能会说你疯了，对吧？*【笑声】*你知道—

金博尔:我认为 MySQL 有点像，你知道—

**Shimel:** Yep, ____.

金博尔:——正如他们所说，开辟了道路。Mongo 是一个非常成功的—

绝对的。

**Kimball:** *【相声】*同样使用开源。还有很多其他的。但你知道吗，即使当我们在 2015 年创办这家公司时，我认为开放核心模式和开源总体上看起来像是一种催化剂，对吗？只是一些可以比封闭源代码软件和采购部门和预算更快创造商业价值的东西，以及所有这些过去在采用新技术的周期中涉及的东西，以便构建公司的工程师或开发人员需要的产品或服务—

哦，当然可以。我是说，听着，我已经干了 30 年了，对吧？我看到了开源的兴起。我在 2001 年、2002 年、2003 年、2004 年参与了开源安全项目。问题是，今天，对于许多开发者来说，如果它不开放，他们就不想开发，这是第一点。

金博尔:是的。但是—

希梅尔:请讲。

**Kimball:** 真正令人着迷的是，2015 年可能是开源作为商业价值最重要催化剂的终结的开始。我认为，在 2019 年，商业价值的真正催化剂，更快的商业价值——与竞争对手相关的商业价值，我认为是服务，对吗？基于云的服务。那就是——你知道，它总是关于，而不是关于开源的理想主义。这不是它成功的原因。

不，我认为我们已经过了开源的理想主义阶段。

**Kimball:** 这基本上就像是，X 公司的软件工程师可以使用什么工具来更快地完成他们的项目，从而使项目更稳定、更高效、成本更低，对吗？所有这些事情—

**Shimel:** 但这是他们的偏好，这些开发人员、运营人员和开发人员是这些公司食物链上的顶级掠夺者。它们是拼图中最难的一块。所以，公司不愿意告诉他们，“不，我不想让你用那个工具”或者“我不想让你用这个服务。”他们是做出这些选择的人，我认为，在过去的几年里，就像是，“哦，不，你不能把那个带进来”或者“你不能用那个”之类的。

金博尔:是的。这有点像*【相声】*。

斯潘塞，还有更多。让我告诉你。你知道，我去了很多云本地会议和 Kube 会议之类的展会，我一生都在参加 IT 会议。我要告诉你的是，开源社区——并不是因为理想主义的 ____、怪诞的、免费的，就像自由和免费的啤酒之类的废话。

如果你愿意的话，我们已经过了斯托曼博士阶段。这个社区是推动我们今天在其中看到的几乎一切的力量，对吗？这里面有一种能量，它推动着你在蟑螂公司所做的事情，这是肯定的。它推动着我们在 DevOps 的工作。它推动了我们在 Cloud Native 和 Kubernetes 中看到的所有这些东西。它就在那里——它几乎就像一个核电站之类的井，你明白我的意思吗？

金博尔:是的，绝对是。而且，你知道，我认为目前我所知道的最好的模式是，你知道，它被称为基于云的服务，可以快速实现价值，增量定价，对吗？所以，你要为你使用的东西付费。如果你能提供一个开源产品来支持它，人们觉得他们可以进入，如果他们不得不离开那种自由和灵活性，他们可以使用，那就提供了最好的一切。

我认为，这就是为什么亚马逊在采用开源技术方面如此成功，因为他们非常擅长以服务的形式提供东西，他们有这么多东西可以打包到一个账单中，一种监控平台，一个身份访问，你知道，管理平台。这非常令人印象深刻，但是，总的来说，它为企业创造了如此多的价值。

**Shimel:** 太疯狂了。我们时间不多了，所以让我们把这个带回蟑螂实验室。我们似乎偏离了主题。你们提供的是管理版本。

**金博尔:**没错。我们有一些最大的客户，他们想自己运行数据库，这是他们一直以来的运行方式，但随着时间的推移，这种情况当然会改变。因此，我们有一个自助服务、自我托管的版本，如果您想向我们付费，可以购买订阅许可证。当然，还有开放核心，你可以用于任何目的。

然后是托管服务产品，我们称之为蟑螂云。我们为您运行它，我们可以在 AWS 或 GCP 上运行它，定价模式更像 DynamoDB 或 Amazon Aurora 或 MongoDB Atlas，这些是类似的产品。

**Shimel:** 明白了。太好了，伙计。对不熟悉的人来说，这个网站是 CockroachLabs.com 的斯潘塞。

**金博尔:**没错。

Shimel: 所以，这就是人们可以获得更多信息的地方。还有什么我们没发现的新闻吗？

金博尔:嗯，你知道，我认为我们可能没有很好地覆盖资金。我有点操之过急了，但我们已经筹集了超过 1500 万美元，主要投资者是 Altimeter Capital。

**Shimel:** 太好了。

金博尔:所以，除了 Tiger Global，还有我们所有的现有投资者，Google Ventures——他们现在叫 GV——Benchmark，FirstMark，Redpoint，Index Ventures。所以，这是一个伟大的—

**Shimel:** 令人印象深刻的榜单。

金博尔:是的，一群伟大的投资者。我们期待着这成为一个转折点，并随着我们在全球 2000 强中的渗透而真正前进，同时从根本上把很多注意力放在托管服务上，因此，除了实现我前面谈到的越来越多的全球体系结构功能之外，云还提供了蟑螂体验。

绝对的。我的意思是，今天要实现这一切并将其推向市场需要资源，显然，雇佣优秀的人才并不容易——即使有了钱，这也不是一件容易的事情，我相信你会发现这一点。找到优秀的人是—

**金博尔:**这些人当中有很多——我喜欢你说的，处于食物链的顶端。

没错，这里面的头号捕食者。太疯狂了。

金博尔:他们用脚投票，对吗？所以，这是—

希梅尔:是的，的确如此。我的意思是，他们甚至不要求加薪，他们只是去找另一份工作。这不是——我的意思是，这是一个疯狂的，疯狂的动态，但它就是它。

嗯，听着，这是——很明显，我们超过了 15 分钟的时间，但它发生了，这一切都很好。我想祝你成功。我的意思是，稍微离题一下——你知道，这里有很多人会听这个，斯潘塞，他们会说，“你知道，我有一个关于公司的好主意。我们应该去筹集几百万美元的资金，我们可以做类似于蟑螂正在做的事情。”也许在数据库中不一定，但你知道，在创业世界中，这并不容易——100，000，000.00 美元对于给你开支票的人来说是一大笔钱。这并不意味着没有巨大的责任，在我的一生中，我已经为风险投资公司筹集了大量资金，我知道这需要付出什么。

所以，祝贺你成功地运行了它，并期待看到你用它做什么。

我很感激，艾伦。

Shimel: 没问题。好吧。我们的嘉宾是首席执行官斯潘塞·金博尔，蟑螂实验室的联合创始人，蟑螂数据库的制造商，这是 DevOps.com[的艾伦·希梅尔。您刚刚听到了另一个 DevOps 聊天。](https://devops.com/)

— [Alan Shimel](https://devops.com/author/ashimmy/)