# DevOps 聊天:集装箱安全和 StackRox 的阿里 Golshan 更多

> 原文:[https://devo PS . com/devo PS-chat-container-security-and-more-with-stack roxs-Ali-gol shan/](https://devops.com/devops-chat-container-security-and-more-with-stackroxs-ali-golshan/)

安全性有许多方面，这就是为什么它如此难以有效实施的原因。每个环境都不一样；每个安全解决方案都是不同的；每个组织的需求是不同的。这就是为什么，正如 StackRox 创始人兼首席执行官 Ali Golshan 所说，安全性受到了不好的指责。

Golshan 和他的公司正在从一个更加关注 DevOps 的角度来处理安全性问题，提供必要的工具来使 DevOps 团队能够将安全性纳入整个流程。在这次 DevOps 聊天中，他和我讨论了 DevSecOps、容器安全等许多方面。

像往常一样，下面是流媒体音频，然后是我们的谈话记录。

[https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/499352445&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true](https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/499352445&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true)

Alan Shimel: 大家好，我是 Alan Shimel，您正在收听的是另一个 DevOps 聊天。今天的聊天是一个小 DevOps，一个小安全，一个小容器，一点点的一切。很高兴 StackRox 创始人兼首席执行官 Ali Golshan 加入我们。阿里，欢迎你。

阿里·高尔山:感谢邀请我。

还有，阿里，我想我念错了你的名字。是“高尔山”正确吗？

**高尔山:**正确。是的，谢谢你。

**Shimel:** 爽。我试着做好它。那么，Ali，让我们从显而易见的事情开始吧，也许这里的一些人还没有听说过 StackRox，所以，在我们开始之前，先做一个简短的电梯间介绍，让他们了解一下背景。

**高尔山:**当然可以。我们在三年半前创立了 StackRox。该公司的前提是，我们看到了行业中的一些重大转变。一个是容器化和微服务的引入，这是我们看到的更大趋势的子效应，即应用安全和开发成为整个产品生命周期，因此确保您可以涵盖从构建到部署到运行时的安全和合规性及要求。容器为构建应用程序和微服务提供了很好的包装和构造。

第二部分是，当你看到这个模型时，我们意识到实际上有三个基本的东西正在破坏一个 300 亿美元的安全产业。这是需要自动化的完整产品生命周期的整个概念。这是永恒和短暂的。而且，因为你不能铲车传统的安全解决方案和处理这三个构造，我们决定在解决这个更大的问题后，我们希望看到云的未来。

我们从集装箱化开始，就像基本的建筑材料一样。随着时间和市场的发展，我们也与时俱进，更加关注 API 和 orchestrators 以及托管云环境之类的东西，但在很大程度上是以主机应用程序为中心的世界观。我们不是基于网络的工具。我们不是基于日志摄取的工具。我们倾向于更多地关注安全自动化、检测，并为您的环境创建一个多方面的风险视图，特别是针对容器和微服务。

**Shimel:** 明白了。所以，你知道，这里有很多东西，我们可能会在今天的聊天中稍后回到 StackRox，但我想–让我谈谈你提到的几件事。因此，第一件事是云原生、容器原生的整体概念。你知道，当我们第一次看到向云的转移时，安全行业的反应是一些分析师所谓的“洗云”现有的安全解决方案。所以他们采用了现有的安全解决方案，他们说，“好吧，现在它也可以在云中运行了。这是一个云安全解决方案”，但事实并非如此。这是一个迁移到云中的本地安全解决方案。它不是云原生的，实际上有点像方孔中的圆钉。

我认为，当我们谈论为容器化应用程序构建或试图提供安全性的安全解决方案时，我们会看到同样的情况。对吗？涉及到什么？你能——你知道，我不想创造这个短语，但你能“清洗”现有的安全解决方案，使它成为一个容器安全解决方案吗，阿里，或者你真的需要某种容器本地设计的安全性吗？

**Golshan:** 对于您关于传统云环境的观点，我认为这是安全公司必须跨越的一个较小的鸿沟，因为最初的移动更多的是关于虚拟化您的环境。因此，运行 was 或端点解决方案之类的东西仍然有某种适用性，能够将您的安全姿态扩展到云。显然，我们看到的基本问题是围绕如何自动化和调配工作负载以及剩余工作负载的性质而产生的。这些是——云中的新功能实际上是为安全性制造缺口的部分。

因此，如果你想一想，并进一步扩展，容器的功能和设计甚至与传统容器有另一个数量级的不同。这不仅仅是虚拟化和超越你的界限。是虚拟化；这是微服务，每个功能都分解成一个特定的服务；端到端地控制它。因此，如果你想一想，有很大一部分安全行业甚至没有考虑这个过程的一些最关键的组件，即构建和部署。在那里建立持续的环境。从该环境中构建声明性策略，然后进一步使用它。因此，我认为这是我们看不到传统安全解决方案适用性的主要原因之一，尤其是在集装箱化环境中。

是的。我的意思是，Ali，我同意你的观点，坦率地说，我认为这就是为什么今天很多被认为是容器安全的东西似乎是人们对容器进行的漏洞扫描，或者，正如我想我上次和你聊天时说过的，你知道，容器的网络 id。它就是不——它看起来非常方钉，圆孔。我并不是说您不需要漏洞管理，无论您是否在容器中，我也不是说您不需要入侵检测，无论您是否在容器环境中。但是，说这是，引用，一个“集装箱安全解决方案”似乎只是推动它，只是真的很难推销。

但我想回到你在开场白中提到的另一件事。这是围绕着我们不仅生活在一个容器化的时代，而且我们已经看到了整个 CI/CD 软件工厂管道模型的兴起——我不想说它的主导地位——你知道，DevOps 是整个 CI/CD 软件工厂管道模型不可或缺的一部分，我们谈到了将安全性转移到软件开发生命周期中。这是传统安全不得不让位于当今工作方式的另一种方式，那么从 StackRox 的角度来看，这种方式会产生什么影响或如何发挥作用呢？

**Golshan:** 我们的想法是，如果你想一想谁是第一批转向容器化和微服务的公司，他们都需要处理大规模问题，加快发展速度，并为客户提供产品。因此，他们意识到这种传统的构建、部署和管理模式是不可持续的，因为它无法与人的因素相适应。因此，DevOps 的概念，甚至集装箱化的结果，实际上是公司能够提高其自动化水平和复杂性的工具和方法，以管理和运行他们的基础设施。

因此，我们看待这一问题的方式是，这也是许多先行者围绕这一环境构建自己的安全模型的原因，因为不存在这样的环境。因此，我们看到安全某种程度上映射到同一个模型，也就是说，如果你仔细想想，过去的事情更多地是围绕批处理、响应、进行分析、采取这些选项的模型。同样，我们看待这个问题的方式是，容器打破了基本的工作流程。基本的工作流程并不是“建造一些东西”。检查。建造。检查。建造。检查。并将所有这些门控因素应用于安全性。”现在流畅多了。因此，安全性必须整合到整个工作流程中。

这是我们谈论的一件大事，这就是为什么您不能采用传统的安全解决方案并在这里应用它们，这不仅仅是它们所应用的外形因素，而且也是 DevOps 创建的全新工作流以及影响安全工具运行方式的这些类型的环境。因为它不仅仅局限于外形或瓶颈。它变得更像一个服务网格——不是从某种服务网格项目中借用“服务网格”这个词，但这就是它非常适合自己的原因。它是跨流程集成的许多服务，然后，随着这些流程的自动化，它们会成为彼此的增效工具。这就是 DevOps 的工作方式，也是安全性的工作方式。你不能因为你安全工具而破坏工作流模型。

**Shimel:** 同意。您使用了“工作流模型”这一术语，我认为这是一个很好的描述，但是，您知道，很多都可以追溯到——同样，也是 DevOps 的一部分——很多都可以追溯到基于精益制造的整个精益 it。某种程度上，它确实是一种工厂流水线式的工作流模型。而且，当你想一想，事实是，一直以来，我们总是在最后，可以说是在包装的最后，才加上安全性，然后想知道为什么它不那么好用。当你这么看的时候就很明显了，不是吗？

没有，绝对没有。我是说，这是个有趣的类比，对吧？如果你仔细想想。如果您有某种工业环境和制造业，如果您从手动工作流转移到机器人和自动化工作流，您应用的安全类型将会非常不同，例如，您如何寻找漏洞，如何看待应用程序。这是一个很好的类比，因为它是当前行业正在经历的一个非常有代表性的模型。

**Shimel:** Mm-hmm.

**Golshan:** 所以我非常相信你不能——这就是我认为安全性出问题的地方，试图一次涵盖太多的事情。如果您有一个全新的新兴模型，如容器、微服务和开发运维，可以说我们的安全或方法只处理那个特定的领域。无论大小，它都很重要，因为它增加了可信度，让您真正了解它的基本构造和功能，因为，如果您说的不是这个，那就是“不，我的可以涵盖网络、端点、虚拟机、容器和 Lambda。”–嗯，这只是安全行业受到如此恶劣指责的众多原因之一。只是事情从根本上不同了。

**Shimel:** 同意。同意。所以，阿里，我认为我们在这里做得很好，在前十分钟左右，列出了这些宏观因素，这些因素不仅影响着技术甚至安全行业，而且——它真的影响着整个世界，因为我们都——现在每个公司都是软件公司。所以这真的在世界范围内产生了基本的影响。

但是让我们回到 StackRox，对吗？又回到了起点。那么所有这些事情是如何体现在——

**Golshan:** 是的，所以我们看待它的方式是

**Shimel:**–在什么地方变成了 StackRox？

**gol shan:**–拥有一个解决方案，其中包含两个可互操作的模块。我们有涵盖构建和部署的 StackRox 模块，以及涵盖运行时和生产的 StackRox 模块。我们看待整个流程的方式是非常基本的——在等式的一边，您可以查看所有静态和声明性信息，并使用它来说明应该能够做什么，然后，无论何时运行它，无论是在部署、QA 还是生产中，您都可以从该应用程序中学到越来越多的东西，并了解它实际上可以做什么。

因此，我们的任务是在它应该做什么和它能做什么之间架起一座桥梁。对我们来说，自动化是其中很重要的一部分，原因是，随着公司整体工作流程的成熟，他们将拥有由平台提供商和云提供商提供的额外工具。例如，您提到了 vuln 扫描。绝对每个人都应该做漏洞扫描，但是，越来越多，我们看到它云提供商和平台提供商提供它，所以关键是不要提供漏洞；而是能够进行漏洞管理。

我们看待漏洞管理的方式是，要么能够向客户提供扫描仪，要么从所有扫描仪获取数据，然后帮助他们对其进行优先级排序——“这在生产中的什么地方运行？在生产中，这样可以访问哪些服务？”因此，如果您有一个在生产环境中运行的低漏洞，在一个暴露于 Web 的任务关键型应用程序中，它的价值应该高于在一个封闭的 EPC 中运行的高漏洞，该 EPC 不能访问任何其他服务。

所以环境是帮助你区分优先次序的东西，但它也是反过来的。因此，在运行时，如果您正在进行检测，重要的是要了解，例如，如果攻击者搁置并闯入一个容器，获取了一些令牌或凭据，您希望能够返回查看，例如，通过 orchestrator 管理的机密，并查看这些特定凭据或机密在其他什么地方可用，在其他什么地方进行了部署。

所以，如果你仔细想想，在左边，你会得到很多非常棒的见解。在流程的右侧，在运行时和生产端，您可以利用它们来构建非常好的边界和门控因素，这自然会减少您的攻击面。因此，当您将这些信息反馈到构建和部署中，删除不必要的凭证或特权或工具时，您就自然地使您的基础架构和应用程序更加安全。因此，我们有了一个更好的着陆区来进行探测。我们不必检测所有的东西；我们知道系统中的薄弱点或差距在哪里，以集中我们的检测。

这就是我们对整个 StackRox 产品的看法。在构建和部署端为客户(尤其是构建和部署团队)提供适当的安全性、可审核性和自动化工具，然后在运行时保护端为安全人员提供适当的运行时检测、警报、响应、取证和实施。

**希梅尔:**优秀。我们还有几分钟时间，阿里。我想——对于那些想了解更多关于 StackRox 的信息的人来说，它是 stackrox.com 吗？S-T-A-C-K-R-O-X？

**高尔山:**正是。是啊。我们的网站上有我们所有的信息，我们实际上使用我们产品的一个模块提供免费的风险评估，客户只需抓住它，就可以更好地了解他们在处理他们的容器基础设施时遇到的问题。

希梅尔:好的。让我回到另一件事上来，你知道，众所周知的“让我们看看你的路线图”幻灯片，但我真的不希望你给我看你的路线图。但你认为下一步会是什么，不仅是对 StackRox，而且是我们所处的宏观环境的结果？下一只鞋子会掉在这里，StackRox 会怎么——我很抱歉这里的噪音——stack rox 会怎么回应？

**高尔山:**当然可以。我认为有几件事。一是我们看到整个体系越来越成熟，因此我们看到了围绕编排器的融合；我们看到围绕运行时引擎的标准正在建立；我们看到公共云提供商如何整合某些服务，并使其他服务更易于使用。完美的例子是所有的努力，例如，Kubernetes，AK 之间，EKS 和 GKE 之间。

所以，当我们看这些趋势时，它显示了一些不同的东西。第一，不仅容器不同，而且整个攻击面看起来也会非常不同，所以你接近这个世界的方式在未来也会非常不同。我们不会犯与传统安全相同的错误，即我们不会让主机过度暴露于大量用户帐户、凭据、权限、工具和软件包。因此，我们认为主机将会阻碍发展，而 orchestrator 将会成为一种新的云操作系统，带有 API。

而且，作为其中的一部分，你最终会看到更多的复杂性，因此，随着公司越来越习惯于将应用作为微服务、更多的容器来运行，以及更好地掌握 orchestrator，他们将越来越习惯于在其上运行更复杂的操作和应用。自然，这伴随着成熟而来。一旦你有了它，你最终会从现在这个生态系统的早期阶段，我认为是低熵的，到你最终会看到的非常高熵的环境。

因此，我们认为构建安全性的方式是，第一，这就是关注自动化、集成和工作流非常重要的原因；第二，我们认为安全性必须作为一种与外形无关的模型构建在云原生环境中，这意味着利用现有框架，例如，如果从系统中收集数据，则使用扩展的 Berkeley 数据包过滤器等工具。如果你在亚马逊或谷歌上运行，你可以使用 Pub/Sub 或 Kinesis 之类的东西。

因此，它正在构建更加模块化、可编程和可插拔的架构，而不是构建一个部署在容器中的二进制文件，然后针对一堆主机复制该容器。这是关于建立一个可以理解不同环境并理解它们的感官模型，而不是单方面采取行动的单个代理，因为，随着复杂性，异质性的增长，自然地，就用例而言，会有更多的灰色区域。这就是你遇到警报疲劳、噪音、误报等老问题的地方，然后，最终，你得到了 50 个安全解决方案。

**希梅尔:**优秀。非常好。好吧，阿里，我们快没时间了，但我得告诉你，伙计:我喜欢这次聊天。这太棒了。我希望你能回到-

是的，我也是，艾伦。

Shimel: 我们将深入了解更多这方面的内容。好东西。StackRox 的联合创始人兼首席执行官 Ali Golshan 在 DevOps Chat 上说。这是艾伦·希梅尔。您刚刚听到了另一个聊天。祝大家今天愉快。

— [Alan Shimel](https://devops.com/author/ashimmy/)