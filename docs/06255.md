# 云原生安全性和性能:同一枚硬币的两面

> 原文:[https://devo PS . com/cloud-native-security-and-performance-two-sides-of-the-one-coin/](https://devops.com/cloud-native-security-and-performance-two-sides-of-the-same-coin/)

您正在生产环境中运行 Kubernetes，您需要应用一个补丁——可能是一个商业应用程序、一个开源组件甚至是一个容器映像。在生产环境中实施该补丁需要多长时间？三十天？有一天？一个小时？

请记住，云原生环境应该能够实时响应变化。这样的响应不是简单地根据需要放大或缩小。尽可能接近实时地响应安全威胁和性能问题也很重要。

容器和它们支持的微服务也是短暂的。它们可以存活五分钟甚至更短的时间，然而未打补丁的微服务与更永久的代码一样危险。

修补还必须符合您的应用生命周期。具有成熟 DevOps 过程的团队通常每周、每天甚至每小时发布代码。他们能够快速将补丁和滚动应用到生产中，这大大降低了他们的安全风险。你的操作员能胜任这项任务吗？

## **糟糕的安全管理成为性能问题**

安全性和性能之间的联系远远超出了云原生环境。拒绝服务(DoS)攻击显然以网站的性能为目标，加密劫持也是如此，勒索软件攻击的程度较轻。

在许多情况下，性能监控为组织提供了此类攻击正在发生的第一个迹象。然而，监控不仅仅是为了识别正在进行的攻击。它在防止攻击方面也发挥着重要作用，尤其是在云原生环境中。

为了理解这一点，考虑一下组织传统上是如何处理补丁管理的，特别是对于软件基础设施:一个供应商(或开源项目)发布了一个补丁。企业在一个有点像生产的测试环境中应用补丁。在运行了几天甚至几周的集成测试之后，运营团队可能已经准备好将补丁部署到生产环境中了。

另一种可能的情况是:运营团队可能会收集不同软件的几个补丁，希望一次测试并部署它们。与此同时，随着时间的推移，攻击者有更多的机会进行恶作剧。

在企业生产环境中应用补丁需要这么长时间的原因是，IT 领导层认为补丁管理是一项高风险的活动。补丁可能会使一个软件表现不佳或根本不起作用，而且应用程序和基础架构组件之间复杂的相互依赖关系增加了不可预测的故障风险。

## **云原生计算改变了等式**

云原生计算将云最佳实践(如可扩展性和弹性)扩展到整个企业 IT 环境，为跨混合 IT 环境的计算提供了一种新的范式，该环境可适当利用虚拟化、容器和无服务器计算。

云原生运动的核心是开源容器编排平台 Kubernetes。Kubernetes 要求并强化云原生架构方法，将应用程序分解为容器化的微服务。

大规模部署、管理和运行基于微服务的工作负载成为 [Kubernetes](https://devops.com/decoding-the-self-healing-kubernetes/) 以及云原生基础设施的主要挑战。

为了管理补丁，组织必须遵循云原生原则。单一的“几周测试一切”的方法根本不符合云原生软件的动态、短暂的本质。

正如应用程序开发人员使用金丝雀测试来测试他们正在推出的功能一样，金丝雀测试基础设施的更新在很大程度上取代了全面测试环境中的测试。

测试补丁(或更新)成为一个持续的、高度自动化的过程，在有限的生产环境中尝试新的配置，分析由此产生的性能，并在必要时回滚更改。

运营商现在可以在生产中更快地测试补丁(或新版本),最大限度地减少对最终用户交互应用的影响。

那么，运营商应该如何管理这样的金丝雀环境呢？通过监控被测软件的性能。

## **安全和性能监控的融合**

未打补丁的软件是企业 IT 环境中漏洞的主要来源，在动态环境中管理补丁需要性能监控。

将补丁程序管理添加到其他与性能相关的网络威胁中，如拒绝服务、勒索软件和密码挖掘，很明显，安全性和性能监控是广泛的 it 运营管理(ITOM)功能的两部分。

在云原生基础设施中，ITOM 不会止步于监控。相反，运营商需要可观察性工具来监控整个基础设施的日志、跟踪和指标，此外还需要提供工具来减轻和防止基础设施出现问题。

换句话说，监控是一种被动的“观察仪表板”活动，可观察性则更进一步，促进了一种主动的“理解并解决问题”的心态。

这些问题是与性能相关还是与安全相关并不重要——在许多情况下，没有区别。当今的运营商必须使用工具将这两者结合成一个成熟的安全性、合规性和监控解决方案。

## **智能带**

一些分析师认为，IT 基础设施经历了从内部服务器到虚拟化再到云计算再到容器的自然发展。然而，这个论点有一个致命的缺陷。

这个序列中的前三个环境遵循一个清晰的模式，因为虚拟机的工作方式与物理服务器非常相似，无论是在内部还是在云中。因此，随着企业向云发展，编码应用程序在很大程度上保持不变。

然而，容器是完全不同的——尤其是当你把它们放到 Kubernetes 和云环境中的时候。对于云原生计算，从头开始重新思考应用程序的本质至关重要。事实上，云原生计算是企业 IT 的全新范式。

因此，安全和性能监控等核心运营活动在云环境中扮演新角色也就不足为奇了。的确，安全性和性能和以前一样重要，但是今天，我们必须在动态的、短暂的应用环境中同时处理这两者。

只有在这种背景下，像 Sysdig 这样的云原生厂商能提供什么才变得清晰。IT 基础设施的世界正在发生变化，随之而来的是企业应用程序开发和部署的世界。安全性和性能一如既往地重要。不要让他们从缝隙中掉出来。