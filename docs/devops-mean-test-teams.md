# DevOps 对测试团队意味着什么？

> 原文：<https://devops.com/devops-mean-test-teams/>

不久前，开发和测试团队还会加班加点，集中精力赶在最后期限前完成任务:快速修复、重新确定优先级并推迟 bug，以关闭 bug 列表，将所有内容转移到登台服务器，进行最后一次回归，并将其移交给 Ops/IT 以转移到生产中。之后发生了什么？没人知道。对于大多数开发和测试团队成员来说，Ops 是一个黑盒。他们往往会忘记运营部发生的事情、角色、职责和时间表。一天——在开发和测试团队的最后期限之后很久——在延迟、问题和变更之后，产品上线了。

这个场景听起来熟悉吗？嗯，DevOps 应该是一个游戏改变者。

DevOps 对很多人来说意味着很多东西。但是对于测试团队来说，持续测试(CT)是 DevOps 中的首要任务。而且，随着产品的交付和部署，CT 不仅仅是一遍又一遍地重新运行同一套“完全回归”测试。这实际上是一个灾难的处方，而不是持续测试的目的。

## 什么是 CT，传统测试团队如何融入？

最近，测试团队受到挑战，通过转移到敏捷和 scrum 来提升他们的实践。DevOps 将推动团队进一步提升他们的实践——更多的自动化、更多的技术测试和更多的工具。如果您的测试团队已经有了成熟的敏捷实践，通过持续的测试，他们可以进一步成熟，最终加速产品发布。

持续测试源于持续集成(CI)。

从 CI 开始，测试团队加入了自动化冒烟测试的过程。CI 的严格观点是关于构建过程的自动化。然而，对于今天从事竞争情报工作的任何人来说，这仅仅是个开始。使用 Jenkins、Bamboo 或 TeamCity 等工具的 CI 的实际情况是，在自动化构建流程之后，重新运行单元测试，运行自动化冒烟测试(在用户界面、API 级别或任何地方),许多公司在此基础上构建了测试环境中的自动重新运行完全回归，然后针对一些虚拟机自动运行一些测试集。这种在 CI 层面上不断增长的“牛逼”正在成为一种普遍的做法。你可能会问:“这不是连续测试或者接近连续测试吗？”CI 是基础。它从那里开始生长。

持续测试在每一步都是一个质量精益的过程。它包括质量用户故事、质量环境、质量单元测试和质量性能测试。它是“每一步的测试”，而不是最后的“QA”。它还通过早期测试和全程测试，将测试任务从运营转移到了最后。CT 也增加了更多的任务。

## 测试策略

CT 的成功在于它能够让每个人都参与进来，而不仅仅是测试团队。

在正确的时间，在正确的环境下运行正确的测试从来都不是一件容易的事情。在现代开发中，测试——单元测试、性能测试、安全测试、功能测试和工作流测试——是每个人的责任。这是持续测试的基础。

持续测试的测试策略与敏捷测试策略非常不同。在敏捷中，测试通常依赖于部署之前的回归或发布冲刺，以进行更大和更长时间的测试，随后是运营团队在阶段环境中进行他们自己的性能和安全性测试。在 DevOps 和“左移”方法中，所有这些测试都需要作为测试团队套件的一部分更早更频繁地运行。

到目前为止，我们已经用 CI 运行了开发人员单元测试和自动化冒烟测试，这是一种经常运行的自动化完全回归。除了手动测试之外，这些测试是 sprints 期间新用户故事开发的正常部分，继续是持续测试的一部分。

持续测试从这里开始变得越来越大。Ops/IT 通过虚拟化、虚拟机、容器、云中等为测试团队构建环境和数据。测试团队将更早地针对与生产中相同的虚拟化环境，自动化更多不同类型的测试。这个想法是将过去的后期开发和最终测试，在测试周期的早期，转移到左边。因此，消除了回归或发布冲刺，并使产品准备好持续交付。

更长的工作流和集成测试现在必须自动化，并针对持续交付的构建运行，以及在开发期间的不同点运行负载、性能和安全测试。这给测试和运营部门带来了许多需要解决的问题。

这就带来了一个问题，测试团队什么时候做可用性、肥皂剧、端到端路径、工作流和基于任务的测试？这些测试侧重于完成一个完整的用户任务，而不是测试一个单独的功能。那些是自动的吗？越长的测试越容易出错，自动化起来也更复杂。许多团队自动化了他们的回归测试，但是排除了复杂的、困难的或者长时间的场景测试。这些需要更高水平的自动化技能。今天有太多的自动化测试是验证单个功能的小型、孤立的测试。我们都知道用户不是这样使用产品的。他们在各种序列、组合和各种数据中使用函数。自动化和维护所有这些更复杂的测试当然不是一件容易的事情。

此外，许多测试团队没有负责运行性能、负载和安全性测试。在 DevOps 的世界中，传统的测试团队可能仍然不是编写它们的团队。他们可以更早地管理或执行这些新的测试任务，作为他们常规自动化套件的一部分。一个好的策略将定义这些测试运行的时间和频率。

记住，CT 的目标是即时反馈。一个常见的问题是，为什么不能将每个测试放入一个巨大的自动化套件中，并让它一直运行。这不是必需的。我们不需要如此频繁地运行相同的测试来获得即时反馈。更好的方法是有策略地运行精益和平均的测试套件。运行单元测试，反馈，转到下一步，运行冒烟测试，反馈，转到下一个测试，等等。

## 自动化

我仍然看到团队在敏捷自动化中挣扎。他们不能在同一个 sprint 中实现足够的自动化，自动化是脆弱的，没有方法论，这可能导致套件太小，或者相反，当我们需要精益和吝啬时，变得臃肿和缓慢。在尝试 CT 之前，需要解决这些问题。

同样重要的是，一些团队仍然没有足够的资源来管理和维护自动化框架，编写新的测试，深思熟虑地淘汰旧的测试，并在新的 sprints 中有效地处理新的用户故事。有许多团队很容易在持续测试中失败，就会有更多的团队跟不上新的需求和压缩的交付需求。

## 利用技术

许多团队仍然受到数据和环境问题的困扰。幸运的是，虚拟化、容器和云可以通过利用流行的技术来解决这些问题。但是大多数测试团队将需要 Ops 的帮助来完成这项工作。

## SOA/微服务

从服务中构建应用程序是一个快速增长的趋势。这种趋势并不新鲜，但一直在加速发展。从 API 到面向服务的架构到 web 服务再到微服务，测试正在演变成对由服务组成的产品进行集成。容器的使用加速了服务的使用。测试团队必须拥有充分测试和自动化这些服务测试的知识、技能和工具。

如果你的测试团队没有这方面的技能，外包服务测试——不要跳过。等待通过用户界面(UI)来测试这些总是可能的，但是一旦缺陷发生，通过 UI 隔离它要比在服务级别困难得多。通过 UI 运行服务测试并不容易。我们在持续测试中自动化如此之多的最重要的原因是为了获得关于系统健康的快速和简单的反馈。跳过测试 API 或该服务级别的任何服务不再是好的。

## 摘要

测试不再是筒仓 QA 团队的责任。这是每个人的工作！

Scrum 和 XP 实践上的大动作，比如 TDD 或者简单地做更多的单元测试，已经为整个团队更加负责任铺平了道路。团队中的每个人都要测试。如果你不能，那么 DevOps 不适合你。

测试团队将需要复杂的自动化工程师和运营/IT 人员来支持环境、数据、虚拟机、容器和测试团队的所有虚拟化需求。

智能、精益和平均测试自动化是测试团队的首要目标。如果您的开发和测试团队已经拥有成熟高效的敏捷实践、低维护测试自动化和良好的持续集成流程，那么持续测试和开发运维就是实现超高效的下一步。企业中的每个人都受益于更早地将运营/IT 及其流程引入开发流程，向左移动，并利用虚拟化和基础架构自动化的进步。

## 关于作者/迈克尔·哈克特

![Michael Hackett Photo](img/4dac1b17f0644b8a2560df34124ef69d.png) Michael 是 LogiGear Corporation 的联合创始人，在银行、证券、医疗保健和消费电子领域的软件工程方面拥有 20 多年的经验。

Michael 是一位认证的 Scrum 大师，并且与人合著了两本关于软件测试的书籍。测试网络上的应用程序:移动和基于互联网的系统的测试计划。2003)，有英文、中文和日文版本，以及《全球软件测试自动化》(HappyAbout Publishing，2006)。他是加州大学伯克利分校顾问委员会的创始成员，并在加州大学圣克鲁斯分校教授软件质量工程和管理证书课程。作为 IEEE 成员，他的培训课程将硅谷的测试专业知识带到了超过 16 个国家。

Michael 拥有卡内基梅隆大学的工程学士学位。