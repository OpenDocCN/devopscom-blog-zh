# 斯堪尼亚:在汽车生产中采用 DevOps

> 原文:[https://devops.com/scania-adopting-devops-auto-production/](https://devops.com/scania-adopting-devops-auto-production/)

当您想到大型车辆时，您可能会想到重型前后轴、悬架和驾驶室零件。当你想到大型发动机时，你可能会想到曲轴、气缸盖、活塞和喷油器。当你想到制造这一切的公司背后的大脑时，你应该想到软件和创造它的过程。

瑞典汽车公司 [Scania](https://www.scania.com/world/#/) 正在使用大型遗留开发方法构建其软件智能，将整个软件包编码为一个项目。该组织的团队各自为政。发布非常罕见。

当 Scania 扩展并征服了分隔团队的分区和部门，并采用敏捷实践和开发运维时，一切都变了。

## 斯堪尼亚及其软件

斯堪尼亚是重型运输巴士、卡车、船用和工业发动机的全球大型制造商，经营着许多软件部门。其互联服务部门创建了基于网络的门户、API 和嵌入式软件，用于传输与司机和车辆之间传输的实时和历史数据，用于物流，包括定位、跟踪、服务规划、地理围栏和消息传递。

在 2012-2013 年期间，Scania 加速了向 DevOps 的转移，当时该公司将开发人员和测试人员合并成了功能团队，并塑造了其首个 DevOps 实践。在此之前，该公司有许多开发问题。

“在 2012 年之前，我们是围绕传统的大型软件项目组织的，这减缓了进度，阻碍了沟通。我们有长期存在的分支和一年三次的产品发布周期。Scania Connected Services 的技术架构师 Anders Lundsgard 表示:“开发、运营、测试和营销之间存在孤岛。他补充道，到 2013 年，功能团队已经在严格遵守 Scrum 的基础上采用了 processed。

Scania 的开发和运营团队分布在不同的地点，工作目标各不相同。这些团队遭受了混乱的沟通和越来越大的压力，因为开发仅致力于新功能，而运营试图在生产中以稳定的方式使用新软件。

## 关键的变化

当 Scania 组建了功能团队，逐渐承担起将代码转发到所有环境并使其正常工作的更多责任时，一切都开始走在一起。Lundsgard 说:“运营或基础设施部门没有参与其中，因为他们支持内部基础设施的工具和自动化，并将软件转移到云平台上。”

斯堪尼亚最终添加了软件配置管理工具 [Perforce Helix](https://www.perforce.com/helix) 。只要软件工程师知道他们工作的重点是检入他们的代码，Perforce 产品就可以是部署管道中所有项目的任何一个软件组件的单点存储。这样，任何一段代码都不会有多个正确的当前版本，这可能会导致混淆。Lundsgard 说:“Perforce 有许多功能，可以帮助工程师将软件放在一起审查，甚至可以在文件在开发人员之间传递时将其搁置。”。

斯堪尼亚将 Perforce Helix 与其持续集成(CI)环境和流程结合使用，以提高质量，这是人工测试无法做到的。“目标是软件工程师至少每天将代码检查到 Perforce Helix 中，”Lundsgard 说。

## Scania DevOps 当今的流程

斯堪尼亚现在将 CI 作为核心开发实践，对每一项变更进行版本控制，并自动进行构建、测试和部署。公司不再使用功能分支，每个人都直接向主线添加代码。“我们使用面向微服务的架构，以便每个功能团队可以管理和拥有某些服务，”Lundsgard 说。

不同的团队以不同程度的 DevOps 成熟度进行开发。一些团队持续地部署软件，有时一天多次。其他团队从使用一些手动测试中受益，可能几周内不会部署软件。Lundsgard 说:“这个工具使所有团队都能够拥有一个全自动的过程，如果他们愿意，可以将他们的代码推送到所有环境中——自动地或通过点击一个按钮。”

## 剩余的挑战

斯堪尼亚下一步计划将从网络到服务器的基础设施的每个组件完全自动化。“我们的一些基础设施和运营人员已经开始采用基础设施作为代码，他们也在 Perforce Helix 中发布代码，”Lundsgard 说。