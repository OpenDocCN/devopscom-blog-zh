# 连续文件

> 原文：<https://devops.com/continuous-documentation/>

文档在 DevOps 中死了吗？是也不是。它是转化的，是自动的，是可操作的。

回到瀑布式开发的时代，文档似乎总是不受欢迎的继子——它是一种事后的想法，是一种理论上必须做的家务，经常会被取消。这有可以理解的原因。首先，开发文档(不同于最终用户手册)实际上并没有增加正在生产的软件的直接价值。文档添加的任何价值都是后来——可能是几年后——在代码被修改或调试的时候。从短期来看，记录代码需要花费额外的金钱和时间。只有基于未来可能的效用，它才是合理的。

但是以敏捷方法和 DevOps 为中心的现代编程实践，赋予了文档一种新的非常不同的生命。很容易想象在强调持续部署的 DevOps 世界中没有文档的位置。你不能让传送带停下来记录生产线上的所有东西，保持流程运转更重要。即使您可以停止部署过程来记录它，您也只能获得偶尔的快照，而不是正在进行的过程的图片。

然而，现代文件根本不需要停止传送带。事实上，它本身就是一个连续的过程，作为连续部署本身的固有部分自动生成。持续部署模型中内置的有用信息与正式的瀑布流程文档中的一样多；它只是采取不同的形式，来自不同的来源。驱动和控制开发运维的自动化流程会生成日志，这些日志构成了持续的文档流。应用性能监控(APM)系统监控并记录部署后的性能和警报。所有这些数据都被导入日志分析平台，该平台是收集、记录、组织和分析自动化文档流的天然交换所。

控制自动化开发运维流程的脚本也是一种文档形式。它们包括关于系统、服务器和软件配置的信息，并作为部署过程的详细通用记录。当它们与部署状态更新的日志相结合时，它们作为文档变得更有价值，这些日志形成了单个部署的时间戳记录，并且可以作为历史部署统计的来源。

在测试的某些阶段(主要是那些与部署最密切相关的阶段)，自动化测试脚本和日志可以作为有用的文档。将它们与问题和项目跟踪记录(以及警报日志)结合在一起，可以帮助查明重复出现或长期存在的问题，并提供一般的质量控制历史。

这些只是最明显的例子；在整个开发运维流程中，还有其他类似的文档来源。所有这些文档通道的共同点是它们几乎都是完全自动化的。一些类型的文档，例如问题跟踪，可能需要一些手动输入，但是总的来说，它们是由 DevOps 过程本身自动生成的。制作这个文档不需要额外的工作；默认情况下，它已经存在。这是它与旧式瀑布开发文档的最大区别。

现代开发文档的挑战是双重的:认识到什么是可用的，以及理解如何利用它。因为它们已经作为流程的一部分存在，或者是自动生成的，所以很容易忽略现代文档的许多关键元素。大多数 DevOps 工具都带有某种日志或报告功能，但是 DevOps 团队可能不知道它们，或者可能只使用默认的日志/报告功能。了解所使用的所有工具的日志记录和报告功能，并识别记录的数据类型是非常重要的。

当您知道有哪些数据可用时，您就可以寻找将这些数据集成到日志分析系统中的最佳方法，并且可以更好地了解哪些数据对您最有用。综合测井分析涉及的技术团队和测井本身一样多；否则，集成的大部分价值将会丢失。同样，理解您想要什么需要一组 DevOps 范围的用例，这样您就可以确定文档流中的哪些元素对您来说是最重要的。

这种准备是有效利用连续文档的关键。如果您可以从一开始就确定您可能需要从文档流中提取哪些类型的信息，那么您就可以准备好报告、警报和查询，以便检查给定项目的文档将是一个快速、自动的过程，而不是一个即兴的“每次我们做这项工作时都要重新发明轮子”的搜索。连续的文档不应该是手工劳动；事实上，为了正常运行甚至完全运行，它必须是自动化的。

当然，仍然有传统文档(和瀑布开发)将持续的应用程序。但是重要的是要强调，传统的文档需要瀑布式开发或类似的开发，因为它是在大部分开发周期完成后额外努力的结果。只有在周期结束时有 after，它才会起作用。在 DevOps 中，循环没有尽头，也没有之后；只有持续的开发或者一系列的冲刺，所以除了维护一个持续的文档流，别无选择。这不是一个选项；它内置于系统中。

然而，正如我们所看到的，这就是连续文档的巨大优势。它总是存在的，你只需要了解什么是可用的，什么对你来说是重要的，以及如何自动组织和引导数据流以最适合你的目的。