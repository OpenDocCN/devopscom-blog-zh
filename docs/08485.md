# 思科的 OpFlex 对 DevOps 意味着什么

> 原文:[https://devo PS . com/op flex-devo PS-ciscos-latest-proposed-protocol-means/](https://devops.com/opflex-devops-ciscos-latest-proposed-protocol-means/)

在今年的 Interop 上，网络领域的一些重大新闻围绕着思科对开源和互联网的最新贡献，它提出了“OpFlex”控制平面协议。

该协议本身专注于与网络元素的通信，并指定了各种格式的编码，包括 JSON，这是开发人员友好的。这当然很好，但是作为一个对操作和开发感兴趣的人，最大的问题是为什么您应该关心看起来像是网络协议的东西呢？毕竟，美丽只是表面现象。对*你*有什么好处？

要了解 DevOps 在图片中的位置，请考虑 OpFlex 协议的 IETF 草案[中指定的 OpFlex 描述:](https://tools.ietf.org/html/draft-smith-opflex-00)

> OpFlex 架构提供了一个基于声明性策略信息模型的分布式控制系统。策略在逻辑上集中的策略存储库(PR)中定义，并在一组分布式策略元素(PE)中实施。PR 使用 OpFlex 控制协议与下属 PE 通信。这个协议允许策略、事件、统计数据和错误的双向通信。本文件定义了 OpFlex 控制协议。[强调我的]

所提供的不仅仅是双向通信的协议，而是共享策略和可操作数据的整个架构。对那些不熟悉“网络”的人来说，更重要的是，政策被设计成具有宣示性和抽象性。这意味着，策略声明(描述)需要什么，而不是发布一组通常特定于设备或服务的命令，参与架构的每个组件根据其特定的功能和能力解释这些需求。

此时你可能会想(我知道我肯定是)“这个政策是什么，谁来定义它？”因为这似乎是整个努力的核心价值。

为此，我们需要关注 OpenDaylight (ODL)项目，它创建了一个名为 ODL 组策略插件的新项目。正如思科在 OpFlex 白皮书中所解释的那样，“这个项目的目标是提供一个基于策略的 API，在实践中，它可以作为 OpFlex 实施中的标准信息模型。”

跳到维基中的 ODL 组策略插件，组策略插件的目的是引入*“端点组的概念和管理这些组之间通信的策略抽象。目标是支持北向 API ，该 API 接受基于应用需求的抽象策略，同时提供许多具体的南向实现，用于使用应用策略*呈现的配置/编程节对网元进行编程

好吧，这是一大堆..文字。归结起来就是，我们可以简单地声明“Web 服务器 A 可以与数据库服务器 A 对话以执行数据库事务”，而“管理控制台 B 可以与数据库服务器 A 对话以执行管理任务”，而不是用一个策略来描述一组使用适当的 ACL 来管理路由的规则如果要将其转化为具体内容，您可能会有多个命令性命令行，每个命令行都描述 VLAN 参与和路由，以及允许特定 VLAN 或 IP 地址之间的流量在适用于应用层协议的端口上传输的条目。仅仅因为所需的命令数量，它会很长并且容易出现错误配置。使用声明性(抽象)策略语言不仅简化了策略，还通过消除问题来解决给定市场中竞争产品的固有差异。

解决给定市场空间(如 ADC、IPS 或交换机)中“不同定义和对象模型”的传统建议的问题是，它们都依赖于找到最低的通用模型，这不可避免地导致所有产品都需要降低(商品化)其价值，以确保对所有“XYZ”的一致支持。通过抽象到策略(而不是对象模型)级别，OpFlex 方法有效地消除了这个问题，并强调定义*应用程序需要什么*，而不是*如何*。

现在，实际的政策声明不太可能采用自然语言的形式(这很好，但我们还没有完全准备好……然而，尽管沃森可能不同意我的观点),但总的前提是提供一种更友好的政策语言。

这意味着，最有可能熟悉应用程序架构并了解其需求和工作方式的操作人员，可能是真正将其编入策略的人。您会注意到，OpenDaylight 的意图至少是"*支持一个基于应用需求接受抽象策略的北向 API*"这意味着某人——提示，提示，就是你——可能能够根据对应用程序各部分之间复杂连接网络的理解，将所需的网络服务和拓扑约束整合到应用程序部署生命周期供应中。从经验中知道“三层架构”不仅仅意味着三个组件，并且能够更有效地描述它们应该如何交互的人。

但这只是开始。您会注意到，在上面的 RFC 摘要中，它指定了“策略、事件、统计数据和错误的双向通信”这意味着参与组件之间正在交换可操作的数据。可操作的数据有助于采取行动。可能解决端点之间发生的故障的动作。可能解决性能问题的措施。可能实时缓解攻击的操作。

最终，这种水平的能力将推动新的解决方案——新的工作流和流程——利用基于事件的系统和策略驱动的网络。OpFlex 应该能够执行类似“当 X 发生时，do Y”的语句，即使它需要协调三个或四个或更多的网络组件。

OpFlex 对 devops 从业者的意义在于，它可以影响(或者，我们希望直接指定)网络为您负责部署和交付的应用提供什么服务，以及网络如何响应任何网络上发生的影响这些应用的性能、安全性或稳定性的事情。

随着网络不断认识到并满足提供应用驱动的服务的需求，包括供应和实时适应，它将继续变得更加可编程，并与系统集成，推动更加自动化、协调的数据中心。这意味着 devops 从业者在如何管理整个应用(和网络)服务生命周期方面将有越来越多的选择。