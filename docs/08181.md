# 云事件响应的最佳实践

> 原文：<https://devops.com/best-practices-for-cloud-incident-response/>

云计算现在是主流，几乎所有组织都在公共云中运行至少一些资源，无论是软件即服务(SaaS)、平台即服务(PaaS)还是基础架构即服务(IaaS)。安全团队一直在努力适应云环境，随着 DevSecOps 的采用越来越多，他们正在与 DevOps 团队合作，从根本上保护云系统。

当您的组织发现保护其云投资的最佳方式时，您还需要为云开发一个[事件响应](https://devops.com/?s=incident+management)策略。即使您的云安全控制完美无缺(事实并非如此)，攻击还是会发生。知道在攻击期间应该做什么，并让团队做好事件响应准备，这可能是一个事件迅速得到控制和解决，还是一场数百万美元的灾难。

## 什么是事件响应？

事件响应使组织能够确保他们意识到安全事件，并能够及时做出响应，以限制对其系统的损害。目标是阻止攻击并防止将来发生类似的攻击。

SANS 协会的六步事件响应流程为安全事件提供了一个结构化的框架。这些步骤是:

**准备**—建立安全策略，执行风险评估，确定哪些资产是敏感的，并建立事件响应团队。
**识别**—监控您的系统以检测异常活动，识别真实的安全事件并调查威胁的严重性和类型。
**遏制**—执行短期遏制程序以阻止威胁的传播，随后是长期遏制，如应用临时修复和重新运行干净的系统。
**根除**—确定事件的根本原因，删除恶意软件并实施措施以防止未来的攻击。
**恢复**—恢复您的生产系统，并采取措施防止进一步的攻击。测试和监控恢复的系统。

## 如何让您的云做好事件响应准备

有几种方法可以让您的事件响应团队和云环境做好更有效的事件响应准备:

**建立响应目标**—与利益相关方、法律顾问和组织领导协商确定事件响应目标。常见的目标包括问题控制和缓解、恢复受影响的资源，以及存储用于证据和归因的数据。
**使用云来响应**—确保您的云资源包括响应事件所需的工具和资源。例如，确保您拥有强大的基于云的日志记录和监控系统，并设置[基于云的备份和灾难恢复](https://cloudian.com/guides/data-backup/backup-cloud-storage/)，以便您可以快速恢复受影响的系统。
**确定您的需求**—将日志、快照和其他证据的副本保存在一个集中的云帐户中。应用机制来强制实施保留策略。使用标签和元数据来维护可见性，并将日志和云资源连接到组织单位、项目或公司系统。
**使用重新部署机制**—如果安全异常是由错误配置引起的，您应该能够通过使用适当的配置重新部署资源来轻松修复它。如有必要，确保响应机制可以多次执行。
**利用自动化**—在识别重复出现的问题和事件后，尽可能自动化并以编程方式分解它们，以建立常见情况的响应机制。比如在 AWS 上使用成熟的[自动伸缩服务](https://spot.io/resources/aws-auto-scaling-scaling-ec2-ecs-rds-and-more/)或者微软 Azure 的[基础设施即代码(IaC)功能](https://cloud.netapp.com/blog/save-time-and-headaches-with-infrastructure-as-code-on-azure-cvo-blg)。这在云上比在本地数据中心要容易得多。确保您仅针对独特的、新的或关键的事件使用人工响应。

## 云中有效的事件响应

使用以下提示来提高您在公共云环境中应对安全事件的能力。

### 转移你的注意力

与传统的内部环境相比，云环境要求您监控不同的元素。在云中，您应该关注应用程序、API 和用户角色。考虑事件响应者如何在云环境中成功运作，以及他们可能需要执行什么任务。事件响应团队必须对您的系统拥有适当的访问权限和可见性，以便他们能够检测、补救和预防攻击。

### 集成警报和事件管理工具

安全团队必须能够直接访问支持数据，以便对警报进行分类并对事件进行分类。为此，安全警报工具应该与您使用的任何事件管理工具相集成，例如 PagerDuty 和 Slack。这使得安全警报能够直接到达您的团队使用的现有工具和工作流。应急人员将不必在工具之间切换来查看发生了什么。

建立一个审计跟踪来捕获对每个警报的响应，这将提供可见性和责任性，并帮助您完善您的响应流程。在安全工具中采取的所有操作必须在相关的协作工具中可见，这样您就可以看到谁在何时解除了特定的警报，以及他们做了哪些注释。

### 与您的云提供商合作

云提供商通常有一个事件响应团队，但是您不能假设供应商将在事件期间处理所有事情。请注意共享责任模式，在这种模式下，云提供商负责保护基础架构，而客户负责数据和工作负载。

确保您了解您的云提供商的服务协议，以及谁具体负责响应的哪一部分。弄清楚你能从供应商的团队那里得到什么样的提醒，以及它能如何支持你自己的团队。明确关系并建立联系点可以在事故中节省关键时间。

### 保护您的日志

主要的云供应商为他们的环境提供日志记录功能，包括日志文件或运营指标，以提供对服务运营的洞察。日志服务可以是免费的，也可以是付费的，范围从基本的访问日志到完整的审计和配置日志。大多数云日志服务将允许您在云之外或内部存储日志——这样做很重要。

日志是事件响应调查的有用资源，您必须确保攻击者无法访问它们。攻击者可能会损害您的云系统或服务，但他们无法修改或删除您的日志。日志是一种受保护的信息源，可以帮助您识别攻击时间表、目标系统和攻击者的 IP 地址。这为调查提供了一个可靠的起点。

### 进行网络靶场训练

组织通常依靠演习来训练或测试他们的安全和事件响应能力。如今，云环境提供了一个在受保护的环境中模拟生产网络的机会，使您的安全团队能够在一个安全的环境中练习应对网络上的真实攻击。

AWS CloudFormation 等工具允许您快速设计和部署与实际网络完全相同的培训网络。你可以通过限制锻炼时间来降低成本。这些练习可能是让您的团队准备好应对现实世界中的攻击的最佳方式。

这些是安全事件响应的基础，为事件响应准备云环境，以及当不可避免的攻击发生时，团队如何有效地做出反应。简而言之，重要的是:

**关注重要的事情**–在云中，这是 API、应用程序以及身份和访问管理(IAM)系统。
**集成警报和事件管理工具**—云提供充足的自动化功能。使用它们自动响应常见的异常情况。
**与您的云提供商合作**–您在云中并不孤单，团队需要准确了解云提供商在响应事件时将扮演的角色。
**保护您的日志**–如果日志遭到篡改，您将无法检测、调查和响应攻击。不惜一切代价保护他们。
**进行网络范围培训**——在事件真正发生之前，你永远不会真正知道如何应对事件。不要等待真正的攻击，进行一次“网络范围训练”或安全演习，看看在攻击场景中每个人是如何合作的。

现在，您可以更好地为开发人员、运营人员和安全团队迈向一致的云安全战略做好准备。