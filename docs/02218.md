# 面向开发运维团队的自助式工作负载保护

> 原文:[https://devo PS . com/self-service-workload-protection-for-devo PS-teams/](https://devops.com/self-service-workload-protection-for-devops-teams/)

DevOps 世界里的每个人(或者几乎每个人)都喜欢谈论安全性的重要性。但是，这些 DevOps 安全对话往往以一般性建议结束，如“遵循 OWASP 十大建议”

不要误解我——像 OWASP 这样的参考框架是帮助指导 DevOps 安全性的很好的资源。但是对于许多 DevOps 团队来说，如何在这些框架的抽象理论和实际实践之间架起一座桥梁通常并不明显。考虑到许多 DevOps 团队每天都在快速移动的 CI/CD 环境中灭火，几乎没有时间后退一步实施安全最佳实践，即使他们知道他们应该这样做，这一点尤其正确。

在本文中，我将介绍一个现实世界中的策略，用于实现由 OWASP 等组织概述的 DevOps 安全最佳实践。这种策略就是我所说的自助式工作负载保护。该术语指的是使安全性不仅仅是 DevOps 团队认为抽象的重要的东西，而是一种易于使用的服务，DevOps 团队中的任何人都可以像 CI/CD 管道中的任何其他流程一样操作。

换句话说，我们需要一种自助式方法，通过开发运维团队可以按需利用的可访问的策略和工具库来提供工作负载保护。让我们看看如何在实践中实现这一点。

## **了解自助服务工作负载**

要了解自助服务工作负载的工作原理，我们需要了解定义安全且正确配置的应用程序部署的常见参数。有了这些信息，安全团队可以自动化流程，并为开发运维服务团队提供一整套可重复使用且适应性强的工具。

通用参数通常归结为以下因素:

*   确保对每个部署至少运行一次所有必需的合规性和安全性扫描。这些扫描需要使用预防措施并阻止不安全的部署。
*   确保对于发现的任何新漏洞，我们都将其添加到检查列表中。(例如，我们应该能够在发现新问题时看到更新的报告。)
*   对开发和生产站点执行审计报告和持续的安全监控，以捕捉安全问题。
*   建立合理实用的安全默认策略和授权配置文件。

上述参数应被捕获并打包为自助服务解决方案，并在正常操作流程中使用，例如 CI/CD 管道、验证和合规性检查、创建新映像并将其上传到容器注册表等。这意味着安全团队将不得不花费一些时间来确保工作负载保护策略的应用是一项团队工作。

有关自动化安全性的更多提示，请查看赛门铁克最近举办的关于 DevOps 安全性和合规性的网络研讨会。

## **如何通过自助工作负载保护提高安全性**

从安全团队的角度来看，主要目标是让组织中的每个人都可以访问安全性。不仅如此，他们提供的工具和资源也需要被记录下来并易于使用。DevOps 团队应该能够在不知道其来龙去脉的情况下插入安全控制，尽管他们需要有方法让安全团队知道是否有问题。让我们探索一下如何让这个过程变得更好。

### 通过 CI/CD 管道的左移安全性

左移安全是安全团队的主要关注点，也是最棘手的。通过在开发过程的早期添加更多的安全检查和审计，存在踏入他人的池塘的风险(这可能会降低他们的工作流程体验)。

更好的方法是将更多的责任交给 DevOps 团队，让他们决定可能的最佳集成点。会犯错误，但会吸取重要的教训。从流程中收集反馈，如果需要的话，对可接受的内容进行迭代。这样，每个人都会受益。如果采取了适当的步骤，安全团队将有办法在开发过程中应用其安全检查，并且 DevOps 团队将保护其基础设施(至少免受已知风险)。

测试自动化和持续集成点是最明显的解决方案，因为它们是系统中自动化程度最高的部分。安全团队可以更进一步，提供可重用的策略和部署步骤，这些策略和步骤可以添加到每种部署类型中。例如，他们可以提供一个容器映像，其中捆绑了安全检查和测试常见安全问题的框架。DevOps 团队只需通过 CI/CD 仪表板启用检查，在构建阶段，如果安全检查失败，检查将充当网关。

此外，安全团队可以共享基础架构策略，并通过基础架构即代码工具(如使用远程状态的 [Terraform](https://www.terraform.io/) )保护默认配置。这可以由 DevOps 团队在基础架构配置期间启用，无需进行任何配置。以这种方式共享状态通常会改善部门之间的协作。

### 预烘焙的安全图像

开发人员使用虚拟机和容器来打包他们的应用程序，以便 DevOps 团队将其部署到生产环境中。通常，这些映像托管特定于该应用程序的重要配置和服务。有什么比让安全团队准备一份可安全使用的映像列表更理想的呢？这些映像预先配置了安全默认值，并针对漏洞进行了扫描。开发人员只需通过 ID 指定所需的映像，这样 DevOps 团队就可以在所有部署中使用它。

提示:赛门铁克的 [CWP 产品](https://support.symantec.com/en_US/article.HOWTO128562.html#v127490077)与 Jenkins 集成，在 CI/CD 过程中实现简单、自动化的漏洞扫描。

例如， [Packer](https://www.packer.io/) 等工具用于为 AWS 计算实例创建相同的映像，而 [seccomp](https://docs.docker.com/engine/security/seccomp/) 配置文件等特性则用于 Docker 映像。借助 Packer，您可以将一致的映像部署到云中，并将漏洞扫描集成到流程中，以确保部署的映像符合 GSO 准则。不过，这里有一个小小的警告:如果开发人员决定添加一个需要更多功能的外部库，并且他们没有通知安全团队，那么应用程序可能会在生产中出现问题，而 DevOps 团队可能会不知情。因此，重要的是要有一个良好的沟通渠道，并对引入系统的每个新依赖项或变更进行安全评估。这使得自助服务协议不会出现中断或误解。

## **结论**

让 DevOps 团队在安全控制和合规性要求方面管理自己的自助服务事务，是迈向更高效的业务模式的下一个重要步骤。有额外的成本，但最终结果具有长期优势。

通过从安全门户访问工具、配置策略和预烤映像的预设存储库，团队可以从一开始就集成安全性，同时保持加速开发的优势。通过这样做，安全和开发运维团队可以改善他们的协作。

这是个好消息。更好的是，我们可以使用一个适合上述所有任务的工具—赛门铁克的[工作负载安全保护](https://www.symantec.com/products/cloud-workload-protection)。如果你想了解更多关于这个平台的信息，看看它如何通过免费试用[来帮助保护你的云](https://securitycloud.symantec.com/cc/#/landing?inid=us_symc_cloud-workload-protection_pdp_to_leadgen_trialware_PID-101_cloud-workload-protection)。

*本文是代表[赛门铁克](https://www.symantec.com/)撰写的。*

— [西奥·德斯普迪斯](https://devops.com/author/theo-despoudis/)