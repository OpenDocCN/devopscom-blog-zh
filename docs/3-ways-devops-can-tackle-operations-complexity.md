# 解决开发运维复杂性的 3 种方法

> 原文：<https://devops.com/3-ways-devops-can-tackle-operations-complexity/>

开发运维颇具挑战性，其部分复杂性要求平台既是 SaaS 环境又是托管环境，运行于多个云提供商之上，还可能在内部运行。是否有一个平台可以连接应用程序和系统，同时支持企业加速数字化转型？如果以传统方式进行，你就具备了陷入运营噩梦的所有要素。除非你从第一天开始就用[云原生方法](https://en.wikipedia.org/wiki/Cloud_native_computing)应对挑战。

让我们探索三种解决开发运维复杂性的方法。

## 云原生架构

为什么使用 Kubernetes？这项技术是一个用于自动化部署的开源系统，处理大规模和管理容器化的应用程序。如果主要的计划是隔离运行的每一个集成，那么选择一个可以给你一个良好开端的架构组件。

基于微服务并在容器上运行的设计良好的应用程序可以通过以下方式从 Kubernetes 等技术中受益匪浅:

*   **弹性&容错:**这些是当今高可用性、永不停机系统的关键要素。在活跃度和就绪性探测器的帮助下，我们可以建立一个环境，在这个环境中，任何行为不当的容器都可以被自动回收，并有一个新的实例可供使用。
*   **多区域集群:**在多区域集群中，可以应用难以实现的容错架构，即如果出现故障，在一个区域上运行的容器会自动移动到另一个区域。通过将其与 GCP 跨区域复制卷的能力相结合，您可以提供真正的容错体系结构。
*   **毫秒级恢复:**任何重启的容器都需要毫秒级的时间重新准备好，所以绝对不会发生中断。
*   **微服务隔离:**行为不当的容器不会影响其他容器，因为在 CPU 和内存使用方面有强化的限制。

## 作为代码部署

GitOps 是我们的口头禅。GitOps 是实现云原生应用连续部署的一种方式。它通过使用开发人员已经熟悉的工具，包括 Git 和持续部署工具，关注操作基础设施时以开发人员为中心的体验。

这里的技术是遵循常规的 Git 流方法，让自动化的“操作者”将更改应用到 Kubernetes 集群。这些操作符是运行在 Kubernetes 集群上的常规容器，它们不断地监视 Git 源代码库的变化。一旦检测到变化，操作员会自动触发更新。

对于自动化安装，使用 Helm 作为部署引擎。当 Git 中的舵配置发生变化时，操作员会自动应用这些变化。

这种方法实质上是将在环境中执行操作的传统命令式部署模型转变为声明式方法，在声明式方法中，环境的状态由一组规则定义，并由这些操作符保持同步。

杰出的治理水平也可以在所有集群中通过单一的事实来源来实现。如果在任何环境中引入了手动更改，操作员将会检测到并恢复到定义的状态。

## 规范化混合环境

Kubernetes 功能强大，但价格不菲。维护不同的版本和发行版非常具有挑战性，尤其是在使用不同的云提供商和内部环境时。由于这一事实，你必须找到一种技术来[抽象掉](https://devops.com/data-monoliths-go-cloud-native-with-kubernetes/)复杂性，使操作正常化。

为此可以考虑 Google Anthos，它是基于 Google Kubernetes 引擎的完整 Kubernetes 发行版，面向 Google 云平台客户。多年来，谷歌完善了其 Kubernetes 发行版，并最终将其作为产品发布在其云平台上。

使用 Anthos 等技术的主要优势包括:

*   适用于基于 VMware 的本地环境的标准 Kubernetes 安装。
*   AWS 和 Azure 云提供商中 Kubernetes 引擎的连接器。
*   内置的配置管理功能允许我们声明集群并保持它们同步。
*   从单个管理门户远程控制 Kubernetes 环境，以便轻松访问所有集群资源。
*   在 Google 的 StackDriver 上整合监控指标。

这三种方法足以实现混合环境更好的可扩展性、治理和控制，从而解决开发运维问题和复杂性。它们实际上是应用程序设计和操作的一种新思维。我真的相信他们可以帮助公司交付更好的软件，同时认识到处理企业应用程序的复杂性和挑战。