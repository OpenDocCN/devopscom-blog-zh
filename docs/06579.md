# 如何用 10 个步骤实现 AWS 安全

> 原文:[https://devops.com/how-to-achieve-aws-security-in-10-steps/](https://devops.com/how-to-achieve-aws-security-in-10-steps/)

***想锁定您的 AWS 云服务？以下是 AWS 安全的 10 个步骤***

随着越来越多的公司采用云计算，安全性正成为一个更大的挑战。无论规模大小，组织都越来越意识到拥有适当的云安全实践的重要性。越来越多的公司正在创造一种文化，其中数字工程团队将[云安全](https://devops.com/practical-approaches-to-long-term-cloud-native-security/)作为优先事项，并检查他们的服务提供商是否能够为他们的云工作负载提供正确的安全级别。这取决于组织与其云服务提供商的合作，以了解不同的安全角色、责任、工具和最佳实践。

事实证明，在安全方面取得平衡正变得越来越容易。例如，AWS 已经发布了其[云安全最佳实践](https://aws.github.io/aws-eks-best-practices/)，以帮助客户以高度安全的方式实施云服务。这些最佳实践为不确定所需工具或服务的组织提供了指导。AWS 云平台允许客户在维护安全环境的同时进行扩展和创新；与内部环境不同，客户只需为他们正在使用的云安全服务付费，无需任何前期费用。

当谈到云安全混乱时，意外和不必要的暴露服务的错误配置是最大的罪魁祸首。实施过程中的任何错误配置都有可能导致严重的问题。在云中，资源供应、管理和监控通过 API、控制台和命令行界面(CLI)进行。因此，在采用云的早期阶段保护所有这些连接至关重要。

## 从经验中学习

团队还必须确保虚拟化、身份和访问管理(IAM)、工作负载保护以及网络安全和加密是该架构蓝图的一部分。我们都很熟悉成为新闻的灾难性数据泄露事件，但还有许多其他事件不是这样，其中绝大多数是可以避免的。让我们检查以下三个场景，它们都来自真实的经历，然后看看如何避免该漏洞。

### 案例 1:密码很重要

由于根用户密码较弱，加上未配置 MFA，AWS 帐户遭到破坏。一个攻击者删除了 EBS、EC2 实例、S3 数据备份，并索要赎金来提供数据库备份文件。

***这可以通过使用具有特定策略的 IAM 用户而不是使用 root 帐户来防止。*T3】**

### 案例 2:可见的访问键

开发人员在脚本中发布了 AWS 访问和秘密访问密钥的开发帐户凭证，这些凭证位于公共 Git 存储库中。利用这些密钥，攻击者可以在所有区域部署多种资源，并创建多种虚拟资源。在账户被劫持的六到八个小时里，攻击者获得了 4000 到 5000 美元的账单。

这可以通过使用 IAM 角色而不是将访问键硬编码到代码中来避免。访问密钥应该定期轮换。T3】

### 案例 3:错误配置

安全组配置不正确。特别是，端口 22 是全局允许的，端口 80 和 443 也对所有人开放。EC2 实例上托管的应用程序由应用程序负载平衡器进行前端处理。攻击者发现了一个基本的跨站点脚本漏洞和 SQL 注入，试图注入恶意脚本并从服务器上删除所有数据。

***按照可信的建议，将 WAF 放在应用程序负载平衡器之上，并利用 AWS inspector 进行安全评估，这本来是可以避免的。*T3】**

## 10 步实现 AWS 安全性

这三个警示故事都是小的安全漏洞造成大损失的例子，它们都证明了部署安全云选项是多么容易。事后诸葛亮是一件很棒的事情，但是从一开始就避免犯这个错误就更好了。这里有一个 10 步指南，帮助您理解安全最佳实践结构，以及用户应该如何以最佳方式实现 AWS 平台及其服务。

### **1。了解分担责任模式![](../Images/aba7e3ce1563bf89dc6bc0ae6c52d787.png)**

*   **亚马逊的职责:** AWS 专注于基础设施安全，包括计算、存储、数据库和入侵防御网络服务。AWS 还负责托管 AWS 服务的软件、硬件和物理设施的安全。
*   **客户的责任:** AWS 客户负责被视为不受管理的 AWS 服务的安全使用。客户负责管理用户群访问身份验证方法、存储在 AWS 中的数据加密。

### 2.遵循 IAM 最佳实践

*   AWS 身份和访问管理服务使用户能够安全地管理对 AWS 服务和资源的访问。
*   可以通过创建组和用户并对用户应用粒度权限策略来提供对 API 和资源的有限访问，从而管理 AWS 帐户。此[视频](https://www.youtube.com/watch?v=YQsK4MtsELU)深入探讨了 IAM 策略管理。
*   授予 IAM 角色时，遵循“最小特权”的安全方法。
*   轮换访问密钥和密码。

### 3.管理操作系统级访问并确保 Ec2 实例的安全

*   运行检查员评估以生成操作系统级漏洞报告。
*   使用系统补丁管理器保持操作系统软件包更新。
*   定期修补 EC2 实例，以保护您的基础设施免受新发现的错误和漏洞的影响。
*   遵循操作系统供应商 RedHat、Suse、Microsoft 等提供的安全建议。从安全角度来看，这有助于保持所有特定于操作系统的包的更新。

### 4.加密

*   AWS 中有两种加密方法:传输中和静态。
*   使用 AWS KMS 存储静态加密密钥，这些密钥可以是 AWS 生成的，也可以是客户生成的。
*   使用云 HSM 提供存储密钥的硬件加密设备。
*   大多数 AWS 服务通过提供提供端到端加密的 https 端点来提供传输中的加密。
*   AWS 证书管理器允许您为公共域创建 SSL 证书。

### 5.遵循 AWS 数据库和存储服务的安全最佳实践

*   静态 RDS 存储应该加密。
*   限制对 RDS 实例的访问，以降低恶意活动的风险，如暴力攻击、SQL 注入或 DoS 攻击。
*   静态 S3 存储应该加密。
*   应该使用 S3 策略来限制对 S3 内容的访问。如果你没有任何暴露对象的需求，保持你的 S3 桶私有。
*   使用 AWS Macie 来检测和保护 AWS-S3 内的敏感数据。
*   使用 AWS 参数存储来存储特定于环境的凭证和机密，这可以通过对云原生应用程序使用机密管理来轻松实现。

### 6.网络安全性

*   入侵检测系统(IDS)或入侵防御系统(IPS)允许检测和预防对关键基础设施(如银行相关交易应用的支付网关)的攻击。
*   应该启用 VPC 流日志来监控网络流量。
*   通过安全组(EC2、RDS、弹性缓存等)限制访问。)
*   利用警戒职责持续监控 AWS 账户和基础设施。

### 7.Web 应用程序安全性

*   Web 应用程序防火墙(WAF)为 web 流量提供深度数据包检测。
*   WAF 还有助于防止特定于平台和应用的攻击、协议健全性攻击和未经授权的用户访问。
*   Amazon Inspector 是一种自动化的安全评估服务，可以提高部署在 AWS 上的应用程序的安全性和合规性。
*   使用 AWS Cognito 安全地验证应用程序用户池。它还支持来自谷歌、亚马逊和脸书的联合访问。

### 8.启用配置管理

*   AWS 配置有助于审核、评估和评价 AWS 内的配置变更。
*   客户还可以依赖第三方配置管理工具，这些工具可以提供更细粒度的可见性。

### 9.监控和警报

*   CloudTrail 支持审计和监控 AWS 帐户中授权和未授权的活动。
*   可以针对 AWS 帐户内的恶意活动以及 AWS 和应用程序日志内部署的基础架构设置 CloudWatch 警报。
*   设置计费警报，让您的团队了解特定客户或基础架构的成本利用率。

### 10.合规、培训和认证

*   AWS Artifact 帮助客户获得一个免费的自助式门户，以便按需访问 AWS 合规性报告。
*   培训和教育团队使用 AWS 云平台部署或负责基础设施。

实施 AWS 提供的这些云安全最佳实践指南有助于组织实施适当的安全措施，无论他们处于数字化转型之旅的哪个阶段，也无论他们的组织规模有多大。