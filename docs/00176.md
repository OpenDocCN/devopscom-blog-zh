# DevOps 文化符合 SLA

> 原文:[https://devops.com/devops-culture-meets-sla/](https://devops.com/devops-culture-meets-sla/)

每个 SaaS 提供商的目标都应该是 100%可用性，这应该根植于他们的文化中。但是更常见的是看到一系列的 9。从数字上看，这显然不是同一个价值观，从文化上看，它们是两个不同的世界。当您的可用性目标低于 100%时，您就明确地容忍了一定的停机时间。它改变了需求，改变了所有参与向客户交付应用程序的人的观点。当我们想到“九”时，我想我们总是会想到它们之间的区别，尤其是技术上的区别。但是要达到 100%，你需要文化。一种狂热致力于实现这一目标的文化。

**一次回顾**

这是一个老生常谈的话题，但是让我们再来看看最常见的 SLA 测量是什么以及它意味着什么。[系统可用性](https://en.wikipedia.org/wiki/Availability)是指在一段时间内(一周、一个月、一个季度、一年)实际可用分钟数的比率。我们通常按照每月 30 天的 SLA 来讨论。99.9%的可用性是每月 43.8 分钟的停机时间。99.99%是每月 4.32 分钟，99.999%只是每月 25.9 秒。

我发现这些数字的有趣之处在于试图保证更高的 SLA 的含义。有过程，有付出，就能做到 99.9%。但那不会让你达到 99.99%。要实现这一点，您至少需要故障转移自动化。要得到第五个九，你需要自我修复的自动化。这些数字中的每一个都代表可用性的数量级增长。同样，获得这种可用性需要更多的努力和专业知识。

你和 SLA 是什么关系？

当服务中断时，组织的首要任务是以最小的风险尽快恢复服务。在成熟的组织中，通常有自动化和自我修复的流程，为最常见类型的故障提供第一道防线。但是总有意想不到的问题会在任何时候出现。解决这些问题所需的专业知识因问题的性质而异。它可能需要一个主要负责开发、dba 或安全的人。对于解决这个问题所需的关键资源来说，关注这个问题的其他人都是次要的。我花了很多时间在停电作战室里感到无助，因为我不具备解决问题所需的特殊技能。当您扩展这个问题时，您开始看到为了防止停机再次发生，您需要关键资源始终考虑停机/问题缓解，而不是响应特定的事件。

有时，在遇到这样的麻烦时，会有人来找我，问我应该如何解决这个问题。在很多情况下，我的回答是，“我们需要建立一个没有中断的系统。”尴尬的沉默之后，提问者开始意识到被提问者其实很严肃。我也是。问题是，要想真正实现这个目标，或者接近这个目标，你需要每个人在任何时候都在某种程度上参与进来。

**SLA 毫无意义**

大约 15 年前，我通过雇佣方式继承的一个名牌存储阵列发生了灾难性故障。这是一种受管、完全冗余、容错的阵列，消耗了大量运营支出，服务级别协议中的可用性为 99.5%。当它不可避免地失败时(你知道那即将到来，对吗？)我查看了合同，发现除非存储设备的可用性降至 85%以下，否则我们不能声称存在重大违约。我惊呆了。我的生意早在 85%之前就完蛋了。

同样，您可以有 99.95%的月份，但是如果少量的停机时间碰巧影响到您最大、最苛刻的客户，SLA 就无关紧要了。作为客户，他们会变得愤怒并面临风险，因为你辜负了他们。作为一名运营主管，我学到的是 SLA 背后的承诺远比 SLA 本身更重要。换句话说，如果你每次都处理得非常好，你可以把糟糕的情况变成积极的情况。这意味着公司的每个人，从普通员工到首席执行官，无时无刻不在努力保持正常运行，而不仅仅是在事故期间。如果这真的是一个目标——并且已经融入到公司文化中——你与之互动的每个人都会看到它，并理解这种承诺。

SLA 的另一个产物是有害的。当重点放在可用性数字上时，目标就太低了。每个 SaaS 提供商的目标应该是 100%正常运行。当您的目标是 99.9%时，您实际上有一个可以利用的停机时间预算，同时仍然可以超出您的目标。这里有一个我亲身经历的例子。我曾经有一项服务需要定期停机进行维护。有一个月，我因该服务的意外事故导致 30 分钟的停机时间，而该服务的 SLA 为 99.9%。我们还计划在那个月进行软件更新，需要 20 分钟的停机时间。我把更新移到了下个月，这样就不会影响到本月的 SLA。这在当时没有多大意义，也没有感觉到非常以客户为中心，但正如艾利·M·高德拉特博士在[目标](https://en.wikipedia.org/wiki/The_Goal)中所写的，“告诉我你将如何衡量我，我将告诉你我将如何表现。”我有机会达到那个月的 SLA，所以我尽我所能去达到它。考虑到我推迟了一个软件更新，而这个软件更新本可以给我的客户带来新的特性，我的选择看起来是武断的，与以客户为中心的组织是背道而驰的。

**这需要一种文化**

DevOps 运动真正令人兴奋的一点是，它倡导知识在整个组织中传播。从我自私的运营角度来看，这意味着以前只有在可怕的紧急情况下才会联系的个人现在与他们的服务的可用性和性能有了更多的内在联系。通过接触操作经验，那些以前的外部方现在看到了挑战和问题。我们行业的大多数人都喜欢好的挑战。我从这种交流中得到的是新观点的注入和关于那些长期以来只存在于操作领域的主题的多样化和健康的辩论。对我来说，获得这种专业水平和广度的关注是宣传可用性和性能的绝佳机会。更重要的是，如果所有人才都超级积极地实现 100%的正常运行时间，性能和可用性将随之而来。任何不足都是一种妥协，我不想代表我的客户妥协。我想让他们 100%的开心。