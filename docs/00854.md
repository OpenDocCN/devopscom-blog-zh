# 在家学习 DevOps

> 原文:[https://devops.com/homeops-learning-devops-home/](https://devops.com/homeops-learning-devops-home/)

当我在 StackEngine 得到一份技术宣传员的工作时，我妻子的第一个问题是，“为什么有人会花钱让你飞遍全国，谈论你是如何工作的？”我最小的儿子说得更好，“是的，爸爸，我们爱你，当你谈论工作时，我们不听！”

我试图解释精益原则。那就像一个铅气球一样过去了。我试图用一种更人性化的方式来解释约翰·威利斯(John Willis)的 karoji satu(karoji satu)帖子，以及运营行业普遍存在的压力和抑郁。他们为那些人感到难过，但仍然没有看到 100 多个人挤在一个房间里听这件事。

当我自己的家庭都不关心的时候，我该如何促进组织变革呢？我需要一种方式来传达我的想法，这样任何人都可以接近它们。

所以，我开始每天洗一堆衣服。

## 洗衣店

真的，回首往事，这是非常明显的。我妻子通常每个星期天都给我们洗衣服。我们可以一天大部分时间呆在家里，或者我们可以推迟，为用完干净的内衣而感到压力。这是对大批量问题的完美比喻。

接下来的那个星期天，我妻子注意到篮子里装了大约三分之一的东西。她说，“嘿，今天没有衣服要洗，我们今天早上去水上公园吧，免得人多。”

我妻子很高兴。孩子们很兴奋。我就在想，“嗯，这个[连续交付模式](https://www.thoughtworks.com/continuous-delivery)挺有意思的。”我也在想[单件流](http://www.gembutsu.com/articles/leanmanufacturingprinciples.html)提供了支持先例。

### 洗衣——连续递送

在他们的开创性著作[连续交付(CD)](https://www.amazon.com/Continuous-Delivery-Deployment-Automation-Addison-Wesley/dp/0321601912) 中，亨布尔和法利强调 CD 使工作环境更加人性化。

精益原则说，我应该确定我试图影响什么变量。这个租户被表示为 Willis 和 Damon Edwards 创造的 [CALMS 首字母缩略词](http://itrevolution.com/devops-culture-part-1)的度量支柱。

我的目标是最大限度地享受高质量的家庭时光。这不是为了节约水或能源。我们做了更多的徒步旅行、游泳和其他有趣的事情，因为我们的周末有两天时间。

### 洗衣运营——改变的理由

所以，如果我练习连续送货，一天一次，当我去旅行并带着 5 天的衣服回来时会发生什么？

嗯，我第一次慌了！显然，裁谈会不适用于特殊情况。我需要打破常规。但是，在考虑了一堆衣服之后，我意识到今天和明天做大量的衣物会在第二天使系统恢复平衡。

对我们的衣物采用 CD 思维，在我们的“柔顺剂、洗涤剂、洗衣周期”或简称 SDLC 中暴露出惊人的闲置容量。然而，我确实意识到，在新过程中，一有麻烦的迹象，就有退回到我的舒适区的倾向。

我需要改进我对工作批量的想法。

通常在软件交付生命周期中(嗯，SDLC 也是)，开发人员/项目经理/利益相关者会想:“在部署之前，我还要做一件事。”这通常是因为当前的部署过程是高度手动的、高风险的或耗时的。当然，这些都不是洗衣业的真实情况。

我需要找到使部署更容易、更安全和可重复的方法。

[//www.slideshare.net/slideshow/embed_code/key/1zoKp1wY2Ns8hZ](//www.slideshare.net/slideshow/embed_code/key/1zoKp1wY2Ns8hZ)

**[HomeOps – Reasoning About DevOps at Home](//www.slideshare.net/BoydHemphill/homeops-reasoning-about-devops-at-home-53703966 "HomeOps - Reasoning About DevOps at Home")** from **[Boyd Hemphill](//www.slideshare.net/BoydHemphill)**

## close rops–意想不到的后果

每天进行一次加载，而不是在周日进行多次加载，会产生许多其他有趣的结果，这些结果都适用于软件交付。

### close rops–现金流

如果我们的衣服不在洗衣篮、洗衣机或烘干机里，那么它们在哪里？原来我们的衣柜在迅速发展。这时我妻子说，“我想知道里面有多少钱？”因此，我们翻遍了她的衣柜，发现这是可扣除的，答案是大约 3500 美元。零售我们估计 8500 美元。我们估计我们的房子里有大约 30，000 美元的衣服。今天，这一估计约为 13，000 美元。

我们在大约一年的时间里发放了 17000 美元的现金。

今天，在你的源码控制管理(SCM)系统中，你有几周或几个月的时间来开发特性、修复错误和创新。你已经支付了开发人员、测试人员、项目经理等人的工资。因为你在等待未来某个很长的日子来发布那些特性，你的衣柜里有多少现金…呃… SCM？

### close rops–工具和成本

DevOps 经常被归结为工具。对于洗衣，我们使用低水低能耗洗衣机和气体烘干机，这意味着即使我们每天都运行它们，对我们的能源和水费也没有显著影响。

选择工具应该只在被优化的度量的上下文中进行。

### 回到现实世界

在我作为 DevOps 总监的实际工作中，客户满意度是销售的瓶颈。我们会在幕后工作几个月来制作一个漂亮的定制网站。只是这不是顾客想要的。已经晚了几周了。而且远远超出了预算。做出任何改变都需要太长时间。

我们改变了三件事:

*   我们制定了一个每周展示和说明会议，并将网站交付给项目经理，以获得他们在生产环境中的批准。
*   我们自动化了开发环境，并使其与生产环境完全匹配。
*   从项目的第一天起，我们就确保项目经理可以看到开发人员提交的任何工作

我们取得了巨大的成功:

*   项目经理希望客户经理参与进来。客户经理带来了客户。价值链得到了充分体现。
*   客户很高兴能成为这个过程的一部分
*   网站发布是一个非事件。在建设过程中，我们已经连续几个月每天都在发布。
*   对站点进行更新和更改变得很简单

客户满意度显著提高:

*   客户经理对我们能够带来的新业务充满信心。
*   客户经理从欣赏我们透明度和交付的现有客户那里赢得了回头客。

## 吮吸——devo PS 吮吸

我妻子有一些过敏症。如果我每天用吸尘器打扫房间，她的生活质量会大大提高。因为妻子保养比妻子修理便宜，所以我在做这项工作，我厌倦了每天 30 分钟的时间。实际上，吸尘每 3 到 4 天就要进行一次。

### 吮吸——自动化到合适的程度

去年圣诞节，圣诞老人给我们带来了一台 Roomba。可以设置这个特殊的模型，使它每天自动用吸尘器打扫房间。

我从来没有费心去完全自动化这个过程。

事实证明，手动设置塔很容易。这些栅栏太容易移动了，以至于不值得花力气来完全自动化吸尘。所以每天我都会关上几扇门，然后打开它。然后我搭起塔，把它搬到客厅，然后去上班。

当我们的孩子回家后，他们重置塔，并在他们的卧室，走廊和厨房运行它。我把它设置成晚上覆盖办公室和餐厅。

### 吮吸——工具支持协作

请注意，吸尘工作现在*由我的孩子们分担*。我的妻子也可以运行真空吸尘器，因为她不需要在家里运行真空吸尘器。该工具使我们能够分担这一家务。

选择能够促进传统孤岛之间协作的工具是推倒混乱之墙的关键因素。

### 吮吸——质量来自重复，而不是控制

Roomba 的工作质量不如我们的 Dyson。然而，因为它做得更频繁，总体效果是我们的房子更无过敏原。

同样，坚持关键指标:为我妻子改善房子的宜居性，我们可以清楚地看到圣诞老人用这个自动化工具为我们带来了 DevOps。

圣诞老人得到 DevOps。

### 回到现实世界

自动化开发环境允许运营团队以开发人员习惯的方式与开发人员共享配置。这通常被称为基础设施，代码为[https://devops.com/2014/05/05/meet-infrastructure-code/](https://devops.com/2014/05/05/meet-infrastructure-code/)。

到了使用这个工具的第三周(vagger+Chef)，一些开发人员在代码中提出更改配置的请求。这促进了开发商和运营商之间更紧密的工作关系。

因为站点的开发与站点的交付紧密相关，所以部署过程的质量是通过简单的重复来实现的。

然而，关键的回报是，任何开发人员都可以用一个命令处理任何客户的项目。这一成果为*每位工程师*每周节省了 8 小时！

## paint ops–我的家人理解我

我的家人了解 DevOps 吗？没错。

传统上，为了粉刷我们家的内部，我们会休息几天，购买大量的供应品，移动家具，承受压力，外出就餐…这再次强调了大批量的问题。

我的妻子建议，不要像我们最初讨论的那样，试图在 7 月 4 日假期完成它，而是在时间允许的情况下，每个周末只画一点。

### 测量时间

该项目花费的总时间比预期多了大约 30%。历时约 2.5 个月。然而，时间并不是衡量成功的关键。压力是。一旦我们完成了前几批并理解了安装和拆卸(放下衣服、移动家具、清洗刷子),我经常会在晚上回家时发现我的妻子在粉刷墙壁。

我的妻子能够在她喜欢的任何时候送油漆。

在连续交付范例下工作的软件工程师可以在特性准备好的时候交付特性。

### 喷漆——惊人的低成本

该项目的成本比传统方式低 10%左右。这是因为我们能够非常准确地估算出小批量购买的油漆量。

油漆(销售)价格的市场波动使这一数字无法接近 15%。在价格暂时较低的时候，不要购买大量的油漆，这是有一定的原则的。

### 绘画——一点点混乱

让我们的客厅半旧半新几个星期是我们可以忍受的。这是我们家庭文化的一部分。

工作方式的任何范式转变都必须与组织的文化相匹配。

文化必须与新的工作模式一起发展，甚至在此之前就可以尝试新的工作模式。

### 回到现实世界

DevOps 之旅始终是一项进行中的工作。我们不断改变我们使用工具的方式、工具、流程等。这意味着我们偶尔会错过最后期限，删除生产服务器或根文件系统。

作为文化转变的一部分，企业明白我们现在的处境比 11 个月前好得多。随着时间的推移，建立信任的许多小胜利促成了这一转变。我们的文化必须是，每一个错误都伴随着确保它不再发生的努力。

一点混乱是需要不断改进的。衡量每个变化的影响证明了错误的代价是合理的。

## homeros——精神食粮

当着眼于 DevOps 转型时，许多高管和领导者因缺少手册而感到沮丧。没有像 ITIL 或 ISO 合规性那样的规范方法来进行开发操作。

原因是 DevOps 的唯一处方是持续改进系统，通过该系统您可以向客户交付价值。

找到你生活中想要改善的小事。根据定义“改进”的标准来衡量它改变行为或引入一种工具，并注意您的度量标准的差异。做出相应的反应。重复一遍。

选择小问题，久而久之就能解决大问题。很快你就会觉得准备好解决你职业生涯中的一个问题了。

你现在可以自由地离婚了。

*(见 Boyd 出席 10 月 8 日下午在奥斯丁会议中心举行的 DevOps Connect: CD 峰会。门票已售完，但欢迎无电梯且有空位)*