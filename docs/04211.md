# 针对扩展优化云的技巧

> 原文：<https://devops.com/tips-optimize-cloud-scaling/>

当我第一次开始将公司迁移到云上时(大约七年前)，公司会问我，“为什么应用程序不能扩展？怎么用户还在抱怨慢？”我会解释说云支持自动伸缩，但你仍然必须确保你的应用程序可以在云中伸缩。在人们的心目中，自动扩展和云是同义词。

我再也不会被问到这个问题了(也许人们意识到云并不像看起来那么神奇)。但现在，人们认为云是速度、灵活性和成本效益的代名词。当然，云实现了这一切。但你仍然需要确保优化云来促进这一点。我看到许多公司处于相反的情况:他们的账户充满了诸如 test1、test2 和 finaltest2 等名称的资源，或者他们组建了一个 SWAT 团队来减少 AWS 账单，或者安全性是事后才想到的。这么多工程师在做改变，很难知道谁在做什么。

在您遇到这种情况之前(也许您已经遇到了)，您必须创建工具和流程来优化您的云以进行扩展。

## 制定强有力的政策

云基础设施的变化幅度很大。除非您制定强有力的策略，否则跨多个云帐户管理所有资源会很快失控。我们见过的最有效的方法是对资源使用标签。例如，使用标记来标识资源是否来自某个部门，这些标记被添加到每个资源中。通常，当标记过程嵌入到自动化中时，它工作得非常好。如果有不符合的新资源，自动化应该终止这些资源。你应该尽早实施这样的政策。

仅仅因为这些资源配置了正确的标记，并不意味着它们配置了全部容量。您应该构建自动化来查找未充分利用的实例，并建立精简流程。为了确保每个人都遵守这些政策，您还应该建立变更管理流程。

## 变革管理和 CMDB

变更管理流程的目标是确保所有基础架构变更造成的中断最小，并符合内部指导原则。许多人说 ITIL 变更管理流程不适合快速环境，例如云。我同意，由于变更的规模，通过手动跟踪变更来进行变更管理的传统方式是行不通的。但是在云中，您可以利用自动化来简化变更管理过程；例如，您可以使用自动化来过滤正常的变更和手动变更。一旦所有 AWS 变更都经过审查和批准，除了使安全性和可靠性方面的所有变更可见之外，变更管理还可以同时帮助减少浪费。

大多数公司大量利用自动扩展，新的资源可以基于指定的指标启动。然而，这种行为使得批准变更变得困难。如果新的资源出现和消失，我们如何跟踪基础设施中真正发生变化的是什么？为了获得真实的情况，您需要一个基础设施增量，它显示给定时间段内仍在运行的资源的资源更新。您还可以使用自动化来构建动态变更管理数据库，并使用自动发现来保持 CMDB 同步。

## 分担责任

DevOps 呼吁打破运营和开发团队之间的壁垒，以更快地交付代码。如果您快速发布软件，您可以快速为您的客户增加价值。云促成了这种文化，因为开发人员不再需要等待 it 来调配资源。但是，当没有人负责优化成本和维护安全性时，效果就不好了。如果工程师可以启动资源，他们也要对成本和安全性负责——这是一项共同的责任。您应该根据我们之前谈到的标记，提供每个部门成本的可见性，以便他们知道云不是免费的🙂任何人都可以启动资源，只要他们了解他们正在使用的每个服务的安全最佳实践。

## 结论

精益思想要求减少浪费。什么是浪费？任何不会给客户增加价值的东西。你应该无畏地努力减少浪费。您转向云是因为您可以快速创新，而且经济高效，因此您可以快速为您的客户增加价值。您应该继续优化您的云基础架构，以确保它符合其初衷。

## 关于作者/JT·吉里

![](img/49cc980dccce25737a68329a25e540a1.png) JT 是[nOps–AWS 云安全工具](https://www.nops.io/)的创造者。他花了 10 年时间帮助公司迁移到云并构建自动化基础架构。nOps 是面向云的下一代安全和协作解决方案。nOps 应用变更管理实践来提供集成的安全性并减少云浪费。