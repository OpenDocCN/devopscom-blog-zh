# 支持 DevOps 的网络基础设施必须具备的 5 项功能

> 原文：<https://devops.com/5-capabilities-network-infrastructure-must-have-to-support-devops/>

根据 [Accelerate 2019 年 DevOps 状态](https://services.google.com/fh/files/misc/state-of-devops-2019.pdf) 报告，高性能的 DevOps 组织的部署频率比低性能组织高 200 多倍，恢复时间比低性能组织快 2，600 多倍。这些成果，既有亚马逊这种 [每 11.6 秒部署一次代码](http://assets.en.oreilly.com/1/event/60/Velocity%20Culture%20Presentation.pdf) 的前倾型组织，也有更多存在已久的传统企业实现了。例如，美国知名零售商 Nordstrom 将其移动应用的发布频率从每年两次增加到每月一次。

采用 DevOps 会带来显著的优势，包括改善团队协作、合作和生产力。由于更高的部署和发布频率，公司可以更快地将数字产品、应用和服务推向市场。因为开发和运营团队不是在孤岛中运行，不知道彼此的限制，所以生产环境中的故障率较低。当部署出现问题时，合作可以加快恢复速度。

到 实现 DevOps 成功 ，团队必须采用新的网络基础设施方法，并且网络基础设施必须具备以下五个属性。

## **自动化**

自动化重复的任务，例如配置 DNS 或防火墙，可以节省大量的时间和精力。它通过标准化网络基础架构的部署和配置来消除手动错误。自动化可以通过使用基础设施作为代码(IaC)来实现，这需要使用 应用编程接口(API) 来创建、修改和关闭基础设施。这确保了可以创建可重复、一致的配置。这些代码可以进行版本控制，这是一种文档形式——在出现问题的情况下，很容易检测到谁做了什么更改——并且回滚到稳定状态是快速而简单的。

标准化结束了“它在我的环境中有效”或“它在我的机器上有效”的说法，因为任何问题都可以很容易地重现，从而加快了解决问题的速度。对 IaC 工具的支持，如【Terraform】对于网络基础设施推进 DevOps 实践至关重要。

## **持续集成/持续交付(CI/CD)**

CI 是一种编码最佳实践，其中代码被频繁地签入到版本控制库中。它为构建、打包和测试应用程序提供了一致的自动化方法。CD 选择 CI 结束的位置，并在各种环境(包括生产、开发、测试和沙盒)中以自动化方式部署应用。

DevOps 团队使用各种工具进行 CI/CD 集成，例如 Jenkins 和 Ansible。网络基础设施必须与这些工具集成，以加快部署速度。

## **弹性**

DevOps 团队定期启动和关闭测试/开发/沙盒环境。基础设施也可能在短期内需要，以应对季节性或处理交通和需求的突然激增。DevOps 友好的网络基础设施必须具有弹性，以支持这些活动。

提供网络服务的基于设备的供应商不具备可扩展性，因为他们对其使用施加了人为限制(例如每秒查询次数或每秒租用次数)，并要求组织提前预测其需求。当有需求时，组织不得不花费时间采购这些设备，等待接收它们，最后部署和管理它们，这是一种非常低效的管理需求的方式。

## **对容器的支撑**

容器是开发云原生应用的基础。容器允许开发人员打包应用程序代码及其所有依赖项，包括库和其他二进制文件，以及运行应用程序所需的配置文件。这使得应用程序能够在各种环境中快速可靠地执行。

容器提供了应用程序在公共、私有、混合云甚至裸机环境中的灵活性和可移植性。它们是轻量级的，因为所有容器共享底层机器的 OS 系统内核。它们也有助于更大的模块化，这对于开发基于微服务的应用程序是必不可少的。

基于微服务的应用不是由三层架构组成的单一应用，而是由几个较小的服务组成，这些服务只执行一种功能。这样更容易扩展，更容易管理，开发这样的应用程序也更快。因为容器占用空间小，所以它们最适合微服务架构。

为了支持容器化的应用，网络基础设施必须首先与容器兼容。网络基础设施必须能够配置 DNS、为集装箱化的应用分配 IP 地址、在集装箱之间智能地路由流量并平衡负载以获得最佳性能。网络基础设施还必须支持 Kubernetes，即 [最广泛部署的编排平台](https://www.cncf.io/blog/2020/03/04/2019-cncf-survey-results-are-here-deployments-are-growing-in-size-and-speed-as-cloud-native-adoption-becomes-mainstream/) 。为了确保开发运维团队的需求得到满足，向网络服务供应商咨询容器和 Kubernetes 的兼容性非常重要，因为许多传统的基于设备的解决方案不支持这项技术。

## **自助访问**

为了快速行动，开发团队可能需要为测试/开发/沙盒环境配置网络基础设施。必须向使用传统设备交付网络服务的网络运营团队提交票证，这大大降低了应用程序开发和部署的速度。为开发团队提供对网络基础设施的自助访问，如防火墙、负载平衡器、和 DHCP，消除了这些团队对网络运营团队的依赖。具有强大的基于角色的访问控制的自助服务减少了部署时间并提高了效率，同时将网络团队解放出来，投入到更具战略性的项目中。

## **结论**

DevOps 试图通过向开发团队提供自主权来最大限度地减少应用部署中的摩擦，这样他们就不必依赖网络管理员来提供开发和测试所需的必要基础设施。但是，迁移到 DevOps 需要的不仅仅是团队的整合。

成功需要自动化、CI/CD 和自助式基础设施访问等最佳实践，以及对容器和 Kubernetes 的支持，这些是构建现代云原生应用的关键。整合了这些功能的团队将会看到更高的灵活性和速度，从而缩短交付时间，提高应用程序的质量，并改善整个产品生命周期中的沟通和协作。