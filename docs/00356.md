# 嵌入安全测试以避免标题诱导配置失败

> 原文：<https://devops.com/embedding-security-testing-devops-avoid-headline-inducing-configuration-fails/>

本月早些时候，当新闻爆出美国最大的债券保险公司因服务器配置错误而将敏感账户信息暴露给谷歌的索引蜘蛛时，许多 IT 专业人士都想知道如此大规模的失败怎么会被忽视这么久。安全专家称这是 MBIA 公司彻头彻尾的疏忽。但事实是，许多其他拥有传统 IT 部门的企业也可能遭遇同样的命运。MBIA 只是运气不好，引起了安全研究人员和记者的注意。

事实是，如今大多数 IT 部门仍然不擅长配置管理。根据 Avaya 今年早些时候的一项调查，如今 82%的组织仍然会因为配置更改方面的人为错误而经历网络宕机。在 MBIA 的案例中，MBIA 遭受的不是停机，而是数据泄露，这是由于与 web 应用程序关联的 Oracle Reports 服务器配置错误造成的。这个问题使得后端数据，如账号、路由号码和其他敏感数据被谷歌编入索引，以及管理凭证，这将使攻击者能够访问任何其他尚未公开的数据。避免这种错误是 DevOps 过程和支持它们的编排工具集的一大价值主张。

JumpCloud 的首席执行官 Rajat Bhargava 说:“如果他们使用 DevOps，他们可能会更快地发现这个问题。“他们应该有受控的配置和变更管理，DevOps 通常对这些事情很有用。你做了一个改变，你用代码来做，理论上人们应该能够记录这些改变，然后全面地应用它们。因此，这比有人手动进入并更改设置，然后忘记记录更容易控制。”

然而，当谈到降低由 DevOps 快速迭代的不断变化所管理的基础设施的整体风险状况时，Bhargava 认为许多组织可以将他们的实践提升到一个新的水平。他说，他们可以通过将安全测试更好地嵌入到开发运维周期中来做到这一点。

“显然，DevOps 商店已经在围绕他们的代码进行自动化测试，”他说。“因此，我们没有理由不能像自动化 QA 等一样嵌入自动化安全测试。”

这意味着不仅要测试代码本身的安全性，还要测试代码上线后的配置和整个系统的安全性。这样做是对已经自动化的配置管理流程的支持，这可能是巨大的，因为编排堆栈顶部的人为错误可能比伤害 MBIA 的一次性配置错误更具灾难性。

“有了出色的协调和配置管理工具，就有了更大的责任。安全和 DevOps 专家 Andrew Storms 说:“当您引入 DevOps 配置工具时，一个简单的系统配置错误只会变得更加严重。

正如 DevOps 可以加快软件和配置的更新周期一样，将安全自动化和测试添加到等式中可以加快对问题的响应，无论这些问题是来自内部人为错误还是需要开发和运营团队立即关注的新威胁的消息。

“例如，我知道一些公司在几个小时内就为他们的整个 DevOps 企业修补了 Heartbleed，”Storms 说。“安全最佳实践要求在所有环境中持续检查系统的安全性—从开发过程的早期一直到生产环境。安全部门正在努力重组他们的流程，塑造他们的员工，以适应不断变化的新开发环境。不仅仅是开发运维团队需要更好地将安全性融入到他们的流程中。然而，将 DevOps 自动化工具与安全产品相结合是一种真正的力量倍增器，是我们获得正确安全性的第二大希望。”

分析公司 Securosis 的首席执行官 Rich Mogull 对此表示同意。他认为 Bhargava 提倡的嵌入式安全测试对 DevOps 组织来说是一个巨大的机会。

“如果你正在使用 DevOps 管道，能够继续进行并添加安全测试是一个巨大的机会，有一堆工具可以进行一些令人敬畏的测试(其效果)将非常难以使用非 DevOps、传统的部署测试来复制，”Mogull 说。“不仅有机会通过自动化测试获得安全性，而且你将它与安全 DevOps 管道的构建相结合，我认为我们可以消除整个类别的安全问题。”例如，在本周的 Black Hat Europe 大会上，Mogull 说他与一家不再需要处理传统的修补机器消防演习的公司进行了交谈。

“当他们不得不修补某些东西时，他们实际上只是通过自动化推送更新的实例，”Mogull 说。“因此，他们将重建一个新的映像，当他们完成后，Jenkins 会将其投入生产并终止旧的实例。”

Mogull 还认为，代码的安全性测试是将安全性嵌入 DevOps 的价值主张的一大部分。像 Veracode 这样的安全供应商现在开始与 Jenkins 合作，让开发人员知道代码有安全问题，并在将代码投入生产之前找到这些问题。像 Gauntlt 这样的工具使得通过 Jenkins 插件加速云环境、自动进行漏洞评估、网络扫描和配置以及标记策略成为可能。此外，与打补丁的例子一样，对病毒的事件响应可以完全重新考虑，因为“如果一个实例受到感染或类似情况，他们会把它们吹走，”Mogull 说。

在另一个不同的安全方面，Mogull 说他在会议上谈到的早期采用者也禁止管理员登录到他们的生产系统使用 SSH。

“因为，使用 DevOps，任何人都不应该登录生产系统，”Mogull 说。“你所做的任何改变，都是在你的管道开始时做出的，然后被推出并流入生产。”