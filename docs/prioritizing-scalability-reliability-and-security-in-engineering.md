# 在工程中优先考虑可扩展性、可靠性和安全性

> 原文：<https://devops.com/prioritizing-scalability-reliability-and-security-in-engineering/>

随着数字产品和服务更加深入地嵌入到关键行业和基础设施中，问题的影响范围也越来越大，工程组织开始重新关注构建可扩展、可靠且安全的平台。更重要的是，他们认识到这不是 SRE 或 CSO 的责任，这是团队中每个工程师每天都必须发扬的精神。这是一个重要的转变——从重视交付速度高于一切的团队和文化，到将高质量的系统作为他们所做一切的基础的团队和文化。

这并不容易，大的文化变化不会在一夜之间发生。当团队在优先考虑快速上市的传统模式下运作时，有许多事情可能会出错，但也有一些策略和最佳实践来开始整个工程组织的文化变革过程。

## 旧的做事方式

你是随叫随到的工程师，你在凌晨 3:00 被警报吵醒，告诉你一个应用程序关闭了。昏昏沉沉、烦躁不安的你看着这条信息，不知道它指的是什么服务，也不知道从哪里开始。

将近一个小时后，你还不知道谁拥有这项服务，也不知道如何让它运行起来。所以，你打电话给你团队中的那位高级工程师——你知道的——每次遇到棘手的问题时都会接到电话的那个人。令人欣慰的是，他们会在半夜接听你的电话，并帮助你恢复应用程序。但是一个月后，同样的场景再次发生；只是这一次，你去给那个高级工程师打电话的时候，他们已经不在了。他们辞职去了一家关心可靠性的公司工作。

## **今天的最佳实践**

如何才能避免这种恶性循环？以下是一些最佳实践，您可以实施这些实践来开始将关注点从速度转移到可伸缩性、可靠性和安全性上。

### 1.宣扬你所工作的系统很重要

最终，您的系统会为您的客户和用户提供服务。体现这些价值观的领导和队友非常重要。人们应该担心让他们的客户失望，而不是被他们的经理吼或者收到一个糟糕的绩效评估。

### 2.设定对正常运行时间的明确预期

当你说你的应用程序需要有 99.99%的正常运行时间时，这并不等同于说一年有 52.6 分钟的停机时间。翻译正常运行时间数字，让它们看得见摸得着，而且每次发生停机时，人们都会记在心里。

### 3.不要掩盖问题

当一个事件尘埃落定后，聚在一起谈论它是很重要的。对发生的事情、哪个人或团队犯了错误以及对用户的影响保持透明。这个想法并不是要指责或分配责任，而是要把团队团结起来，这样你就可以学习、发展并找出如何防止这种情况在未来发生。

下面是一些你可以使用的问题:  

1.  谁写的代码？
2.  是怎么测试的？
3.  我们的自动化测试应该发现这一点吗？
4.  谁审查了这段代码？
5.  他们是审查代码的合适人选吗？
6.  为什么在分期环境中没有被抓到？
7.  谁发布了它，谁检查了发布验证清单？

正式化这个过程让团队中的每个人都知道错误是工作的一部分，并且有一个处理问题的标准方法。这是一个很好的方法，可以帮助工程师无所畏惧、无所畏惧地做好他们的工作。

### 4.为系统的每个部分定义单独的所有者

如果对工程组织中谁拥有什么有任何困惑，你需要马上解决这个问题；这是一个大问题。你不仅需要系统的每个部分都有一个负责人，而且他们必须被授权去解决问题，并且知道他们是被钩住的人。

### 5.投资文档、操作手册和日志

应用程序每一部分的所有者还负责确保文档是最新的，操作手册清晰易懂，日志随时可以访问。当你在凌晨 3 点收到传呼，询问一项你从未听说过的服务时，这些资源是关键。

### 6.优先考虑交付渠道，就像它是一个关键特性一样

您应该始终考虑如何围绕您的工作流建立安全措施，比如自动化测试或新工具。这可能意味着您需要与产品经理面对面地交流，以确保构建健壮的交付系统所需的工作不会被搁置。

### 7.使用他们理解的术语获得业务认同

不靠谱的代码是[技术债](https://devops.com/?s=technical+debt)。债务是所有领导人都明白的事情，不管他们的技术能力如何。Stripe 在 2018 年发布了 [一项调查](https://stripe.com/files/reports/the-developer-coefficient.pdf) ，该调查发现，平均每个开发者每周花费超过 17 个小时处理维护问题，全球每年花费 3000 亿美元。如果你想投资 SRE 的业务，这些数字可能有助于你证明自己。

文化是第一位的，但是随着时间的推移，正确的工具可以加强文化并推动问责制。帮助团队跟踪关键信息的工具，如服务所有者、文档和操作手册，会有很大的帮助。此外，拥有容易获得的架构依赖图是快速理解复杂系统的关键。最后，为最佳实践设置组织范围内的标准，并提供用于构建遵循这些标准的新服务的模板，可以帮助确保这些东西不会被遗忘。

* * *

*本文根据作者在*[*conf 42:SRE 2021*](https://www.conf42.com/sre2021)的一次谈话 *整理而成。*T17**