# 德沃普斯的地形布满陷阱

> 原文:[https://devo PS . com/the-terrain-of-devo PS-is-speed-with-trains/](https://devops.com/the-terrain-of-devops-is-strewn-with-pitfalls/)

正如 DevOps 的主要思想家之一吉恩·金(Gene Kim)曾经说过的，“DevOps 不在于你做了什么，而在于你的结果是什么。”他告诉我们的是，DevOps 是关于实现从开发到测试再到运营的快速工作流，但底线是它是关于实现结果的。不幸的是，这在现代 DevOps 实践中经常被忽略。

在本文中，我将讨论如果您不关注最终结果，在 DevOps 中会出现的五个常见陷阱，以及您的组织如何避免成为它们的牺牲品。

## **开发运维与自动化:衡量错误的结果**

一些人认为，DevOps 的核心是试图自动化一切。但是问问你自己:一旦你自动化了，你真的交付了一个更好的结果吗？

答案并不总是肯定的。虽然诸如部署频率或[平均修复时间(MTTR)](https://en.wikipedia.org/wiki/Mean_time_to_repair) 之类的指标是有趣的 DevOps 指标，但是它们对于确定您的团队是否交付了实际价值并不比测量提交的代码行数或计算开发团队的击键次数更有趣。你通过确定起点的基线并与终点进行比较来衡量结果。

我们需要明白 DevOps 不仅仅是自动化。这是关于整个管道和你的团队如何从构思到交付到生产。即使是拥有世界级 DevOps 团队的大公司也不总是能清楚地看到问题所在，可能会在管理价值流和整合多条管道方面遇到困难。一个匿名但真实的例子是，我所知道的一个组织已经做了 18 个月的开发运维，但在此期间还没有交付任何产品。他们真的在做 DevOps 吗？DevOps 是一个过程，但是如果它产生零价值，它就没有兑现它的承诺。

关键是关注交付价值并衡量生产中的价值交付。然而，在您开始度量价值之前，您必须定义它对每个单独的可交付成果的意义。常见指标包括故事点的数量、产品比较的实际收入和客户满意度。有了明确定义的指标，您就可以在价值交付给客户时对其进行衡量。

## **开发和脆弱环境**

DevOps 过程中的一个致命弱点是预生产环境，在那里部署和测试代码。自动化交付管道完全依赖于构建代码并部署到各种环境中。脆弱的环境意味着开发人员和测试人员正在浪费时间处理源于环境的问题，而不是代码本身。

虽然我们希望所有的环境都是随需应变的；事实是，大多数都不是。另一位 DevOps 专家 Randy Bias 在描述服务器时有一个关于宠物和牛的类比，同样的类比也可以用于环境。如果环境不是标准化的和可重复的，你必须愿意离开它，就像农民离开牲畜一样；你不能像我们对宠物那样执着于感情。最重要的是，在任何情况下，环境在本质上都不可能是单一的。

解决方案的一个要素是创建代码和自动化，但关键是构建完整的环境。每个环境都需要适当的构建、适当的数据和适当的测试来验证环境。此外，自动化必须具有每次都能成功执行的稳定性。如果你有一个自动化部分仅仅 5%的失败，那是不可接受的。

自动化在一个环境中工作的唯一方式是如果你能信任这个环境。当环境不稳定时，这就像玩俄罗斯轮盘赌:没有人知道危险到底在哪里。它可能存在于环境、代码、数据、中间件……很多地方。当问题出现时，开发人员通常是最后一道防线，但是处理这样的问题会让他们无法完成真正的工作。

## **断开连接的团队**

关于这一点，我想分享一个警告:断开的工具链会导致断开的团队。规划、开发和测试团队可能缺乏凝聚力，而发布和运营团队通常很难保持一致。每个小组都有自己的工具和管理，但他们需要能够有效地相互沟通，以使事情顺利进行。在一个理想的世界中，计划活动将流入开发和测试团队的特性中，这些特性将流入发布管道和操作变更中。每个团队仍然可以说自己的语言，但是工具需要在团队之间互联和统一。

## **混合动力车管理不当**

术语“混合”在软件开发领域有许多不同的用途。混合方法是指结合瀑布、敏捷和 DevOps 实践。混合环境意味着您的环境位于多个位置，例如云、内部、虚拟或代码。还有混合地理、混合建筑、混合风格——不胜枚举。

过渡到 DevOps 的关键是正确管理不同类型的混合。如果你不能管理混合交付，你就不能管理你的整个交付，你就不能整体地改进你的交付。组织必须学会在一个混合交付的世界中进行管理，并能够处理云和本地以及全球各地的团队。

## **固定非约束**

约束理论是关于找出过程中的瓶颈并修复它们。任何不专注于消除限制的工作都不会带来改进，而且会被认为是浪费时间。

重要的是要记住，如果你没有修复瓶颈，你就没有改进任何东西。同时，如果你自动化了非约束，你试图改进不需要改进的东西是在浪费精力。

正如我们已经指出的，DevOps 不等于自动化。如果一个组织有混乱的过程，并试图自动化它们，他们将留下一个自动化的烂摊子。因此，组织将从自动化他们的约束中看到最好的结果，同样重要的是，不要自动化非约束。

杰弗里·凯斯