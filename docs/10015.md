# 引入基础设施自动化时需要考虑的 5 个技巧

> 原文:[https://devo PS . com/5-引入基础设施自动化时要考虑的提示/](https://devops.com/5-tips-to-consider-when-introducing-infrastructure-automation/)

尽管我们经常讨论[基础设施自动化](https://devops.com/modern-infrastructure-automation/)，但事实是在整个开发运维中仍然存在大量手动流程。无论是重新编写脚本来启动新的服务器，更新[云原生策略](https://containerjournal.com/features/introduction-to-open-policy-agent-opa/)还是配置计算环境，[手工劳作](https://devops.com/shedding-light-on-toil-ways-engineers-can-reduce-toil/)都是司空见惯的现实。更糟糕的是，工程师通常会创建冗长的脚本，这些脚本孤立地工作，但过于庞大，无法被其他开发人员在稍微不同的约束下重用。

更多的基础设施自动化是提高部署灵活性的关键，但是留出时间来自动化您的日常工作流很容易被搁置，特别是当开发人员已经落后于他们的待办事项列表时。那么，由于时间紧迫，他们应该从哪里开始呢？到底应该自动化什么？我们如何有效地重用和共享自动化来帮助业务的其他领域？

我最近联系了 Puppet 的技术产品营销总监 John Laffey。拉菲拥有 30 年的技术支持和工程运营知识，并且“在 DevOps 被称为 DevOps 之前就在做 devo PS。”他与我分享了五个有用的技巧，供我在工作流程中引入更多基础设施自动化时参考。下面，我们将详细阐述每一点，并考虑随着行业向[平台工程](https://devops.com/?s=platform+engineering)发展，围绕自动化的其他最佳实践。

## 1.自动化那些打断你一天的事情

首先，Laffey 建议从容易解决的事情开始。这些都是打断你一天生活的乏味行为。也许磁盘空间不足，故障排除需要 15 或 20 分钟。像这样的小干扰似乎是工作的一部分，但随着时间的推移，它们肯定会越积越多。

## 2.自动化你可以重复使用的东西

第二，尽量不要为了一个非常特殊的目的而将事情自动化，拉菲说。相反，关注更通用的、对他人更有价值的构建自动化。这遵循团队合作和协作的 DevOps 咒语。过于冗长或特定于某个条件的一次性自动化不会很好地适用于不同的组。

## 3.自动化那些变化不大的东西

接下来，自动化不易改变的基础设施。这些都是相当可靠的东西，你肯定会在可预见的未来成为你的系统的一部分。因为如果一个组件*最终不得不经常更新，支持自动化可能会比它的价值更麻烦。“不要用解决问题来换取解决自动化，”拉菲说。*

## 4.从小处着手

这里有一些适用于大多数大范围新项目的明智建议——从小处着手。Laffey 建议从已经证明有直接价值的简单工作开始。这些任务应该是模块化的，只做一件特定的事情，比如重启机器或清空日志文件。"将你可以放入工具链的东西自动化."

团队经常试图一次自动化所有的事情。但是通过大咬一口，你会很快偏离轨道，并可能增加技术债务。如果您保持事物的模块化，您会发现更改和重用这种自动化更容易。

## 5.分享和开放

这最后一点更像是一种文化变革——不要编码成只有你一个人知道它！有时候，工程师不一定想让世界知道他们创造的自动化。他们可能会担心工作自动化。然而，拉菲说，这些担忧是不必要的。总会有更多的工作要做，自动完成工作可以腾出时间来帮助你专注于更令人兴奋的项目。

因此，拉菲鼓励 DevOps 和 [SREs](https://devops.com/day-in-the-life-of-a-site-reliability-engineer-sre/) 公开他们创造的自动化。确保它们被很好地记录并存储在一个集中的存储库中，以允许其他部门重用您的代码。这可以避免在同一个组织内用不同语言编写同一脚本的五个不同版本的重复！

## 下一步:从脚本转移到行业标准工具

主张在基础设施自动化上投入时间和精力可能会很有挑战性，尤其是在工程师很难保持正常运转的情况下。然而，从长远来看，自动化的微小进步可能会引发巨大的波澜。

Laffey 说，最终，你会希望在你的工具链中不再使用脚本，他称之为低端 DevOps 成熟度。但是当您更新您的流程时，您会希望用更现代的行业标准工具来替换这些脚本，如 Terraform 或 Puppet 的 DSL。他建议在一个工具链中慢慢修改脚本，一个一个地更新它们。"从你所在的地方开始，避免单一的方法."

Laffey 解释说，从本质上说，平台工程是在更高的层次上包装 DevOps 原则，使它们更有效。随着平台工程获得越来越多的关注，我们可能会看到对基础设施自动化的日益重视。“这将成为一种必然。”