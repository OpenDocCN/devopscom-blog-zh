# DevSecOps:深度欺骗

> 原文：<https://devops.com/devsecops-deception-in-depth/>

陷阱、绊网和沥青坑……听起来像是一个坚实的间谍电影情节的开始，不是吗？这些是跨越到软件安全的许多物理安全概念中的一部分。

你可能听说过安全就是深度防御(T1)，这是一种将几种防御措施分层的想法，这样它们的组合效果会比单独使用时更强。

在欺骗的情况下，我们采取了屡试不爽的战争方法，并将其应用于发展战略。根据研究员、欺骗专家和著名演说家 Herb Todd 的说法，战争中没有法律规则，在你把代码放在网络上的环境中，你就给了世界访问权。

## 欺骗手段

在软件安全中有两种主要的欺骗方法。首先是让攻击者寻找你没有漏洞的地方。托德称之为“在你强大的地方表现得软弱”这就是蜜罐的作用:给攻击者提供一个看起来很弱的目标，看起来好像门没有锁，有机会获得立足点。自始至终，都没有发现真正的漏洞，防御团队可以警惕网络上的对手。

第二种方法是在攻击者通过您的网络和应用程序时隔离或减慢他们的速度。做到这一点的一个方法是在各处增加绊网。当您的 web 应用程序的某些部分开始以普通用户不会做的方式被操纵时，您知道您有一个对手正在测试您的应用程序寻找漏洞。此时，您可以通过使用陷阱将它们转移到应用程序或网络的某个分段部分，或者使用迷宫或沥青坑来减慢它们的速度。

## 引发行动

欺骗手段取决于能够让攻击者采取行动。这是欺骗的主要目标。如果我们能引起对手的行动，那么我们就能开始理解他们，并在我们的系统中跟踪他们。这在 DevSecOps 中为开发人员、操作人员和安全人员创建了一个反馈循环，以确定当前有多少对手正在与系统进行交互，他们正在试图做什么，以及如何在未来添加新的防御措施。

你所读到的重大数据泄露事件中，没有一个是从组织声称“我们的安全团队已经跟踪这些攻击者数周了”开始的事实上，它是完全相反的:我们通常了解到攻击者已经在系统内部并且连续几个月不被发现地泄露数据。该组织不知道他们受到任何攻击，直到他们的数据库被倾倒在互联网上或泄露给媒体。

## 从绊网开始

欺骗听起来很棒，但是你该怎么做呢？在 Todd 关于现代安全系列的[演讲中，](https://info.signalsciences.com/tangled-web-defense-deception) [何](https://info.signalsciences.com/tangled-web-defense-deception) [就如何开始 web 应用程序安全开发给出了几个想法](https://info.signalsciences.com/tangled-web-defense-deception)。DevSecOps 中的方法包括向 robots.txt 添加伪路径，向应用程序添加伪隐藏字段。当有人碰到你的绊网时，你会记录下来并发出警报，让团队进行调查。随着你对此越来越熟悉，进入沥青坑和陷阱开始变得更有意义。

Herb Todd 在他的演讲中给出的一个例子是添加一个隐藏字段“encrypted-auth ”,并将其设置为“YWRtaW49ZmFsc2U=”。精明的 web 开发人员会注意到这实际上并没有加密。这是“admin=false”的 base64 编码当攻击者看到这一点时，他们会立即想到，“如果我尝试发送 admin=true 会怎么样？”

因此，攻击者获取字符串“admin=true”，然后使用 base64 编码生成“YWRtaW49dHJ1ZQo=”并提交该字符串。现在，如果您的应用程序接收到隐藏字段的值不是原始值或与“YWRtaW49dHJ1ZQo=”匹配，那么您就有了可操作的情报来发出警报。

创建绊网这么简单，为什么只用一个就停止呢？通过 DevSecOps 在整个应用程序中添加小型绊网对于识别更高级的攻击者非常有价值。

## DevSecOps:进行欺骗练习

虽然欺骗开始在 AppSec 专业人士和思想领袖中获得青睐，但无论如何它还不是标准做法。但这应该很快就会改变，因为在未来一两年内，最好的安全团队会采用欺骗策略——这是有充分理由的。随着 web 应用程序防火墙(WAFs)等传统方法在面对高流量和更复杂的威胁时崩溃，安全性需要变得更具创造性。深度防御概念，如欺骗，已被证明在战争和间谍活动的物理世界中是有效的，当被纳入 DevSecOps 时，它们也可以在数字世界中确保保护。

詹姆斯·维克特