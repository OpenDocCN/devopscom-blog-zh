# 多层上报策略至关重要

> 原文：<https://devops.com/multi-tiered-escalation-policies-paramount-2/>

任何负责保持系统正常运行的团队都会告诉你，只有一个人随叫随到是不够的。如果你的待命工程师睡过头了会怎么样？如果他不知道手机电池没电了，或者他在不方便的时候收到提醒，比如在公交车上或交通堵塞时，会发生什么？会发生的。

在当今永不停机的世界中，如果没有备用计划，公司承受不起这种情况的发生。应该有一个或多个人员随时待命，准备在主要待命人员无法在任何给定时间尽最大努力履行职责时采取行动。

执行后备任务的工程师不需要像主工程师那样“随叫随到”——这里不需要传呼机——但是后备工程师缺乏的准备可以用数量来弥补。拥有多个备份或整个备份团队通常是有意义的。

运营成熟的公司通常将当前随叫随到的工程师及其所有备份归入上报策略。升级策略设置每个人收到警报的顺序以及警报之间的延迟。虽然有许多方法来组织这些上报策略，但以下是一些最常用的模式:

初选是不够的；确定第二名也是
大多数公司都有第一名随叫随到的工程师，通常由日历决定，指定运营团队成员随叫随到的时间。

运营成熟的公司将他们的随叫随到实践向前推进了一步，并通过二级随叫随到工程师的轮换来补充这种轮换。为什么要进行第二次轮换，而不是在第一次轮换失败时呼叫整个团队？如果一个大团队被呼叫，你会得到一个“公共悲剧”效应——有人对这个问题作出反应是紧急的，但不清楚每个人对这个问题的反应有多紧急。有一个指定的副手可以消除这种困惑。

辅助循环设置为遮蔽主循环，并且通常与主循环具有相同的成员。不同的是，二级轮换中工程师的顺序通常与一级轮换的顺序有所偏移——如果你的一级和二级是同一个人，你就要倒霉了。例如，如果主循环包含 Alex，Bob，然后是 Charlie，则辅助循环可能会依次包含 Bob，Charlie，然后是 Alex。公司经常发现，如果上周的初选是本周的第二场，这有助于确保在初选陷入困境时，有人可以提供帮助。对于组织来说，一级和二级随叫随到变得越来越普遍；但是，在客户期望零宕机的环境中，二次轮换不再是一个可选工具。

**启用强大的支持系统**
大型公司和有大量运营任务的公司通常会部署一个单独的支持团队来处理所有基本的运营任务，然后组织才会将这些任务交给随叫随到的工程师。这个团队——第一层支持团队——通常知道如何处理经常出现的所有较小的、重复性的问题，并且有明确的解决程序。这些一级团队通常为多个工程团队提供支持，并在上报策略中被放在第一位。

如果第一级团队无法解决问题，升级策略通常会要求一级待命工程师和二级待命工程师必须完成任务。然而，还有一个运营成熟的组织必须实施的支持网络:管理。管理层对公司的系统负有最终责任，并且需要在发生严重问题时了解情况——既要让他们的团队承担责任，又要获得额外的支持。在 PagerDuty，我们的许多 EPs 在多个升级策略的顶部有一个轮值经理计划，我们的许多客户也使用这种模式。

**让您的分层团队发挥作用**
实际上，一个假设的“数据库运营”团队的组织策略可能是这样的:

*   将事件分配给第一层运营团队日程安排中待命的用户
*   将事件分配给主 DBA 计划中待命的用户
*   将事件分配给辅助 DBA 计划中待命的用户
*   将事件分配给团队领导
*   将事件分配给开发经理

这种升级策略会随着时间的推移而展开，根据团队的需要，在每次后续升级之前会有 10 到 30 分钟的超时。

实施涉及多层解决方案的上报策略可确保开发运维团队及时解决所有警报，无论是关键业务警报还是次要警报。在当今快节奏的商业环境中，有限的停机时间至关重要。客户希望他们的应用程序能够顺利运行，或者如果开发运维团队不能足够快地解决问题，他们希望更换提供商。如果组织实施多层次的升级策略，他们就不太可能看到流程失败，而更有可能看到满意的客户。