# Techstrong TV: Styra 声明式授权服务

> 原文：<https://devops.com/techstrong-tv-styra-declarative-authorization-service/>

[Styra 的](https://www.styra.com/)针对云原生授权的 Styra 声明式授权服务(DAS)的新发布。借助该解决方案， [IAM 团队可以迁移到云原生技术](https://devops.com/?s=cloud-native)，同时仍然使用现有的记录系统，并扩展到其组织所需的水平。下面是视频，后面是对话的文字记录。

[https://player.vimeo.com/video/692079037?h=37d16d4258&badge=0&autopause=0&player_id=0&app_id=58479](https://player.vimeo.com/video/692079037?h=37d16d4258&badge=0&autopause=0&player_id=0&app_id=58479)

*艾伦·希梅尔:*大家好。感谢加入我们另一个 *TechStrong 电视*栏目。哦，我很高兴今天回到 *TechStrong TV* 我们的朋友，来自施蒂拉的蒂姆·辛里奇。

嘿，蒂姆，欢迎你。你好吗

蒂姆·辛里奇斯:我很好，艾伦。谢谢你让我回来。

Shimel: 是的，很高兴你能来。蒂姆，我们总是喜欢邀请斯泰拉的人，不管是比尔、你还是其他人。当然，Styra 是一家在原生云领域声名鹊起的公司。但是，尽管我们的观众是云本地观众和技术人员，他们可能知道也可能不知道 Styra。他们可能听说过斯泰拉。他们可能听说过 OPA，但我们为什么不确定一下每个人的水平，Tim，并给他们一些背景知识呢？

*辛里奇:*肯定的。好极了。因此，是的，Styra 所做的是通过为企业提供统一的授权解决方案来帮助他们。所以对于像我一样不知道也不每天都在做授权工作的人来说，请记住，授权是控制人或者软件在一个软件中可以采取什么行动的问题。

让我举一两个例子。每次我在网上登录我的银行，我都可以看到我所有的银行账户，但我可能看不到我妻子的银行账户。我可能无法在她的银行账户和我的账户之间转移资金，所以这是一个授权问题。它在控制我能采取什么行动。我能取钱吗？我能存钱吗？如此等等。这是我们在 Styra 工作的一种授权。

但是另一个很好的例子是在开发者层面。所以那些我们每天都在使用的网站，那些由开发者建立的网站，开发者也在采取行动。因此，他们可能想要采取的一种行动是升级软件，或者部署数据库，或者更改一些网络配置。同样，所有这些都是操作，需要有适当的授权控制来确保正确的操作由正确的人在正确的时间执行。

在 Styra，我们提供软件来帮助组织管理所有这些权限，所有这些授权策略，跨越所有这些不同种类的体面的软件。

*希梅尔:*优秀。爱死了。我们在这里的时候最好把它解决掉，提姆。想了解更多关于施蒂拉的信息的人，是施蒂拉，S-T-Y-R-A，是 styra.com，对吗？

当然，是的。一定要看看那个。

*Shimel:* 爽。好吧，我们知道了。你知道还有什么吗，蒂姆？我们甚至没有告诉他们你在 Styra 的职位。我们也应该给他们这个。

当然，是的。我叫蒂姆·辛里奇。我是 Styra 的首席技术官和联合创始人，我花了一部分时间在我们的商业产品上，但我花了另一部分时间在我们的开源工作上。我们在开源领域做的一件事是我们启动了开放政策代理项目，或者我们喜欢称之为 OPA，然后我们把它捐给了 CNCF。所以我涉足了这两个领域的工作。

*Shimel:* 爱死了。嘿，Tim，你五月份会去西班牙的 KubeCon 吗，或者正在计划，还不确定？

还不确定，但是是的，那会很棒。我很想回来，开始回到那个会议圈，见见人们，和他们聊聊政策和授权，再一次见见人们。我觉得会很棒。

Shimel: 我们目前正计划去那里。我们希望尝试做一些视频，但有不同的设置。我忘了他们叫它什么了，一些的话题专家的演讲或者其他什么，如此短，如此小，如此小的片段。同样，假设世界是正确的，我们会在那里。

不管怎样，但是 Tim，让我们把注意力集中在今天要讨论的内容上，也就是你们最近发布的一款新产品。告诉我们。

是的，当然。因此，我们不久前刚刚发布的新产品，我们称之为授权产品，作为我们称为声明式授权服务的常规产品的一部分。因此，这一新产品背后的理念是，它实际上旨在帮助组织更有效、更快速地采用自定义应用程序并将它们从内部数据中心迁移到云中。

因此，我们一再看到的问题是，如果您有一个这样的内部应用程序，特别是一个专注于帮助您的员工相互交流或与整个组织交流的应用程序，这些以员工为中心的应用程序，其中许多应用程序都依赖于人们所说的内部授权服务。授权服务通常由 LDAP 或 Active Directory 等支持，这些应用程序需要知道员工属于哪个组，以便在应用程序中授予权限。

因此，当您考虑将这些类型的应用程序读入云中时，所面临的挑战是，您不想让应用程序在世界的另一端运行，并且必须一路请求回您的本地 LDAP 或 AD。往返时间、可用性、性能和可用性都太差了。这是云中的一种反模式。因此，我们与之交谈的这些人正在努力，因为他们希望将这些应用程序迁移到云中，但为了做到这一点，他们还必须将那些本地授权服务迁移到云中。

因此，来自 Styra 的新产品让这一切变得简单。你只需要把它连接到你的 LDAP 或 AD 上，然后你就可以把它部署到你喜欢的任何云区域。

*Shimel:* 优秀，优秀。去年年底，我告诉我们的团队，我想我们是在预测中说的，我认为我将成为战场，这是我们应该关注的最重要的事情，尤其是当它涉及到云原生、安全等诸如此类的问题时。当然，这是在软件供应链构建管理、勒索软件以及我们看到的许多东西出现之前。

但是我仍然相信我是那种柔软的，白色的腹部。这是云安全在很多方面都存在的问题，对吗？云提供商在基础设施和安全方面投入了数十亿美元，我们相信他们能够将安全提升到一定的水平。栈的其余部分，通过它的一个很好的块，被我们的 IAM 保护。

我的意思是，我没有责怪任何人，但就在这个星期，我们看到了奥克塔有问题，我没有责怪奥克塔。我们中的任何一个人都可能成为下一个奥克塔，或者下一个太阳风，或者下一个任你挑选。在某些时候，我们都很脆弱。但是它向你展示了我们是多么的脆弱。

蒂姆，是什么让你们走上这条路的？我的意思是，很明显你所做的，这是一种相邻的，它没有超出左场，但是是什么让你说，嘿，我们需要这样做？

是的，有几件事。你提到了一大堆事情，在回答你的问题之前，我想先回答其中的一件。

*Shimel:* 对不起。

我认为最近围绕 Okta 发生的事情很有趣，因为我认为应该提醒我们所有人的一件事是，世界上有两种公司，一种是已经妥协的公司，另一种是不知道自己已经妥协的公司。

希梅尔:没错，是的。

辛里奇:所以关于 Okta 的这件事，我可以强调一下这个想法，一旦你有点理解并有点内化了你会被妥协的想法，你唯一能做的事情就是把防御深度放在适当的位置。因此，验证，证明你就是你所说的那个人，单点登录供应商在这方面做得非常好，是第一层防御。但是授权是第二个层次，你想要做的是控制一旦其中一个用户帐户被破坏所造成的损失，这就是授权的概念。您可以限制每个帐户拥有的权限。

对你来说，这是安全的基本原则之一，你将安全级别分层，这样当其中任何一个安全级别受到威胁时，你就可以部署其他几个安全级别。

绝对的。我们经常听到“零信任”这个词，很有意思的是，对于很多人来说，零信任意味着我可以单点登录，所以现在我知道蒂姆就是蒂姆。蒂姆，这是城堡的钥匙。开始吧。但我认为人们错过的是零信任，只是因为蒂姆是蒂姆，蒂姆没有城堡的钥匙。蒂姆应该得到他所需要的，而不是他想要的。他没有得到一切。所以如果蒂姆妥协了，我还是限制了我的曝光率。

对我来说，这就是我们真正开始进入零信任排列和我们如何做的时候，这是非常重要的。不是每个人的访问都是平等的。

*辛里奇:*对。我完全同意，我认为，嗯，我们看到的更有趣的事情之一是，为什么我认为许多人最终可能拥有比他们需要的更多的权限，这部分是因为这些授权系统今天传统上很难使用。地球上的每一个产品、每一个项目、每一项服务都有一种独特的解决授权的方式。

因此，如果有人在一小段时间内需要额外的权限，而我是管理员，那么，我必须四处打探，想出如何给他们额外的权限，然后就这样来来回回。“好的，我给了你更多的权限。有用吗？不，好吧，我会给你更多的许可。有用吗？不。”而在某些时候，你只是说，“算了吧，你是个管理员。”

*【相声】*

你知道吗？我会给你一切。

欣里奇:“你是一名管理员。”接下来发生的事情是，你应该在一周后收回这些权限，但是你因为太忙而忘记了。所以我认为，随着时间的推移，人们拥有越来越多的权限，这是一个非常真实的权限蔓延的概念。因为每个人在工作需要时肯定会要求更多的权限。很少有人会说，“哦，你知道吗？我有太多了。我不再需要这些了。”

因此，我认为我们在 Styra 所做的事情之一，就是试图提供一个统一的解决方案，一个授权的基础解决方案，在这方面提供帮助。因为我们说，看，为了处理权限，你需要学习一系列的工具和技术。如果你能把这些应用到你所有的 57 种不同的产品和服务中，那么，你就更能正确地给予权利和撤销权利。所以我认为这很好地解释了为什么我们在 Styra 做我们正在做的事情。

绝对的。Tim，如果你不介意的话，我们来谈谈这项新产品的业务方面。怎么包装的？如何提供？如何定价？有没有免费的开源版本，那种东西？

是的，也许我还会回答这个问题，为什么我们最终会这样做，因为我还没找到答案。

希梅尔:好的，请吧。

欣里奇:是的，这是一件好事，因为我们在开源世界有活跃的用户群，因为我们在商业世界有活跃的客户，我们可以一直观察他们做什么，然后当我们看到一种模式出现，我们看到同样的人必须解决同样类型的授权问题，然后我们意识到，嗯，这是我们整个社区和组织的系统性问题。然后，我们可以继续将精力投入到构建新产品上，这正是这个授权解决方案所发生的事情。

我们刚刚看到许多开源和商业客户和用户不得不使用 OPA 和 DAS 来解决这个问题。然后我们意识到，如果它们是某种拼凑在一起的东西，我们为什么不围绕这种设计推出一种真正的产品，专门解决这种权利问题。原来如此。

回答你的第二个问题，它是如何包装和定价的，以及所有这些好东西。嗯，所以我们通常做的是这是另一个功能，可以说，或者是一个解决方案，或者有时我们称之为用例，用于我们的产品，我们的声明式授权服务。因此声明式授权服务旨在为授权提供统一的解决方案。它通过微服务授权服务网格帮助您进行 Kubernetes 授权。它通过 terraform 和现在的授权来帮助您使用公共云。从这个意义上来说，这是现有产品的另一个特点。

从这个意义上说，如果您只是在使用 DAS，那么您可以从列表中挑选出来，然后放在适当的位置。DAS 以 SAS 产品的形式提供，因此每个人都可以运行它，您也可以免费注册，所以我明确建议，如果您想试用它，请登录并这样做。对于企业版，我们也提供内部解决方案。因此，如果人们想在本地实际运行 DAS，不一定要在本地。它可以在他们的私有云帐户中，然后他们也可以这样做。

*希梅尔:*优秀。再一次证明了这个古老的公理，它不是一个产品，它是一个功能，当你能有一个产品，人们是否能决定，这是一个平台，而不是一个产品，但是你有一个产品，它有多个像这样的功能来处理这种事情。

蒂姆，现在有了吗？因此，我假设它已经过测试，强化，得到反馈，并准备好摇滚。

是的，这当然是我们早期的版本之一，但是我们当然希望人们尝试它并给我们反馈。

人们如何去注册并尝试一下呢？

是的，就去 styra.com。有一个注册链接，然后当它让你进入产品时，你会从几个快速启动中选择一个，帮助你完成放置东西的过程，你可以踢踢轮胎。

Shimel: 我很喜欢。Tim，谢谢你来告诉我们 Styra 产品系列中这一激动人心的新功能。期待听到更多。我真的希望我们能在 5 月份的瓦伦西亚 KubeCon 见到你，希望如此，祈祷好运吧。

那太棒了，谢谢。再次和你聊天很愉快，艾伦。

好的。向我们在 Styra 的所有朋友问好。Tim Hinrichs，Styra 的联合创始人，在 *TechStrong TV* 上说道。我们要休息一下。我们马上回来。