# 王国的钥匙:保护您的服务器免受黑客攻击

> 原文:[https://devo PS . com/keys-to-the-kingdom-protect-your-server-from-the-hackers/](https://devops.com/keys-to-the-kingdom-protect-your-server-from-hackers/)

不可否认，自动化和开发运维提高了 IT 的敏捷性和响应能力。我们大多数人至少已经接受了一点 DevOps 和敏捷带给我们的自动化浪潮，许多人已经在他们的 DevOps 之旅中走得很远了。

但是，每隔一段时间，我们需要回头看看，并伸出援手帮助那些仍在前进的人。事实是，有时我们忘记警告那些大规模自动化的新手一些严重的问题。

如果你考虑一下安全性，很明显，组装一个命令和控制服务器——我们将在本博客中使用 Ansible，但任何可以将应用程序部署到一组服务器的工具——会为任何进入你的基础设施的黑客创造一个巨大的目标。你不能假设这永远不会发生，所以组织需要尽早考虑保护性系统/架构，或者花更多时间修补。记住，你做得越多，做出重大改变的分量就越重。

首先，严格限制对指挥和控制机器的访问。它属于只有几个接入点的管理子网/VLAN。它所管理的服务器绝对不能访问命令和控制服务器。如果他们这样做了，他们中的任何一个被控制将会为所有人被控制提供一条途径。

接下来，在早期，关于哪些用户帐户应该能够运行命令和控制脚本(Ansible 中的剧本)有很多争论/讨论。最终，社区的主体决定了运行它们的每个人，而不是一个名字像“ansibledeploy”的普通用户。一些人仍然使用中央用户，但大多数人希望能够跟踪运行命令的个人所允许的泄漏——在日志中搜索奇怪/不常见的命令执行将会找出哪个帐户受到了威胁，并允许快速响应——这比集中更重要。

第三，学习和使用应用程序中可用的安全特性。Ansible 提供 Ansible Vault，允许对剧本进行加密。由于许多行动手册需要 root 访问权限，加密允许这些行动手册隐藏 root 访问权限。随着时间的推移，Ansible Vault 的使用越来越多，现在已经有很好的教程来帮助使用它锁定命令和控制。您的产品也将有一个类似的工具，因为将 root 密码以明文形式放在整个磁盘上是不可接受的。

在 Ansible Galaxy/Github 库中，您可以找到优秀的角色来帮助您锁定目标。Geerlingguy 是最受欢迎的人之一，如果你遵循他在自述文件中提供的注意事项，他的[职责——安全](https://github.com/geerlingguy/ansible-role-security)是非常出色的。

这只是一个建议，而不是一个逐步解决方案集。总的来说，请记住，将命令和控制服务器放在一起是一个诱人的目标。正如 Geerlingguy 在他的自述中指出的，你的安全是你的问题。

看看可以从哪里访问服务器，谁可以访问它，密码等敏感数据位存储在哪里——提示:当大型机连接到局域网时，文件中的纯文本密码就过时了——以及如何保护上述所有内容。已经完成了，在您给定的环境中有大量的资源可以提供帮助。花些时间去查阅它们，并实施相关的建议。

毕竟，我不会在夜深人静的时候接到电话如果你的服务器都被接管了，你会。尽你所能避免接到那个电话。继续摇摆。每个人远程工作使许多组织更容易受到各种形式的攻击，不要放松警惕。