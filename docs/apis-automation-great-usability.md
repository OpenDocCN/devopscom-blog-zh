# API:自动化很棒。可用性也是如此

> 原文：<https://devops.com/apis-automation-great-usability/>

许多开发人员不太擅长文档。问问那些被扔进大型代码库的人。变更没有被很好地记录，部落知识在代码注释中盛行，任何人说，“我很困惑，这一大块意大利面条代码是什么意思？”经常被人讨厌甚至鄙视。

这是 DevOps 无法改变的。就像现在很多事情一样，还有一些复杂的因素。首先是 API。几乎在每个商店中，开发人员都负责面向公众的 API。同样是那些评论不好的开发人员现在正在编写面向公众的 API。另一个复杂的因素是 DevOps 文档机制。自动化系统从开发人员的评论中生成 API 文档。同样是这些开发人员，他们经常不能很好地记录他们的代码，以有效地让新开发人员加入进来。

我们中使用过不止一两个 API 的人都非常了解这个问题。几十个、几百个或几千个我们必须搜索 API 调用中参数或 JSON 字段的允许值是多少，因为这通常没有很好的记录。

整个系统自然发展。API 是开发者的领域；创建文档是痛苦的，因为它需要足够先进的技术作家来理解 API 的目的和功能；和开发文档延迟了 API 部署——所有这些都是适合自动生成的问题，代码开发人员最适合记录这些问题。在 API 经济中，考虑到敏捷和开发运维，为项目的这一部分使用生成的文档是有意义的。

但是我们现在有足够的经验知道“足够好”不是。太多的时候，用户被留下来解决细节问题，而且通常，这些用户不会去费心。在 API 经济中，这不是一个好处；这很冒险。

## 获得关于 API 的帮助

这很容易解决。找一个没有深入研究代码的人来尝试使用你的 API。获取他们对可用性的建议，并解决他们发现的问题。我使用过有十几个 JSON 基本参数的 API，没有一个记录了什么是允许的或者不允许的。我使用过 JSON 字段是文本的 API，但是这些值来自没有公开的专门列表，用户必须寻找允许的值。我们都经历过，这是对时间的巨大浪费。

如果你有一个客户群，使用 Alpha/Beta 用户来帮助这个过程。早期访问一般是了解项目/产品的人，所以反馈会更集中，但作为局外人，他们不分享部落知识。如果没有部落知识，他们将有可靠的输入来提高 API 的可用性。

最后，API 是您希望客户使用的消耗品。告诉他们如何做很重要。而目前这种新潮的做法还不够好。所以要确保你的过程*足够好，否则就接受用户损失的后果。*

对于那些已经建立了产品/项目的人，不要摇头，以为你已经搞定了。一些非常酷的、长期存在的 API 拥有完整的 JSON 输入值集，但这些值并没有得到很好的记录。它们足够重要，足以使它们成为参数(或者返回值)，但是您没有很好地记录它们？请询问新用户他们是否同意你对 API 的评估。

没有时间/工时/任何东西来解决 API 中的文档缺陷？那就不要发布 API。唯一比说“你不能通过 API 与我们的系统集成”更糟糕的事情是说“你可以通过 API 与我们的系统集成”，然后没有足够好的文档来这样做。

所以保持自动化。但是遵循新的咒语:

现在您已经生成了文档，检查您是否有可用的文档。

继续踢它。API 是困难的部分，告诉人们如何使用它们相对容易，所以花时间让你的开发努力有价值。

唐·麦克维蒂