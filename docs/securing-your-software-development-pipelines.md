# 保护您的软件开发管道

> 原文：<https://devops.com/securing-your-software-development-pipelines/>

今年早些时候，据宣布，对 it 管理软件提供商网络安全管理软件产品的攻击已被用来危害其他组织，包括美国政府的部分机构。这一消息引起了人们的恐慌，有几个原因，但其中最大的一个原因是攻击者破坏了网络安全管理软件产品的软件开发流程和管道。人们的担忧程度如此之高，以至于出台了首个关于网络安全的行政命令[](https://www.veracode.com/blog/security-news/new-cybersecurity-executive-order-what-you-need-know)。

软件开发过程的安全性几十年来一直是开发团队关注的问题，始于 Ken Thompson 围绕黑客编译器注入易受攻击代码 的 [思想实验。随着软件开发过程变得越来越自动化，这意味着需要保护更多的东西。事实上，Thompson 的“关于信任的思考”和今天的最大区别在于，我们的许多担忧源于我们作为开发团队，必须在多大程度上信任不是我们写的代码。](https://www.cs.cmu.edu/~rdriley/487/papers/Thompson_1984_ReflectionsonTrustingTrust.pdf)

根据软件安全 2020 年 vera code State of Software Security，2020[的数据，代码“未在此处编写”的问题不仅仅是开源库的问题——尽管这些是问题的一个重要部分，因为一个典型的 Java 应用程序 97%的重量是第三方代码。此外，现代云原生应用程序还包含其他人编写的其他类型的代码，包括容器映像、无服务器代码和其他云原生构件。](https://www.veracode.com/state-of-software-security-report)

因此，攻击者可以通过多种方式之一危害开发管道:

*   通过接管一个开源项目，或者通过域名仿冒，毒害一个上游的开源存储库
*   危及容器图像储存库
*   获得对持续集成服务器的访问权，并对管道进行修改以合并恶意代码
*   获得对源存储库的访问权，识别应用程序中的现有漏洞(零日漏洞),并在生产中利用它

那么，必须做些什么来减轻这些威胁呢？很多答案都归结于测试、管理监管链和监控对内部资源的访问。

*   **管理访问**—接触您的软件开发流程的系统提供了一扇大门，如果没有适当的保护，可能会允许攻击者进入并危害您交付给客户的软件。这里需要注意的事情包括源代码控制系统、持续集成服务器和其他可以访问源代码库的工具(包括质量和安全工具)。类似地，任何涉及源代码的活动，尤其是提交到源代码存储库的活动，都必须使用开发人员 GPG 密钥进行正确的认证。这可以防止通过设置 git 配置参数(Alessandro Segala 的这篇 [博客文章很好地描述了这个问题)或通过窃取凭证来假冒用户的身份。](https://withblue.ink/2020/05/17/how-and-why-to-sign-git-commits.html)

*   **管理软件依赖关系的监管链**—大多数现代软件依赖关系管理器允许连接到多个软件注册中心，包括容易受到攻击或损害的公共注册中心。将依赖项管理器配置为只允许连接到授权的注册表列表，有助于防止受损的包进入构建管道。这还有助于确保在应用程序中只能使用没有严重和高度漏洞的依赖项。这个主题也与下一个关于漏洞测试的主题相关。管理来自软件供应链其他部分的代码的一部分是寻找代码中的安全漏洞。考虑一个安全扫描工具，它可以查找易受攻击的开源库或具有漏洞和安全错误配置的容器映像。
*   **漏洞测试**—攻击者引入的代码可能会引入新的漏洞。使用静态应用程序安全测试(SAST)有助于识别严重的安全问题，包括糟糕的加密实践、硬编码凭据和注入漏洞。在管道中执行 SAST 允许及早识别关键的和高严重性的缺陷，使您能够在发现它们时使管道失败，并防止不安全的代码被部署到生产中。同样，如上所述，测试易受攻击的容器和开源库可以防止漏洞通过软件供应链被引入。最后，使用[动态应用程序安全测试](https://devops.com/?s=DAST) (DAST)在预生产环境中为 web 应用程序执行端到端运行时测试可以帮助识别端到端应用程序中其他可利用的问题。它还可以发现只有在部署环境中才能观察到的应用程序配置问题。SAST 和 SCA 都可以识别软件中的弱点，这些弱点虽然表明了糟糕的编码过程，但可能不是漏洞。因此，选择允许您设置可接受结果基线的工具可以帮助确保成功采用这种控制。

解决所有这些问题需要将应用程序开发过程的不同部分作为一个完整的系统来考虑。为此，Veracode 今年早些时候与 Venafi、Sophos 和 CloudBees 合作，为安全软件开发管道 制定了一个拟议的 [蓝图。该提案在 GitHub 上维护，可供用户提出问题或在蓝图上提出拉动请求——欢迎所有输入。](https://github.com/Venafi/blueprint-securesoftwarepipeline)

不能低估这一点的重要性。黑客攻击和违规事件继续成为头条新闻，部署正确的工具、技术和流程以最大限度地降低软件开发流程中的安全风险比以往任何时候都更加重要。