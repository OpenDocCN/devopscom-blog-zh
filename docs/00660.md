# 性能监控，另一种观点

> 原文：<https://devops.com/performance-monitoring-another-view/>

这是我在 DevOps.com 的第一篇帖子，对于那些没有读过我其他文章的人，我目前在 AppDynamics 担任市场开发和洞察副总裁。在 Gartner 工作了 4 年后，我于 2015 年 2 月加入，担任研究副总裁，负责所有监控工作。在我担任 Gartner 分析师期间，我会帮助买家做出购买监控软件的决定。当我在互联网上阅读公然无视最佳实践的文章时，我要么嗅到了可疑之处(赞助)，要么他们只是没有遵循流程。相反，有些人确实遵循一个适当的过程。由于读了一篇非常可疑的文章，我特意写了这篇文章。

# 第一步——承认

确定你有问题的第一步是承认它。大多数监控工具购买者意识到他们有太多的工具，没有一个有助于隔离根本原因。这是大多数购买发生在基础设施层的结果，此时应用层要么被轻微地综合运用，要么被忽视。人们很快意识到必须找到一个应用层监控工具，或者编写自己的工具。销售日志软件的供应商希望您生成大量丰富的日志，这样他们可以帮助您解决问题，但实际上这在大多数企业中并不可行，因为他们使用自定义和打包软件的组合，并且强迫开发人员编写一致的日志是一项令人沮丧和徒劳的任务。

# 第 2 步–记录下来

下一阶段是记录您目前使用的工具，大多数组织有超过 10 个监控工具，他们通常还想再买一个。在考虑 APM 工具时，他们应该记录他们目前拥有的工具，并确定整合和消除冗余工具的计划。在您修复组织结构之前，工具将一直处于孤岛状态。

# 第 3 步–要求

我不能告诉你多少次供应商对买家提出要求。您可以判断供应商何时这样做，而不是实际了解用户的需求，以及解决方案是否可扩展并可由团队操作。购买一个需要全职顾问来维持其运行的工具在今天已经不再可行了，很抱歉 ITOM 的老供应商(前四大)已经不再需要这个工具了。

# 第 4 步–测试它！

如果您正在评估软件，您必须测试它，并确保它在您的环境中工作。更好的方法是对软件进行负载测试，以确定供应商声称的开销和可见性是否属实。我看到太多的人购买他们没有测试过的软件。

**回到引发这篇文章的文章:**

[https://devo PS . com/features/devo PS-style-performance-monitoring-for-net/](https://devops.com/features/devops-style-performance-monitoring-for-net/)

作者在奥地利，我相信他与 Dynatrace 有联系。丹拿痕迹的 R&D 和技术领导在奥地利，但这只是猜测。文章写得有偏见，任何使用过这些工具的读者都很明显。评估者没有测试这些产品，或者即使他测试了，他也没有测试方法。

最后，作者的雇主是新的，所有员工都来自 Automic Software 公司。我不需要向 Automic 的工作人员解释那里的情况。[http://www . glass door . com/Reviews/Automic-Software-Reviews-e 269431 . htm #](https://www.glassdoor.com/Reviews/Automic-Software-Reviews-E269431.htm#)

我想我已经在背景上花了足够的时间，这里是我对内容的具体问题。

截图取自各种网站，并不是最新的或准确的。如果有人写了一份技术评估，至少要测试一下，并且使用你在测试中的截图！

这篇文章专门讨论 DevOps，但是作者没有讨论监控微服务或异步应用模式的需要，这显然是当前选择的架构。在 DevOps 或连续发布环境中尤其如此。事实上，微软自己上周在 Ignite 上宣布了新产品，包括 nano 服务器和用于构建这些模式的 Azure Fabric 服务。微服务的困难在于，每个外部请求都会产生大量内部请求，这些请求通常会无序地开始和停止，从而在监控这些请求时产生问题。这导致了 APM 产品的主要问题，现在很少有人能有效地处理这个问题。

这篇文章对用户界面和部署模型的描述不一致，并且没有提到 Dynatrace 是一个内部部署的软件产品。Dynatrace 也是一个胖 Java 客户端，构建于 Eclipse 之上。这是重客户端的定义，作者在本文中为其他产品喊出了这个定义。

继续本文中不正确的事实，作者称之为戴尔(前 Quest) Foglight。这不是戴尔当前用于现代体系结构的产品。戴尔已经转而使用 SaaS 的一款名为 Foglight APM SaaS 的产品，这不是评估的产品。评估者应查看当前产品(注意这里的趋势)。

**最后，AppDynamics 评论不准确:**

*编者注:以下是作者的意见，不是 DevOps.com 的意见。正如作者所说，他受雇于 AppDynamics。*

为了减少开销，这里可能会限制代码级的可见性

为了扩展 AppDynamics 以使用一个内部控制器监控数千个系统(没有其他 APM 供应商提供这种功能),默认情况下是基于高级智能仪器完成的，但每个事务都受到监控和测量。所有产品都以某种方式限制它们请求的数据量。AppDynamics 有几种模式，其中一种可以捕获每次执行的完整调用跟踪。

**“缺乏 IIS 请求可见性”**

AppDynamics 为 IIS 请求提供了极好的可视性，我不确定作者在这里是什么意思。AppDynamics 还支持使用 nuget 在 Azure 上实现。

**“无 CPU 故障的特色走时钟时间”**

同样，我不确定作者在这里指的是什么。该产品提供了几种查看 CPU 使用情况的方法。

**“其基于 flash 的 web UI 和相当繁琐的代理配置”**

代理安装与其他产品没有什么不同，显示作者没有安装该产品。最后，该产品是 HTML5，并且已经有一段时间了，在配置屏幕中仍然有一些 flash 视图，但这些在每个版本中都被删除了。我更希望有一个基于 web 的 UI，只剩下一点 flash，而不是需要大量下载的胖客户端 UI。

AppDynamics 有一个单一的 UI，它比本文中的其他产品更深入地研究了数据库性能。AppDynamics 还提供了比本文所强调的更多的功能，包括 synthetic。AppDynamics 通过 SaaS 或内部安装提供相同软件的部署。

最后，本次审查没有考虑分析，这显然是 APM 内部需求不断增长的一个领域。也就是说，这篇评论与事实相去甚远，也毫无用处。

希望这能澄清一些问题，请在这里发表评论，或者在 twitter 上发 [@jkowall](https://twitter.com/jkowall) ！

谢了。