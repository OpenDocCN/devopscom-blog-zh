# 微服务管理指南第 3 章:选择起点

> 原文:[https://devo PS . com/the-executives-guide-to-micro services-chapter-3-chopping-a-start-point/](https://devops.com/the-executives-guide-to-microservices-chapter-3-choosing-a-starting-point/)

![](../Images/f5693b945cfe2be0edadf6ec3dd343c1.png)

在前一章的[中，Steve 被要求提供迁移到商业系统与更新当前系统所需的成本和资源的比较。他与开发主管 Stacey 一起工作，Stacey 提出了一个现代化计划，其中包括团队将实施的某些更改，以限制停机时间。](https://devops.com/executives-guide-microservices-chapter-2-business-challenge/)

Steve 与企业讨论了 Stacey 的计划，企业同意供应链系统现代化的方法。企业特别喜欢这样的想法，即未来系统脆弱性的降低可能意味着其 IT 团队甚至可以在整个假期期间引入持续的改进，而不是必须在四个月的时间内冻结所有系统开发。

现在，史蒂夫和他的团队面临着从哪里开始的挑战。

团队已经决定，任何改变都需要分解现有的整体设计。迄今为止的方法是从功能上解决需求，这意味着每次业务请求对系统进行更改时，都会通过向各种模块添加专门的逻辑来更改代码以支持这些需求。

不幸的是，这种方法导致了大量的技术债务。每个复合变更都引入了条件逻辑来支持先前的需求。此外，每个新的更改都有可能破坏以前的更改，因此在进行任何更改之前，必须进行耗时的影响分析。

Steve 和他的团队希望将系统分解成一组微服务，这些微服务与他们支持的业务功能非常相似。此外，他们希望将专门化的业务逻辑分离到使用通用业务服务的模块中。

显然，这是一项长期战略，因此 Steve 和他的团队需要选择如何逐步推进，以便在今年的系统冻结之前取得重大进展。鉴于临近假日购物季和资源的可用性，Steve 和团队需要明智地选择他们将创建的微服务。此外，史蒂夫和他的团队知道，他们将受到现有代码中纠缠程度的限制。

经过初步分析，Stacey 的团队确定成本最高的问题源于支持多渠道客户参与的逻辑。该系统的这一部分将定制逻辑与一些现成的电子商务产品集成在一起。在节日期间，客户支持电话的数量会增加，每个电话可能会持续 5 到 50 分钟。这种较大的差异通常是由于系统在下订单后无法处理特定渠道的变化而造成的。例如，如果客户在下订单后想要添加礼品收据或包装，则必须在带外处理。这意味着企业不得不在假日期间增加支持人员来处理这些问题。

Stacey 和他的团队还认为，他们可以轻松地在现有代码库中隔离多渠道支持的逻辑，并将其分解为一组微服务。该团队决定，现有的客户记录系统必须暂时保持原样，但他们可以创建一个新的 API，以便更容易地从新的微服务中访问数据。Stacey 称之为宏观服务。

该团队将创建一组支持 web 渠道的微服务和一组支持分销商渠道的微服务，因为它们各自有非常不同的需求。目前的系统在一个模块中结合了支持这两者的逻辑。由于微服务应该专注于做好一件事，因此团队决定了以下有界上下文:订单创建、订单执行(支付)、订单履行和退货。

史蒂夫问斯泰西，“为什么不直接提供订单服务？”

Stacey 回答说，“这是一种方法，但我们称之为迷你服务，因为它管理订单的所有方面。然而，我们的目标是允许系统的某些部分随着时间的推移而改变，只需要最少的测试和维护。微服务变更不应该有广泛的系统影响。更改订单迷你服务可能意味着整个渠道都会受到影响。通过这种方法，我们可以改变任何支持订单的流程，而不会影响公司内部的整个订单功能。”

Steve 感谢 Stacey 的回答，并告诉她他现在对团队正在努力实现的目标有了更好的理解。

— [摩根大通](https://devops.com/author/jpmorgenthal/)