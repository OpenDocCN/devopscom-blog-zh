# DevOps 速度下的测试结果分析

> 原文:[https://devops.com/test-results-analysis-speed-devops/](https://devops.com/test-results-analysis-speed-devops/)

如果测试结果的分析跟不上测试的速度，那么快速的连续测试是适得其反的。在我之前的博客[中，持续测试——加速！](https://devops.com/blogs/continuous-testing-accelerated/)我讨论了加速持续测试的重要性和实践。除非测试分析和测试一样快，否则将会发生的是要分析的测试结果的累积债务，在最好的情况下，不会节省时间，在最坏的情况下，会忽略有价值的结果和实际上减慢整体 CI/CT 周期的大规模混乱。通常，许多开发团队成员都在寻找结果，因此，对于每个 CI/CT 周期中节省的每分钟结果分析时间来说，加快可用性和与结果分析相关的总工作量所节省的时间是巨大的。当在多个代码分支上聚合时，每个测试结果节省的几分钟可以节省一年以上的工时！

那么，如何确保连续测试结果分析与加速的连续测试保持同步呢？以下是清单格式的一些建议，已被证明在高性能 DevOps 部署中非常有用。

1.  **为测试结果分析确定明确的职责和 SLA:**当组织为结果分析设定具体的职责和目标时，整个 DevOps 过程将会加速。
    为第一响应者和二线上报团队成员分配明确的工作流程。
    定义应对测试失败的策略，例如，如果测试失败率超过每个测试类别的特定阈值，则预先确定行动。根据故障优先级，操作示例可能包括“继续配置项”、“恢复更改”或“停止并修复故障”。
    就最佳实践测试设计对团队进行培训，并对脚本进行同行评审，以确保它们定义了清晰的结论。
2.  **为高效的测试结果分析设计测试脚本:**当测试脚本被设计用于高效的结果分析时，过程被加速。以下是一些良好做法的例子:
    每个脚本必须有一个明确的“通过”、“失败”或“非决定性”的裁决，以及对裁决的描述。
    每项裁决都应与可用于对裁决进行分类的预定义标签一起报告。
    为每个判决分配一个优先级代码。应该首先分析优先级最高的判决。
    如果一个脚本有多个判定，如果可能，应首先报告优先级最高的判定。

3.  **选择为快速测试结果分析而设计的测试工具:**当您评估测试工具时，请注意以下特性。从长远来看，这不仅可以为您省去很多麻烦，还可以让您灵活地设计与其他 DevOps 工具集成的测试。
    Restful API 在命令和响应之间不需要等待状态。
    支持实施测试结果标准的框架，确保每个测试在完成时报告明确的结论，包括“通过”、“失败”或“不确定”、结论描述、来自测试系统和被测系统 POV 的事件日志、标识构建活动的标签以及可用于原因分析的功能属性。
    在整个测试环境中，所有的计时器都可以与一个公共时钟同步，并且判断记录时间的精度适合于与被测系统相关的最快事件。
    ·缓存特性，能够在工具继续执行其他测试的同时处理一个测试的结果数据。
    结果数据映射和处理实用程序集成在工具中，无需慢速脚本来解析结果。

4.  **选择并配置测试分析工具以处理可用的结果:**在最佳实践中，大规模 DevOps 环境中的测试用例同时在许多机器上并行运行，并且可能同时测试多个代码分支和版本。根据最佳实践，强大的测试结果分析工具从所有测试机器收集和汇总测试结果数据，根据功能标签实时过滤用于处理的结果，分析汇总的数据以确定可能的原因，并以实时的“迄今结果”累积格式将分析的结果以及可能的原因信息以优先级顺序报告给最相关的第一响应者。
    选择功能强大的服务器进行结果汇总和结果处理，具备充足的处理器速度、I/O、大容量快速内存和数据存储。考虑使用独立的服务器对所有结果收集和处理线程进行聚合和分析，并行运行，互不干扰。
    用快速高优先级通道配置系统，将所有结果数据收集到一个公共结果存储库中。
    结果存储库应该足够大以保存许多过去测试活动的所有结果，例如一个月的结果数据，因为最佳实践测试分析工具将挖掘过去的数据以确定失败趋势。
    收集所有测试代理的结果，并在报告结论时进行实时处理和报告。
    根据构建、标签和优先级以及可能的原因对结果进行分类报告，在报告中对超过预设故障阈值的代码区域或功能给予最高优先级
    可能的原因根据统计趋势分析自动确定，该分析对最近的构建结果进行最重的加权，并使用静态代码缺陷密度信息指向最有可能导致故障的代码模块。

5.  **配置优化测试结果分析的工作流程:**优化后，测试分析可以显著防止 DevOps 周期中断。最佳工作流程将使用即时概念，例如:
    仅在超过失败阈值时将结果发送给适当的第一响应者。
    当第一响应者的 SLA 时间到期时，自动将故障上报给适当的二线上报团队成员。
    首先分析优先级最高的判决。删除或重构那些失败历史较少的测试。
    ·定义导致变更自动回复的阈值水平，但确保团队获得所有分析结果和可能的原因，以便在重新应用纠正的变更之前离线解决问题。

以上是对持续结果分析的部分建议，已经被证明可以产生好的结果来补充加速持续测试和 DevOps。

在思必驰，我们认为测试在 DevOps 有着光明的未来。你可以在
[Spirent.com/solutions/devops](http://www.spirent.com/solutions/devops)了解更多我们的观点

你对这些建议有什么看法，你还有其他应该提到的建议吗？