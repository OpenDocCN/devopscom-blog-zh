# 数据库在哪里适合连续交付？

> 原文:[https://devops.com/where-database-fit-continuous-delivery/](https://devops.com/where-database-fit-continuous-delivery/)

随着公司越来越频繁地发布更新，连续交付(CD)越来越成为软件开发的规范。那些没有赶上的人正在探索如何赶上。但是，在所有这些向 DevOps 和 CD 推进的过程中，不要忘记数据库是至关重要的。对应用程序或 web 服务的更改通常需要对数据库进行更改，这意味着如果公司想要成功地采用 CD，它们需要一个跨越应用程序和数据库开发的端到端过程。

然而，许多公司仍然各自为政，应用程序和数据库是分开开发的。因此，尽管跨环境部署应用程序更改的能力相对普遍，但在真正灵活的环境中支持数据库仍然是组织面临的一个主要挑战。

为了了解数据库 DevOps 的现状，以及如何将它包含在 CD 中，Redgate 调查了世界各地的 1，000 名 SQL Server 专业人员。虽然我们发现公司热衷于实施 DevOps，80%的公司表示他们将在未来两年内采用它，但只有 20%的公司目前正在将版本控制、持续集成或自动化部署等 DevOps 实践应用到他们的数据库中。

## **改变的需要**

这并不是因为公司没有认识到对数据库开发运维的需求，37%的公司表示，他们每周或每天都会部署一次以上的数据库更改，这表明了对自动化的需求。事实上，在该领域采用 DevOps 的主要驱动力是提高数据库更改的速度(26%的受访者提到)，其次是让开发人员有更多时间从事附加值更高的工作(17%)。

公司也认识到继续传统的、孤立的数据库开发实践的缺点—26%的公司表示，在引入变更时，这会增加部署失败或停机的风险。其次是缓慢的开发和部署周期，以及无法快速响应不断变化的业务需求(均为 18%)。16%的受访者还将变更管理流程的不可见性列为另一个问题。这表明了快速、成功的数据库更改和部署对当今业务的至关重要性。

对于拥有 5，001-10，000 名员工的公司，缓慢的开发和发布周期被视为比应用程序停机时间更大的缺点，而对于拥有超过 10，000 名员工的组织，无法快速响应不断变化的业务需求被视为稍微更大的缺点。

## **将数据库迁移到 DevOps】**

除了了解业务需求之外，调查还显示，组织现在的结构更好，能够持续交付数据库变更。例如，公司由不合作的开发人员和数据库管理员组成的小仓库的旧画面与事实相去甚远。75%的公司拥有包括跨数据库和应用程序工作的开发人员的团队，只有 25%的公司拥有专门的数据库开发人员。在 60%的公司中，开发人员负责构建数据库部署脚本。58%的公司表示两者之间的整合是好的(38%)或很好的(20%)，这意味着团队在有计划或临时的基础上一起工作。只有 12%的人认为集成很差，数据库管理员在孤岛中工作。

然而，研究强调了两个需要克服的挑战:

**不同的流程和工具**—尽管组织内部的集成水平很高，但在应用程序和数据库方面，公司的运营和自动化方式仍然存在差距。例如，虽然 81%的受访者在他们的应用程序中使用版本控制，但只有 58%的人将其应用于数据库开发。39%的人对应用程序使用持续集成，但只有 20%的人对他们的数据库应用相同的实践。显然，通过常见的实践和第三方工具的使用，还可以做更多的工作来将这两者结合起来。

**技能差距**—转向整体开发运维工作方式的最大障碍是缺乏适当的技能(21%的受访者提到了这一点)，其次是开发和运营团队之间缺乏协调(20%)。只有 9%的人说他们的行政领导不支持这种转变。

当谈到将数据库更改集成到 DevOps 流程中时，一致性是最大的障碍，32%的人认为同步应用程序和数据库更改将是最大的挑战，其次是克服应用程序和数据库开发的不同方法(25%)。也许不出所料，19%的人还提到保存和保护业务关键数据是需要克服的最大障碍。

## **这比你想象的要快**

好消息是，许多公司有信心快速克服流程和技能挑战。当被问及他们估计他们的组织从传统的数据库开发实践转移到部署数据库更改的全自动过程需要多长时间时，超过一半(51%)的人说可以在一年内完成，20%的人认为可以在六个月内完成。

深入研究数据，那些已经在其他流程中采用 DevOps 的人更有信心快速实现这一转变。该组中 68%的人认为迁移到全自动数据库开发过程需要 0 到 12 个月的时间，相比之下，没有计划采用 DevOps 实践的人中只有 28%的人这样认为。事实上，后一组中有 43%的人认为他们的估计时间超过了两年。

我们的研究表明，组织认识到将 DevOps 应用于数据库以获得 CD 带来的所有优势的潜力。他们看到它加速了软件开发，解放了开发人员去做更多的增值工作，并提高了数据库变更的交付率。

当组织需要以更快、更无缝的方式运营以在竞争越来越激烈的市场中茁壮成长时，将 DevOps 和 CD 引入数据库可以转变他们的开发过程。要阅读更多关于研究和“数据库开发现状”的信息，[请下载](https://www.red-gate.com/solutions/database-devops/report)完整的管理报告。

## 关于作者/马特·希尔伯特

Matt Hilbert 是 Redgate Software 的科技作家，拥有 20 年的工作经验，曾为许多世界上最大的科技公司工作过，也为许多最小的公司工作过。他对新兴技术有着特殊的魅力，并一直致力于向更广泛的受众反编译、解开和解释 techspeak，并激发人们对技术提供的无限可能性的兴趣。