# 整天 DevOps:资本一给信贷该给的地方

> 原文:[https://devops.com/day-devops-capital-one-gives-credit-due/](https://devops.com/day-devops-capital-one-gives-credit-due/)

听听他的讲话，乔治·帕里斯和他在 Capital One 的团队似乎没有遵守“银行家时间”George 是 Capital One 零售银行 DevOps 的软件工程师硕士。在[全天 DevOps 会议](http://www.alldaydevops.com/?__hstc=31049440.e9fd034d652f4ba995fdbbc43f7ead80.1490111084079.1495631939223.1495634425766.19&__hssc=31049440.6.1495634425766&__hsfp=3068842812)上，George 发表了题为“作为代码的元基础设施:Capital One 如何使用不可变的 Jenkins 自动化我们的自动化工具”的演讲，描述了该团队如何为美国一家主要银行 Capital One 的在线开户项目自动化 DevOps 管道。当然，从他们的经历中可以学到很多东西。

![](../Images/3f874ede3cc1287c9e13cf465e75ad47.png)

George 一开始就指出，软件开发已经发展了，甚至在最近几年里已经有了很大的进步。开发人员现在设计、构建、测试和部署，他们不再构建物理基础设施，而是生活在云中。瀑布式开发正迅速被敏捷、基础设施即代码和开发运维实践所取代。

在我们看到这些技术和方法实施的地方，IT 运营团队表现得更像开发人员，设计我们如何启动我们的应用程序。同时，开发团队对正常运行时间、性能和可用性更加负责。并且，运营和开发工作在同一个团队中进行。

George 使用 Capital One 在线开户项目来讨论他们如何自动化他们的自动化工具，这现在是他们实施方法中的标准实践。

![](../Images/7ac1b6647708fc80f62fca4da621dd5a.png)

首先，George 讨论了 Capital One 如何部署代码(提示:他们没有建立新的数据中心)。他们主要在 AWS 上；他们使用配置管理系统来安装和运行他们的应用程序；他们“测试，测试，测试，在各个层面。”贯穿整个系统的是不变性；也就是说，一旦创建，对象的状态就不能改变。例如，如果您需要新的服务器配置，您首先创建一个新的服务器并在生产环境之外进行测试。

他们使用持续集成/持续交付模型，因此任何从事代码工作的人都可以对存储库做出贡献，进而启动测试。部署脱离了预定的发布模式。乔治指出，由于 Capital One 是一家银行，法规禁止其开发商启动生产变更。他们与产品所有者一起使用 API 来自动创建标签，然后产品所有者接受标签，对生产代码进行更改。虽然这不适用于大多数环境，但是他提出来是为了演示如何在这些规则内实现连续交付。

所有这些都包含了自动化的重要性。George 概述了自动化的四个基本原则以及每个原则的关键方面:

**原则# 1——基础设施即代码。**他们使用 AWS 进行托管，一切都在云形成模板中，这是一种使用代码描述基础设施的方式。AWS 现在允许您使用 CFT 在堆栈之间传递变量。使用代码，每一个变化都可以首先被测试，并且他们可以很容易地启动环境。

**原则# 2–配置为代码。**这也被称为配置管理系统(他们使用 Chef 和 Ansible)。没有中央服务器，变更是受版本控制的，他们使用“内包”进行变更。例如，如果有人需要更改插件，他们可以分支、更新和创建一个拉请求。

**原则 3——不变性。**一旦部署，不允许对服务器进行更改可防止“特殊雪花”和倒退。任何更改都是在代码中进行的，并在部署之前经过测试管道和代码审查。这避免了我们所有人都经历过的事情:某个已经不在的人设置和调整的服务器与其他任何服务器都不同，并且没有记录所做的事情。

**原则 4–备份和恢复策略。**备份的好坏取决于您的恢复策略。剩下的你都知道了。

乔治还在他的演讲中深入探讨了他们是如何实现持续交付/持续集成的，你可以在这里在线观看。

如果你错过了其他任何 30 分钟长的全天 DevOps 演示，它们很容易找到并且免费提供[在这里](http://www.sonatype.com/all-day-devops-on-demand?__hstc=31049440.fff56b041308a66b74cf93c40ea2030a.1456347809383.1485535294436.1485539851201.581&__hssc=31049440.3.1485539851201&__hsfp=1394008546)。最后，请务必在此为您和您团队的其他成员注册 2017 年全天 DevOps 大会[。今年的活动将提供 96 场由从业者主导的会议(不允许供应商推介)。这一切都是免费的，10 月 24 日在线。](http://www.alldaydevops.com/?__hstc=31049440.e9fd034d652f4ba995fdbbc43f7ead80.1490111084079.1495631939223.1495634425766.19&__hssc=31049440.6.1495634425766&__hsfp=3068842812)

— [德里克·威克斯](https://devops.com/author/derek-e-weeks/)