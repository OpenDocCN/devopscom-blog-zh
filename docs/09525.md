# 自助服务帮助开发人员解决云安全和合规性问题

> 原文:[https://devo PS . com/self-service-helps-devs-solve-cloud-security-and-compliance/](https://devops.com/self-service-helps-devs-solve-cloud-security-and-compliance/)

需要[合规性](https://devops.com/?s=compliance)的组织必须遵循越来越多的安全标准，如 PCI、HIPAA、SOC 2 和 GDPR 等。每一个新标准都会产生一个难以实现的安全控制的详尽列表。

像 AWS 这样的云提供商已经尝试提供帮助，但是开发者仍然需要做很多事情来保护他们的基础设施。云提供商为你提供保持合规所需的原材料，但你必须学会如何使用它们。

通过一个例子，可能更容易想象合规性挑战的规模。PCI DSS 是典型的安全标准。当迁移到云时，您必须弄清楚如何使用云技术实现您的合规基础架构。

PCI 对网络架构和防火墙屏障有一些要求。例如，规范 1.1.4 要求“在每个互联网连接处以及任何非军事区(DMZ)和内部网络区域之间设置防火墙。”

细分是目标。您的网络不能允许流量自由移动到它想去的任何地方。您需要建立规则并小心保护系统的敏感区域。

在 AWS 中，我们建议使用混合服务来实现这个需求。应用程序的测试、登台和生产区域都应该位于各自的 VPC 中。您还需要明智地使用安全组、身份和访问管理(IAM)以及实例配置文件。封锁一切，只打开必要的端口。web 应用程序防火墙(WAF)应该保护边界。

RDS 和 Elasticsearch 等 IaaS 服务应通过安全组进行隔离。迪纳摩、S3、SQS 和 Secrets Manager 等平台服务应通过 IAM 进行隔离。Lambda 在安全组中有一个分支，在 IAM 中有另一个分支。

PCI control 6.1 声明您必须有一个机制来识别您的兼容系统中的安全漏洞。如何在 AWS 中实现这一点？

自动化是您在应用安全方面最好的朋友。随着发展速度的提高，安全必须跟上。虽然总会有地方让人类通过渗透测试来挖掘应用程序，以找到棘手的漏洞，但自动化将帮助您找到唾手可得的果实。

[AWS Inspector](https://aws.amazon.com/inspector/) 是一个基于 API 的服务，它会主动扫描和评估您的应用程序的漏洞，并向您发出警告。一旦设置完毕，这是一个自动的过程，但是需要管理员选择要测试的内容。

还有其他工具可以实现应用程序安全性的自动化，比如[【Wazuh】](https://wazuh.com/)。与 AWS Inspector 一样，最初需要进行设置。但是，一旦您完成了配置，您将有一个持续的安全扫描运行，以发现漏洞之前，他们到达生产。如果有人溜进来，扫描将继续搜索并在攻击者利用漏洞之前找到漏洞。

PCI 要求 7 规定您必须“根据业务需要限制对持卡人数据的访问”您需要知道谁有权访问您的应用程序中的内容，以及他们何时可以访问。

在云环境中限制访问可能是一项挑战，因为您需要管理员来配置您的应用程序运行所需的服务。如何在允许管理员工作的同时限制访问？

协调访问控制需要谨慎使用 AWS 安全组、IAM 和联合令牌。给管理员一个快速过期的访问令牌。将可信 IP 列入白名单，以便仅访问用户角色所需的环境区域。

IPs 和安全组的白名单需要保持最新，以确保在人员变动时不会出现漏洞。在您的云环境中牢牢掌控访问控制。

PCI 要求 10 概述了跟踪和监控对网络资源和持卡人数据的所有访问的需求。随着云环境的增长，您将需要更多帮助来跟踪变化和用户活动。

[AWS cloud trail](https://aws.amazon.com/cloudtrail/)可以用来追踪用户活动和 API 使用情况。但你必须确保 CloudTrail 在你不知情的情况下无法被禁用，以隐藏某人的非法活动。AWS IAM 和配置服务可用于确保 CloudTrail 不会被禁用，并在禁用时提醒您。

CloudTrail 可以覆盖用户活动，但是基础设施的变化呢？您可能需要引入另一个工具，例如[](https://www.elastic.co/what-is/elk-stack)，来跟踪基础设施的变化。然后，您可以将来自 CloudTrail 和 ELK 的数据合并到一个 SIEM 中用于仪表板。

从这个例子和这几个要求中，您可以看到云并不是一个“按钮式”解决方案。

这只是一个例子。保持与 SOC 2、HIPAA、GDPR、NIST 和许多其他标准的合规性将需要同样仔细的规划和执行。

## 规划合规性

首先，你的团队必须将许多不同的软件工具整合在一起，以帮助实现合规性。其次，在调配资源后，您必须对基础架构和安全控制进行定期扫描，这实际上是在自己制造的漏洞上贴上了创可贴。相反，在供应过程中应用控制为开发人员的代码打下了一个安全的基础。

DevOps 团队试图保持对基础设施和应用程序部署流程的控制，以避免开发人员出现任何错误。突然之间，在云中开发软件开始看起来和在本地开发软件一样——延迟、失望和沮丧。

成功实现云合规的三大要素:

1.  精心策划和执行
2.  在构建基础设施的同时，自动提供必要的控制措施
3.  持续维护以适应不断变化的法规和标准

您可以帮助开发人员释放云开发的力量和灵活性，同时保持合规性。但是您必须尽可能地为他们启用自助服务，同时保持安全性和合规性。唯一的方法是给他们做他们想做的事情的控制权，同时隐藏可能给他们带来麻烦的低级细节。