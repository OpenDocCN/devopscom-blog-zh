# 当云和边缘是同一事物时

> 原文:[https://devo PS . com/when-the-cloud and-the-edge-are-the-same-thing/](https://devops.com/when-the-cloud-and-the-edge-are-the-same-thing/)

[边缘计算](https://devops.com/?s=edge+computing)对于多个行业的企业来说，仍然是一个不断发展的令人兴奋的新架构。在分散的网络中分配计算能力为基于人工智能和物联网的应用提供了新的机会。需求如此之大，以至于 Gartner 预测到 2025 年，75%的企业生成数据将在边缘创建和处理。

然而，将所有这些数据发送回云进行处理的成本和延迟是巨大的。为了保持盈利能力，企业需要将尽可能多的数据放在边缘，同时将处理转移到边缘。这些要求的好处很多，包括:

*   实时处理、更低的延迟、更快的响应
*   弹性和可用性，不依赖与云的稳定连接
*   资源和成本效率更高，数据传输更少

我相信组织通过我称之为“云到边缘数据平面”的概念来实现这些要求和利益。

云到边缘数据平面将云和边缘统一到一个解决方案中，允许您一次定义您的数据和业务逻辑，将其打包为服务并简单地进行部署，而不必担心它应该在云中运行还是在边缘运行(这可能会随着时间的推移而改变)。这将自动、自适应地释放数据平面，以移动服务，优化数据访问、协调和复制，确保数据、计算和用户的物理协同定位，以尽可能低的延迟实现最高的吞吐量和可用性。

在云和边缘之间做出选择不是一个非黑即白的二元决定，而是在两者之间有许多灰色阴影。从架构的角度来看，边缘由云和设备之间的许多分层组成；每一层都离云更远，但离终端用户更近——一个连续体。

在这个连续体中，您需要您的服务在哪里运行在很大程度上取决于用例，并且可能在应用程序的生命周期中发生变化，这取决于使用模式或者功能和业务需求的变化。延迟、吞吐量、一致性、可用性、可扩展性、计算资源等关键参数。当你在这个连续体中移动时，会发生巨大的变化。这带来了新的机遇和挑战:

![edge cloud](../Images/7312d9ed1911d451a589aceb94d7d823.png)T2】

这种架构支持的新服务之一是移动位置透明服务。这种新型服务是一件美妙的事情。这意味着服务可以在任何地方自由运行，并且可以不受限制地与其他服务协作。它还允许底层平台根据使用情况、可用资源、通信模式、故障场景等的变化，根据需要重新定位服务，从而优化整体系统行为。

如果服务不是位置透明的，那么系统的运行时拓扑需要成为设计的一部分，并编码到服务本身中。实际上，这意味着硬编码决策，例如:

*   如果服务之间的通信是本地的或分布式的——允许并发或分布式
*   如果服务被认为是固定的或移动的——被固定在特定的物理地址或自由地重新定位
*   服务如何应对故障——自我修复的隔板可以在需要时迁移到其他节点，或者与故障节点绑在一起

随着时间的推移，像这样提前锁定决策将使系统更难有效运行、发展、适应和维护。这些不应该是设计或开发决策，不是部署决策，而是运行时决策，不会影响代码。

很难预测未来。这包括了解应用程序随着时间的推移将如何使用，使用和负载模式的变化将如何发展，以及未来的功能或业务需求的变化将如何影响初始设计、假设和运行时/操作特征。

不必做出这些决策，也不必担心如何有效地维护这些决策，而只需关注 API、数据模型和业务逻辑，就可以大大减少上市时间和总体风险。

### **这是我对数据的愿景…**

数据总是随时随地存在，但只在需要的时候存在。

*   无论您身在何处(在中央云还是在遥远的边缘)，只要您需要，就能随时获得最新、正确的数据，这听起来像是开发人员的梦想。
*   另一方面，有人说“懒惰是一种美德”，这对于分布式系统中的数据管理来说非常正确。将数据复制到永远不需要的位置是一种损失(除非恢复/故障切换需要)。对于持有数据超过所需时间的情况也是如此(扣押资源并强制不必要的一致性机制)。
*   平衡这一点非常困难，理想情况下应该由平台在运行时在全局系统级别自适应地完成，而不是由开发人员完成。

*数据始终与处理和终端用户放在一起，确保超低延迟、高吞吐量和弹性。*

*   否则，在传统的三层无状态体系结构中，数据通常不在您需要的地方，因此必须在使用前提取，并在修改后推到存储中。这增加了延迟，降低了吞吐量，并使服务受制于存储服务的可用性。

*数据和计算与终端用户一起适应性地移动。*

*   边缘的许多用例服务于移动中的用户(例如，手机、汽车)。为了尽可能高效地为这些用户提供服务，他们的数据和计算需要随着他们在地理位置上移动。

*数据根据需要自动、及时、高效、智能地注入到服务中。*

*   在应用程序设计和业务逻辑中，数据存储管理通常具有很强的侵入性:如何将域对象映射到 DB 表(OR-mapping)、事务管理、用于获取和更新状态的存储 API 调用等。
*   将所有这些外化到平台上，并在新数据可用时将数据注入到服务中(就像我们习惯于发布/订阅系统中的事件一样)，这使得代码更容易设计、编写、理解和维护。
*   此外，如果服务自己进行所有的数据管理，那么它对平台来说就是一个黑匣子。该平台不知道使用了什么访问模式，在什么数据上，何时可以安全地缓存、复制、分片、预取、共享数据等。相反，如果平台正在进行所有的数据管理，那么它可以广泛地查看所有的服务，并从整体上安全地优化整个系统的数据管理。

我相信 RedMonk 分析师史蒂夫·奥格雷迪的垂直整合概念 非常适合这种说法。这一切都导致了我认为是云到边缘编程模型的升华(一个连续体，如前所述)。这个模型是关于抽象掉所有不是核心业务价值的东西，留下永远不能被委托的三样东西:数据模型、API 和业务逻辑。

正如蒂莫西·凯勒所说，“自由与其说是没有限制，不如说是找到正确的、解放的限制。”

通过使用无服务器开发者体验(DX)，我相信将实时数据和计算扩展到边缘的答案可以在完全托管的开发者 PaaS 模型中实现。该模型将所有基础设施抽象为一个声明式编程模型，并有效地统一了云原生和边缘原生开发。这就是“垂直整合”和云到边缘数据平面愿景。

## **结论**

如今，云计算和边缘计算通常被视为独立的领域。然而，对边缘生成数据的智能低延迟处理的快速发展的需求，产生了将云和边缘结合成单一连续体的新方法的要求。有了云原生应用，架构师和开发人员已经接受了构建在本质上无限可扩展(但逻辑上集中)的云基础设施中运行的服务所需的概念。将这种思想扩展到完全分散的基础设施，包括边缘，是企业应用程序架构的下一步。编程模型支持以数据为中心、位置透明的方法，并结合智能运行时，可在需要时自动将数据和处理放在同一位置，这将使开发人员能够充分利用这种完全分布式的边缘到云环境。