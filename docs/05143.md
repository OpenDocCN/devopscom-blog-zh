# 构建一个可靠的应用程序需要什么

> 原文：<https://devops.com/what-it-really-takes-to-build-a-reliable-app/>

是什么让一个 app 变得可靠？如果你问大多数 IT 专业人士这个问题，他们会马上想到正常运行时间。这并不奇怪；毕竟，如今软件和基础设施供应商吹嘘他们保证了多少个 9 的正常运行时间是很时髦的。

当然，正常运行时间是为开发人员和最终用户提供可靠的应用程序体验的一个组成部分。但只有一个。为了在您的应用程序模式中建立可靠性，您必须不仅仅考虑正常运行时间。

请继续阅读，了解实现可靠性的所有因素。

## 什么是可靠性？

一个可靠的应用程序能够满足它所服务的每个人的需求和期望。虽然这些需求和期望会因情况而异，但可靠性是由应用程序的以下能力来表征的:

*   需要时随时可用。
*   在需要的时间范围内做出回应。
*   根据需要进行更新或修改。
*   根据需要提供安全性和隐私性。
*   不仅要满足最终用户的需求和期望，还要满足帮助创建或支持应用的所有人的需求和期望。

## 最大限度提高云原生应用的可靠性

为现代云原生应用程序实现这些功能需要多管齐下的方法。为了将可靠性构建到应用模式中，以下是需要解决的核心问题:

**正常运行时间**

我们将从正常运行时间开始，这是可靠性最明显的方面。正常运行时间是指应用程序可用的时间，至少在某种程度上是如此(正如我们将在下面讨论的，仅仅可用并不一定意味着应用程序满足可靠性的其他要求)。

最大限度地延长正常运行时间通常涉及多种解决方案，例如在不同的服务器或数据中心之间分配工作负载(因此，如果您的基础架构的一部分出现故障，其他部分仍然可用)，以及在一个位置出现故障时，使用自动故障转移将工作负载转移到新的基础架构。

文化和流程也是问题的一部分，因为你需要确保你的团队准备好快速响应任何突发事件，以最大限度地减少停机时间。

顺便说一句，值得注意的是，可能会有运行时间过长这样的事情。如果您发现增加正常运行时间并不能为您的组织带来任何额外的价值，那么可能是时候停止了。仅仅因为你可以，就在你的可用性上再增加 9 个，这可能是对资源的不良利用。因此，请确保将这部分因素纳入您的正常运行时间计算和策略中。

**性能和效率**

为了满足涉众的需求和期望，应用程序不仅要可用，还要能够在涉众要求的时间框架内做出响应。一个网站 100%的时间都在运行，但是加载每个页面需要 20 秒，这不是一个非常可靠的网站。

这就是为什么性能测试和监控必须构建到您的应用程序交付链中。您还应该确保您的基础设施规模合适(例如，通过选择合适类型的云实例)，以保证您的应用程序有足够的资源来充分执行。(当然，这一优先事项必须与成本控制相平衡。)

**可访问性和可用性**

如果由于糟糕的设计而难以使用，那么一个一直可用并且响应迅速的应用程序可能仍然不能满足涉众的需求。

从最终用户的角度来看，用户体验测试是帮助减轻应用程序中不良可访问性或可用性风险的最明显的方法。但是请记住，你也需要从你自己团队的角度来考虑可用性。确保访问控制系统、基础架构和文档可以轻松导航。您不希望应用程序或交付链过于复杂，以至于您的团队无法有效地支持。

**安全性和数据隐私**

可靠的应用程序是安全的应用程序。有许多明显的方法可以帮助保护应用程序，比如使用漏洞监控工具。但是请记住，安全性不仅仅是在漏洞出现时发现漏洞或部署某些工具。您还必须将安全性融入基础设施、流程和文化的设计中。

**备份和恢复**

您不需要成为经验丰富的 IT 专业人员，也能知道备份数据对于实现可靠性的重要性。当出现问题时——尽管你做了最好的计划和努力，偶尔还是会出现这种情况——拥有一个备份通常意味着经历一次短暂的服务和一场大灾难之间的差别。

容易被忽视的一点是制定灾难恢复计划和备份程序的重要性。仅仅备份数据是不够的；您还必须知道如果发生灾难，您将如何快速将其恢复到新的应用程序实例。例如，如果您所有基于云的虚拟机都停机了，您将遵循什么样的确切流程来备份它们？提前确定步骤(理想情况下，编写脚本以便恢复过程尽可能自动化)至关重要。

同样重要的是量化您需要备份数据的频率，这由称为恢复点目标(RPO)的指标确定，以及您需要多快能够恢复数据以避免严重的业务中断，这由恢复时间目标(RTO)确定。类似地，错误预算(定义您可以容忍生产系统停机多长时间)可以帮助您定义每月进行系统改进的可用时间。

**可修改性**

很少有应用程序部署后就不再修改了。相反，它们必须不断更新或扩展，以满足不断变化的需求。这就是为什么设计一个易于修改的应用程序模式对于实现长期可靠性至关重要。

在实践中，可修改性要求拥有正确的工具(比如自动化部署解决方案)和正确的过程(比如 ITOps 和开发人员之间清晰的反馈循环)，以便有效地决定实现什么样的修改。它还可能涉及利用基础设施技术(如容器)，使更新正在运行的应用程序变得容易，而不会给用户带来停机时间。

## 结论

可靠性比看起来更复杂。无论您的 SLA 中包含多少个 9，您都不能保证真正的可靠性，除非您还解决了诸如性能、可用性和可修改性之类的需求。

*本文是代表[卓越](https://eplexity.com/)撰写的。*

— [克里斯·托齐](https://devops.com/author/chris-tozzi/)