# 日志数据是 DevOps 生命周期(及以后)中的重要工具

> 原文:[https://devo PS . com/log-data-valued-tool-devo PS-life cycle-beyond/](https://devops.com/log-data-valuable-tool-devops-lifecycle-beyond/)

随着我们中的许多人接受 DevOps，开发人员不得不考虑交付由“运营”在生产环境中部署、运行和监控的代码。相反，DevOps 专注于打破组织内的孤岛，分担开发和运营的责任，这样开发人员现在更清楚他们的代码将如何在生产环境中运行。他们还在部署、监控和操作他们编写的应用程序的过程中扮演着重要的角色。

因此，开发人员的职责现在可以跨越从开发和测试，到部署和监控，到从生产环境中收集业务指标——也就是说，他们现在遵循 DevOps 生命周期，而不是开发生命周期。根据应用程序在其成熟度模型中所处的阶段，这些职责的焦点可能会略有变化。在这篇文章中，我们首先概述了应用程序成熟度的三个高级阶段，然后看看日志如何在每个不同阶段充当有价值的工具，特别是对于遵循 DevOps 方法的团队。

**应用成熟的阶段:**

1.  **阶段 1——初始系统开发和原型制作:**当组织着手新项目时，他们通常会让一个小团队迭代地开发一个初始原型，然后再投入一个大型开发团队的力量..该原型用于测试任何假设和初始功能；它限制了风险，并允许来自早期用户的迭代反馈循环。越来越多的情况是，原型在云基础设施上快速开发，初始开发团队在其中扮演开发系统、选择和管理基础设施、部署应用程序以及为运行的系统进行初始监控的角色。只有在初始用户群使用了该系统、提供了反馈并帮助证明了一个假设之后，该系统才会进入现实世界中的“上线”状态。

1.  **第 2 阶段——系统上线:**当应用程序从原型变为“上线”时，组织已经决定该项目值得进行，并且将系统扩展到更广泛的受众中具有潜在的价值。这可能包括投资一个更大的开发团队，一个更大的基础设施来处理真实用户负载，以及营销预算来宣传这一新产品。在这一阶段，重点可以从最初的概念转移到构建更先进、更强大的功能，从而确保服务的正常运行时间、性能和可靠性。
2.  **阶段 3——系统产生价值:**如果系统进入为业务创造价值的阶段，许多新的利益相关者会带着新的需求出现。通常，产品经理和营销团队会要求如何使用新应用程序的功能，如何跟踪应用程序的营销活动，以及用户群如何通过销售渠道流动。这些新的利益相关者主要关心不同的业务度量，以及如何从运行的系统中获得它们。

那么，在哪里以及为什么记录数据呢？

虽然日志数据传统上被开发人员用于调试目的(例如，调查异常堆栈跟踪)，但最近日志数据正被应用于更广泛的用例集。最近对 25，000 名日志管理用户进行的调查显示了以下使用案例的细分:

[![logos](../Images/696a4707feb549467b1a7cf8acbc6727.png)T2】](https://devops.com/wp-content/uploads/2014/06/logos.png)

**最近对 2.5 万名用户进行的一项抽样调查的结果，这些用户被问及:“您的日志的主要使用案例是什么？”**

随着应用程序跨越上述不同的成熟度阶段，日志作为一种有价值的工具，可帮助获得 DevOps 生命周期不同阶段所需的洞察力，例如，在开发活动、测试、生产监控以及 web 和业务分析期间。事实上，日志提供了一个单一的数据流，可以作为这些不同任务的公共语言。

由于这种转变，在应用程序成熟的不同阶段，了解如何应用日志来协助与开发运维相关的职责非常重要:

**在应用成熟阶段 1** 如何应用日志

在这个阶段，应用敏捷开发和测试的能力是关键，这样早期的原型会被迭代，假设会被证实:

*日志作为调试工具:*日志一直是一种有价值的调试工具，并且将继续如此。它们可以从软件堆栈的每一层(操作系统、web 服务器、数据库、您的软件)以及所有设备(移动设备、服务器、路由器、防火墙)中捕获不同严重级别的事件。在开发过程中，可以启用详细日志记录，以便在系统执行时提供非常详细的信息。今天的日志管理技术特别有用，因为它们允许您利用详细日志记录的优势，在异常发生时轻松地消除干扰并识别关键事件。它们还允许在大量日志数据中快速搜索关键事件。

*系统负载和性能测试日志:*在系统上线之前，通常会执行系统负载和性能测试，以确保应用程序能够处理真实负载。负载测试工具通常会测量系统响应时间，以确保系统即使在重负载下也能正常运行。然而，在这样的测试中也应该分析日志数据，以确保没有抛出高级别的异常，并且系统的行为符合预期。

**在应用成熟阶段 2** 如何应用日志

在系统成熟的这个阶段，生产监控和故障排除可能是一个重点，因为一旦系统投入使用，从金钱和声誉的角度来看，任何停机时间都会造成特别大的损失。

*生产监控日志:*生产监控正迅速成为日志数据的主要使用案例。日志管理解决方案的实时处理能力现在意味着可以实时解析日志事件，并且可以在高级监控仪表板中提取和可视化重要指标。此外，当发生重要的系统事件或超过特定阈值时，可以应用实时警报来发出通知。

*用于生产故障排除的日志:*日志不再简单地包含异常和堆栈跟踪，而是来自一系列不同来源的信息的混合，这些信息可以相互关联以允许快速故障排除。当生产中出现问题时，这一点尤为重要。例如，日志现在将定期包含:服务器资源使用信息、应用程序性能指标、功能使用信息、异常和错误。这种信息的混合，过去只能通过使用许多其他工具来获得，现在可以通过标准的日志管理解决方案在单一位置获得。

**在应用成熟度阶段 3** 如何应用日志

当一个应用程序开始创造价值时，产品和营销利益相关者会希望关注使用和业务指标。虽然这些信息可能会超出典型的 DevOps 生命周期，但对于遵循 DevOps 方法的开发人员来说，收集这些信息的任务越来越常见。

*网络分析日志:*分析网站趋势通常与开发人员的工作无关，通常是营销人员的主要工作。然而，开发人员经常参与为组织的不同部分收集这些数据。日志提供了一种轻量级的方式来了解谁在访问应用程序，访问的频率和地点。首先，web 服务器日志中已经包含了很多这种信息，不需要任何额外的工具。此外，日志不仅可以提供 web 趋势的汇总视图，还允许深入到每个用户的视图，以分析单个用户或帐户级别的行为。

*业务指标的日志:*当今的日志管理技术允许您提取字段级别的值，并且可以将它们聚合并汇总到高级指标仪表板中。因此，日志不仅可用于了解系统性能和使用趋势，还可用于汇总业务指标，如每日注册数、交易数量、交易价值等。然而，在我看来，将日志用于度量仪表板的真正好处是它们维护了证据。换句话说，它们允许您轻松地验证系统或业务行为中的任何趋势或变化。这在传统上是一项痛苦的任务，因为它经常涉及工程周期/检查数据库表等。现在，日志允许您立即从高级视图深入到日志级别，以快速查看和了解可能导致关键性能指标峰值的单个事件。

在与成千上万的日志管理用户交谈多年后，我不断发现日志对于应用程序成熟的不同阶段变得越来越重要。DevOps 运动对此有很大的帮助，因为负责初始原型开发的同一个团队或个人也可能负责生产监控或为此收集业务指标。现在，日志的价值在 DevOps 生命周期的早期就被认识到了，日志数据的力量正在一系列不同的功能中迅速扩展。

> *本文由**特雷弗·帕森斯博士，联合创始人兼首席科学家，** [**【日志条目】**](https://www.logentries.com)*