# 权衡不当开发的成本

> 原文:[https://devops.com/weighing-the-cost-of-improper-devsecops/](https://devops.com/weighing-the-cost-of-improper-devsecops/)

简而言之，数据泄露对公司来说是可怕的消息。此外，与此类攻击相关的成本持续攀升。最近一份由 IBM 赞助的报告发现每个漏洞的平均价格为 392 万美元。

不将安全自动化和漏洞扫描应用到开发流程中，不仅会对成本，还会对工作负载效率和团队士气产生巨大影响。面对这些令人头痛的问题，考虑不采用安全(和精简)的军备和审计程序的后果是至关重要的。

组织可以采用 DevSecOps 吗？在本文中，我们将揭示一些关于 Kubernetes 漏洞状态的惊人证据，并讨论公司可以做些什么来纠正。

## Kubernetes 和 Istio 漏洞的趋势

令人震惊的是有多少 devo PS 还可以开发。由于人为错误，秘密经常在不知不觉中被公开。这些是攻击者最常见的网关。填补这些空白是第一步，尽管很明显。

也有流行病的证据。Alcide 最近开展的一项研究对全球 500 多个云原生环境进行了实时生产分析。根据他们的发现，“89%的部署扫描显示，公司没有使用 Kubernetes 的秘密资源，秘密是公开的。"

这意味着大多数 Kubernetes 环境都容易遭受某种形式的数据泄露。在运行的 5000 次扫描中，Alcide 报告发现在一些领域秘密通常是公开的，包括:

*   必须连接到集群外部的云资源的工作负载
*   连接到这些资源的 AWS 访问密钥
*   需要 API 访问外部数据库的工作负载的令牌
*   S3 时段的凭据

## Kubernetes 和 Istio 在最佳实践方面的差距

Kubernetes 带来了许多细微差别。这是一个复杂的系统，具有广泛的使用案例和云原生体验。这需要广泛的审核和合规性检查来保护部署。

Alcide 首席技术官兼联合创始人 Gadi Naor 表示，Kubernetes 需要良好的专业知识水平。然而，“有一个 DevOps 没有的知识缺口，”Naor 说。

这个差距很大程度上在于 Kubernetes 的秘密处理和网络政策。在 Kubernetes 之上，服务网格是下一个进化飞跃。根据 Naor 的说法，用于创建网络策略的架构层 Istio 要复杂十倍。

在网络策略创建方面，“75%的扫描部署使用装载高漏洞主机文件系统的工作负载；而没有一个被调查的环境显示使用 Kubernetes 的网络策略的分段实施。

这些都是引人注目的平台，但是最佳实践必须满足日益增多的潜在攻击媒介。

## 为什么您应该分别处理 CI 和 CD 安全性

许多专家现在将持续集成(CI)和持续部署(CD)联系在一起，好像它们是同义词。然而，它们是不同的概念。以同样的方式保护它们会降低整体效率。

根据安全审计扫描 CI 阶段创建的所有资源可能会浪费时间和资源。例如，如果您为 CVEs 建立了映像，并且只部署了这些映像的 20%,这是一种浪费。

Naor 认为，与其在 CI 阶段扫描所有环境，不如将重点放在扫描 100%的 CD 映像上。因此，安全工具更加精简，部署的任何东西都是安全的。

## 总是以可怜的开发人员为代价

Kubernetes 和 Istio 等基础设施组件是开发团队的强大盟友。这些环境确实存在微妙的安全问题，必须加以解决。否则，数据泄露的代价很高。

要在黑帽子之前拦截系统漏洞，您必须考虑以下几点:

*   **扫描显而易见的东西**:利用自动化来发现遗留在公共存储库中的秘密、密钥、令牌。
*   **精益扫描**:保持一个精益的安全环境，以吸引工程师的注意力。
*   **CI 与 CD** :认识集成与部署之间的安全差异。
*   **战略性地添加审计工具**:采用不会与现有开发人员工作流程产生冲突的合规性和审计工具。

正如 Naor 所说，“不要忽视显而易见的东西。”

— [比尔·多菲尔德](https://devops.com/author/bill-doerrfeld/)