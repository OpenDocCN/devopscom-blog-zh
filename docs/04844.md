# 十年后—什么是云原生？

> 原文:[https://devops.com/ten-years-later-what-is-cloud-native/](https://devops.com/ten-years-later-what-is-cloud-native/)

自从 2010 年云原生这个词首次出现以来，它的使用越来越流行。如今，原生云被用作创新、前沿应用程序、平台和系统或精通云的组织和流程的限定词。

然而，云原生到底是什么？有一些定义，有许多观点，但首先也是最重要的是有很多困惑:如果我遵循基于微服务的架构，我的系统是否已经是云原生的？如果我运行容器，我的系统已经是云原生的了吗？我必须改变开发和运营吗？

在本帖中，我们消除了任何不确定性和模糊性，提供了云原生系统的准确而简洁的定义。

然而，首先，我们必须讨论一组先决概念。

## **应用+平台=系统**

在我们的日常对话中，我们经常互换使用应用、平台和系统这三个术语。然而在这篇博文中，我们做了严格的区分:

![](../Images/114015c418fa46e264f7b9b5a73112c4.png)T2】

*   **应用:应用是为特定用例设计和实现的一组组件。T3】**

*   **平台:平台是一组独立于特定用例而设计和实现的组件。T3】**

*   **系统:系统是应用和平台的结合。一般来说，我们称应用程序托管在一个平台上。T3】**

最终用户不仅仅与应用程序或平台交互；最终用户与系统交互。因此，我们将重点讨论系统级属性，而不是应用程序级或平台级属性。

## **应用+云平台=云系统**

云平台是一种服务提供商，它使服务消费者能够通过应用编程接口(API)按需请求和释放资源。

根据这个定义，云平台是 任何一个 服务提供者，使服务消费者能够按需请求和释放资源:

*   **公共云平台:公共云平台是在自己的组织之外提供资源的服务提供商。T3】**

*   **私有云平台:私有云平台是在自己的组织内提供资源的服务提供商。T3】**

因此，云系统是托管在云平台上的任何应用程序。然而，什么是云原生系统呢？

## **响应能力、可扩展性和可靠性**

云原生系统与非云原生系统的区别在于响应能力、可扩展性和可靠性。

简言之，响应能力是系统满足用户期望的能力。为了量化响应性，我们依赖于一组四个相关的概念:

*   **服务水平指标:** 服务水平指标是对系统行为的定量观察。
*   **服务级别目标:** 服务级别目标是服务级别指示器上的谓词(产生真或假的函数)，它确定系统的行为是否满足目标。
*   **差错率:** 差错率是在固定的时间间隔内，不满足其目标的观察次数与总观察次数的比值。
*   **误差预算:** 误差预算是误差率的上限。

基于以上所述，我们现在可以将系统的响应能力定义为系统保持其错误率低于其错误预算的能力。

这些概念最好用一个具体的例子来解释:考虑一个 web 应用程序处理 H事务，即接受 H请求并返回 H TTP 响应。

![](../Images/d84401340f1f0596d54ea1645a977c0b.png)T2】

**服务水平指标**

在这里，我们定义两个 sli。

*   SLI 延迟:决定一个事务的延迟，即请求进入系统到响应离开系统的时间。

*   SLI 结果: **决定一个事务的结果，即响应的状态码。T3】**

sli 记录在系统的边缘，这里是入口组件，以排除我们控制之外的任何变化，并专注于我们控制之内的系统性能。例如，我们不希望包含源自用户网络连接的观察到的延迟或观察到的结果的任何变化。然而，一旦 Ingress 接受了请求，直到 Ingress 返回响应，我们确实希望关注系统的性能。

接下来，我们定义两个 SLO。

*   **SLO 延迟:在这个例子中，我们定义如果一个事务的 SLI 延迟小于 250 毫秒，就要满足的 SLO 延迟。T3】**

*   **SLO 结果:对于这个例子，如果交易的 SLI 结果不在 H TTP 500 范围内，我们定义要满足的 SLO 结果。**

最后，我们将错误率的时间间隔值设置为 30 天的滑动窗口，并将错误预算值设置为 1%。

根据定义，如果过去 30 天内未满足 SLO 的交易数量与过去 30 天内总交易数量的比率不超过 1%,则该系统是有响应的。

**可扩展性和可靠性**

此时，我们拥有了定义可伸缩性和可靠性的必要工具:

*   可伸缩性是在有负载的情况下的响应能力。
*   可靠性是出现故障时的响应能力。

## **那么最后，什么是云原生？**

有了云系统的定义和响应能力的定义，我们现在可以定义云原生系统:云原生系统是一个在结构上可扩展和可靠的云系统。

运营商的“按构造”与“按需求”形成鲜明对比:云原生应用的设计和实施在服务级别目标和错误预算设定的限制内保证了可扩展性和可靠性。

根据该定义，云原生应用必须能够:

*   自主检测并减轻负载。
*   自主检测并缓解故障的存在。

## **讨论**

这篇文章将术语“原生云”定义为系统的属性，而不是组织或流程的属性。

云原生系统的定义标准是构建的可扩展性和可靠性。这里，微服务(一种架构选择)或容器(一种技术选择)的使用不是云原生系统的定义标准。 如果你想了解更多，去参加 [云原生计算基金会](https://www.cncf.io/) 吧，这是一个成立于 2015 年的 Linux 基金会项目，旨在为云原生系统构建一个可持续的生态系统。

— [张秀坤·托诺](https://devops.com/author/dominik-tornow/)