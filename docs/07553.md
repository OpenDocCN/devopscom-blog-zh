# 将审计合规性作为代码来处理

> 原文:[https://devops.com/tackling-audit-compliance-as-code/](https://devops.com/tackling-audit-compliance-as-code/)

写下这句话，“审计时间到了！”让你的胃沉下去？如果是这样，你并不孤单。围绕 [PCI](https://devops.com/?s=PCI) DSS、SOC-2、 [ISO 27001](https://devops.com/?s=ISO) 、 [NIST](https://devops.com/?s=NIST) 和 HITRUST 协助合规性审计的证据收集消耗了各种类型和规模公司的 DevOps 团队的时间和资源，这些时间和资源本可以更好地用于推动创新。

好消息是，供应商已经注意到了这一点，并正在提供新的工具和平台，这些工具和平台使用自动化来消除重复的手动任务，并大大加快审计过程。这完全符合 DevOps 的理念，即“作为代码”处理各种 IT 任务和需求，以消除乏味并提高效率和协调。事实上，随着这种改善合规流程的运动加速，我相信下一次发展完全有可能是使用开放 API 和在线社区，工程师可以在其中构建和共享软件，以自动收集各种合规证据。

但是，在我们实现这一目标之前，让我们先了解我们目前所处的位置，并评估未来的新机遇。

## 审计支持:DevOps 最喜欢的任务

作为云环境的管理者，DevOps 团队通常每年花费数百或数千个小时来收集合规性审计的证据。这种单调乏味的体力劳动占用了他们主要工作职责的大量时间。大型企业通常每年都要进行多次重叠的审计，很少有机会从收集证据的苦差事中解脱出来。大量使用公共云的公司面临额外的挑战；复杂性的增加意味着证据收集更加困难，而云中软件开发和变更管理的快节奏(与更传统的单一应用程序更新相比)使得法规遵从性难以跟上。这导致领导层对合规流程总体上缺乏清晰度和信心。

## 审计准备代码

当我在以前的工作中管理云工程团队时，我们意识到证据收集中涉及的大量重复的手动劳动可以自动化，以节省时间并释放资源用于其他业务需求。这种自动化还提高了收集的证据的完整性和准确性，确保重要领域不会被忽略，并允许更定期的评估，以防止在快节奏的云世界中“偏离”合规性。虽然自动化有助于合规性审计的多个方面(如证据到控制的映射和跨通用控制框架的交叉证据)，但主要影响开发运维的是证据收集的自动化。

在这种情况下，自动收集器会搜索您的公共云环境和连接的 SaaS 系统，以快速收集技术证据，如用户访问、静态数据加密、密钥管理、网络分段、防火墙、漏洞扫描报告等方面的细节。结果被转换成格式化的报告，以备内部审查、分析和审计员审查/批准。仅此一项，就可以为面临多重审计的典型企业每年节省数千小时。更好的是，从法规遵从性的角度来看，数据被认为更加完整和准确，因为它包括时间戳和其他元数据，以确保捕获和处理的完整性。

如前所述，这与作为许多 DevOps 自动化计划基础的更广泛的“X as code”咒语相一致——为什么不呢？还有什么比捕捉、重命名、组织和描述屏幕截图更重复的手动任务呢？

## 脚本诅咒

当遇到证据收集时，工程师的第一个想法通常是，“我可以为此写一个脚本！”脚本是自动化的一种形式，但是它在这个场景中有一些限制。首先，编写脚本和做必要的 QA 不应该是你的日常工作；有更好的事情可以花时间去做。其次，鉴于云基础设施和 SaaS 应用的爆炸式增长，可能会有大量脚本需要创建。事实上，这可以说是一项永无止境的任务。最后，当*你*理解你的脚本时，谁来做下一个审计？如果是*而不是*你，你会就你所做的工作向别人解释和培训吗？编写证据收集要素的脚本比手工编写有所改进，但仍然只是更大难题的一部分。

## 合规是一个社区，而不是一个孤岛

那么自动化取证的最好方法是什么呢？多个供应商正在应对这一挑战，从云平台提供商到老牌 GRC 供应商和云合规初创公司，新工具在过去几个月已经开始进入市场。

但正如我们所讨论的，一个主要的挑战是大多数云环境都非常复杂，而且只从一个方向解决难题的工具——比如说，一个特定的云平台——仍然没有触及许多潜在的相关系统。事实上，当您考虑到云基础设施的所有可能变化时，这最终可能是一个最好在 DevOps 社区级别解决的挑战。

考虑一下:遵守数据处理、隐私和保护的行业标准不是一个竞争问题。如果每个人都承诺遵守这些 IT 安全性和合规性标准，我们都会过得更好。从这个角度来看，我们越能降低实现这种合规性的障碍，采用的范围就越广。

我希望看到的是一个围绕审计准备自动化的 DevOps 社区。在工程级别，这可能需要共享自定义收集器。对于平台和 SaaS 供应商来说，这意味着确保开放 API，允许捕获和提取相关数据。并且合规工具供应商必须设计他们的收集引擎、证据库和使用策略，使得定制和共享成为可能。类似地，自动化工具不仅必须从标准系统中提取数据，还必须支持从定制系统或遗留基础设施中推送数据。在我看来，这种自下而上的方法是停止将开发人员的时间浪费在审计准备上的最佳方式，同时仍然允许足够的自主权来做最适合其特定环境的事情。

那么，在未来，也许即将到来的[合规性审计](https://www.smartsheet.com/compliance-auditing#:~:text=A%20compliance%20audit%20is%20an,controls%2C%20and%20policies%20and%20procedures.&text=Boards%20of%20directors%20are%20also,need%20to%20see%20audit%20reports.)不会引起 DevOps 团队的集体抱怨——或者至少产生一个更安静的抱怨。