# 通过系统(和混乱)测试实现云弹性

> 原文：<https://devops.com/achieve-cloud-resilience-through-systematic-and-chaotic-testing/>

***以系统和混乱的方式不断测试云将有助于公司在停机意味着断开*** 的时候避免云故障

幸运地躲在原地并在家工作的专业人士可以感谢云在新冠肺炎疫情期间无缝转换的能力。

想象一下没有云的禁闭。杂货订单系统的可用性和正常运行时间将取决于公司的内部数据中心。流媒体服务在高峰时段(晚餐时间和其他高需求时段之后)会断断续续、停滞不前。关键的个人和专业互动将仅限于语音通话，而不是丰富的协作应用、视频会议或动态社交媒体。许多公司只会关门大吉，无法对市场变化和消费者做出反应。

现在想象一个由新冠肺炎引发的在家工作的场景，停机时间在云中。远程工作的团队会分崩离析。递送会被打乱和丢失。更重要的是，应急服务将面临更大的激增，而管理它们的工具却更少。全球各地目前共享冠状病毒研究和数据的医学研究团队将失去联系，从而推迟和减缓治疗和治愈新冠肺炎病毒的努力。

看起来，云的建立正好可以帮助我们摆脱目前的困境。但是云计算的概念和基础系统可以追溯到 50 多年前。流行、实用的云应用程序[在过去 20 年](https://www.computerweekly.com/feature/A-history-of-cloud-computing)中发展更快，从 Salesforce.com 的早期迭代开始，最近是基于网络的企业应用程序，如谷歌的 G Suite 和微软的 Office 365。正是这些相对较新的工具的简单性导致了它们被广泛采用。但是这个表层掩盖了一个令人难以置信的复杂的基础，必须完全理解和测试才能维持。

云层现在很紧张。6 月 9 日，IBM 经历了大约两个小时的云中断。网络监控公司 ThousandEyes 告诉科技新闻网站“激烈电信”,这次中断的全球性质表明是控制平面问题，而不是物理故障，如光纤切断或路由器故障。随着公司转向远程工作和使用其通信和协作平台，包括团队气球，微软在欧洲的 Azure 云数据中心容量显示出压力迹象。为了缓解压力，微软限制免费和试用账户的使用。6 月 29 日，谷歌云的 Kubernetes 平台和美国东海岸部分地区的网络服务[中断了几个小时](https://www.theregister.com/AMP/2020/06/29/google_cloud_outage/)。

为了避免由于云故障造成的停机，公司必须通过连续和混乱的方式测试云结构，从而在云结构中建立弹性。

传统测试从根本上确保关键应用程序已经迁移或设置在云中，并且正常工作。这是确保云系统满足设计考虑并且不会根据应用程序性能而改变的一个很好且经过验证的方法。然而，传统的测试不能探测意外情况。为了做到这一点，高级运营转向了混沌测试，这是由网飞在 2011 年开始的云迁移过程中首创的[技术。混乱测试创造了混乱的环境，这将暴露出失败点并影响设计。现代云系统以如此复杂和多变的方式将硬件和软件结合在一起，标准测试将永远无法满足需求。通过进行系统和混乱的测试，公司可以在云中以及通过他们的整个技术系统开发更大的弹性。](https://netflixtechblog.com/the-netflix-simian-army-16e57fbab116)

为了实现弹性，它必须找到在正常的“快乐路径”测试场景中没有发现的漏洞。通过执行一系列精心计划的灾难，Seeking resilience 提供了对系统可靠性和可恢复性的一瞥。这种灾难可能包括:

1.  断开网络连接 10 秒钟。
2.  使服务或服务器脱机。
3.  阻塞中间件并监视异常情况。

刚刚开始向云迁移的企业必须首先研究并选择最适合的服务模式。希望将整个工作负载迁移到云的公司应该选择基础架构即服务(IaaS)选项，这允许团队快速协调他们在云上的测试环境，并快速设置存储、备份和恢复系统。

已经在云中或部分迁移的组织必须花时间了解他们的云服务模型。这可能会引发这样一个问题:这种模式在未来几年适合我的组织吗？

当在云中运行时，这些公司可以开始规划测试场景，以评估其系统的弹性。在这样做的时候，公司应该为测试设定一个目标和时间窗口。然后，这些测试的结果有助于通知他们的云设置的需求设计阶段。

随着所有系统和应用程序都处于虚拟云环境中，未来的数字化转型将变得更加流畅。经过适当测试的云也更容易处理需求高峰，并将处理应用程序的病毒式采用或快速位置切换或劳动力扩张。

为了变得有弹性，公司必须创建有弹性的 IT 系统。这些系统将部分或全部依赖云基础设施。通过持续、系统和混乱的测试，云基础设施变得更有弹性。一致的、创造性的测试有其自身的价值，可以让企业自身变得更加灵活和有弹性。