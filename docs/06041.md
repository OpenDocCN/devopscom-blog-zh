# 从 NOC 转向 SRE 模式

> 原文:[https://devops.com/moving-from-noc-to-the-sre-model/](https://devops.com/moving-from-noc-to-the-sre-model/)

网站可靠性工程师(SRE)是另一个“效仿谷歌”的例子吗？当以敏锐的眼光来看时，高性能工程团队交付给市场的实践和工具是非常有益的。SRE 模式就是其中之一，它将使开发运维团队受益匪浅。

如果我可以将网站可靠性的名称改为服务可靠性，我会这样做。应用程序越来越面向服务，架构基于服务，SRE 模型通常比以前的应用程序支持方法更以客户为中心。SRE 已经成为现代应用程序开发的生产支持伙伴。

虽然网络运营中心(NOC)和 SRE 的主要目标是关注应用程序的正常运行时间，但支持应用程序的责任要大得多。 那些支持现代应用程序的人面临着来自业务和开发部门的压力，需要快速准确地做出响应。这以前仅由国家和地区奥委会完成。

在其最传统的形式中，NOC 是一个 24x7x365 的工作人员房间，来自基础设施和应用的各个方面的所有遥测数据都显示在屏幕上，通常有一个屏幕专用于体育和视频游戏。如果你是 NOC 的工作人员，你的工作就是关注应用程序，发现任何警报，如果有警报，找到合适的人——通常基于电子表格——来修复它。

传统上，NOC 更多地依赖于基础设施，而不是应用。他们会得到应用程序的警报，但他们无法深入研究并找出应用程序中具体是什么导致了问题。NOC 模型很好地服务于瀑布开发和整体架构。但是现在，随着快速的发布速度和新的应用程序架构，需要一种新的方法。这就是 SRE 的用武之地。

## **顾客痴迷**

SRE 模式和传统国家石油公司模式的第一大区别是，SRE 的角色不是在出现问题时开始，而是在出现问题之前开始。我见过的最高效的 SRE 团队总是从客户的角度逆向工作。他们利用客户来决定测量和收集什么指标，以及他们将如何解释这些指标。

Google 谈到了 RED(请求、错误、持续时间)指标，但这绝不是所有人的最佳实践，也不是唯一的方法。它们可能是谷歌的最佳实践，也是用户与应用程序交互的最佳实践。饱和度、潜伏期等东西。，可能更重要。此外，重要的不是单个指标，而是它们之间的关系，以及最终与客户体验的关系。对客户的痴迷渗透到 SREs 所做的每一件事情中——从建立自动化到培训其余的技术团队。

为了让客户着迷，SRE 团队需要对正在发生的事情有很好的洞察力。

## **可观察性**

我相信你听说过新的流行术语“可观察性”你可能会想，“那不就是监控吗？”可观察性的基础是监控，但它的目的是从传统监控所使用的应用程序的静态时间点视图出发。它还解决了应用程序架构因服务而变得越来越分散、整体监控变得越来越复杂时出现的新挑战。

从某种意义上来说，可观察性就是去除人类观察者。在 NOC 中，您让工作人员观察应用程序和基础架构的各个方面，以决定何时出现问题。被设计成可观察的平台有检测器来告诉你什么时候有问题。它也不创建这样的假设，即那些随叫随到的人已经预先知道应用程序的所有层如何工作，因为对于现代应用程序，这种假设是不可能的。

可观察性既是一种工具方法，也是构建应用程序的策略。应用程序应该被构建为可观测的，这意味着应用程序提供足够的遥测来支持其可观测性。现在，监控基本上是您应用程序的一部分。

此外，应用程序降级(如延迟)是新的停机时间，因此测量应用程序活动深度和广度的能力至关重要。可观察性还有助于识别应用程序的性能下降，或者服务中可能导致灾难性事件的紧急问题。

## **自动化**

SRE 模式有一个很大的假设:自动化和对自动化的兴趣。SRE 模型在整个组织中实现了更大的上下文和可见性，但是它必须在不增加人力的情况下做到这一点。没有自动化，这是不可能的。

自动化包括:

*   从洞察力到事件响应。
*   从系统收集背景信息，以进行报告、观察工具和事件响应。
*   为那些随叫随到的自助补救提供支持的机制。
*   自动化了解类似事件。
*   根据随叫随到计划和策略自动提醒/寻呼/呼叫人员。
*   根据事件响应历史自动推荐响应者。

## **任何人都可以随叫随到**

SRE 模式的一大好处是任何人都可以随叫随到。SRE 模式的实践和自动化允许任何人被添加到轮换和待命时间表中。大多数公司都有一个专门的团队，对于那些从传统 NOC 过渡到现代 NOC 的人来说，这正是发生的第一个变化。他们离开专用的物理房间，实际上是随叫随到。

不只是支持应用程序的人随叫随到，SRE 模型也允许开发人员和质量工程师随叫随到。可以说，如果不支持 SRE，你就不可能支持左移。

## **语境**

没有数据的自动化不会创造一个真正可观察和可操作的环境。在整个交付链中利用支持行动的数据至关重要。例如，这意味着能够利用跟踪来查明服务的生产问题，或者嵌入更多的上下文作为警报有效负载的一部分，以使那些随叫随到的人更加清晰。

数据收集是一回事，但如果不知道如何利用这些数据，它就毫无用处。SRE 模型痴迷于利用数据和进行受控实验，以确保收集的数据支持正常运行时间和用户体验。

## **管理和战略**

最后，sre 比传统的 NOC 在管理和战略上花费更多的时间。一些 SRE 团队为组织运行 DoJos，以帮助在所有技术团队中传播质量和应用程序支持的理念。他们将与开发人员合作，以便更好地了解 SRE 流程可以用来更好地支持应用程序的各个方面。sre 还花费大量时间为组织制定应用程序生产支持策略。选择关键指标，决定如何设置和使用自动化，并制定关于随叫随到功能的策略。

在你沮丧之前，SRE 并不意味着国家奥委会已经死了。现代国家石油公司可以由 SRE 模式驱动，我已经在几家公司看到了这种情况。NOC 也是支持许多内部应用所必需的。

所发生的是，NOC 不再是一个有工作人员的房间，而是变成了一群工程师，他们构建自动化，制定政策和实践，管理所有团队的质量。与 DevOps 类似，SRE 也有文化、原则和实践的元素。拥有由 NOC 负责应用程序支持的团队结构的组织通常不会为 SRE 改变这一点，他们会成为 SRE。

随着现代应用程序变得越来越复杂，发布速度加快，用户要求越来越高，NOC 也在不断变化。SRE 模式是一种将国家石油公司转变为现代版本或全新组织和战略的方法。目标不仅仅是在出现问题时支持应用程序，还要确保满足客户的期望，并且系统支持当前和未来的开发工作，而不增加人力工作量。

— [克里斯·赖利](https://devops.com/author/chrisriley/)