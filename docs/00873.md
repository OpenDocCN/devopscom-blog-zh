# 持续:对航运的恐惧

> 原文：<https://devops.com/continuous-fear-shipping/>

在这部分[未完待续](https://twitter.com/continuouscast)中，伊迪丝·哈博和保罗·比格谈论了对运输的恐惧以及代码是否是一种资产。

![Edith Harbaugh, CEO LaunchDarkly](img/959d7f6b353cdba9034e43827b064d75.png)

伊迪丝是“功能标志即服务”的持续交付工具 [LaunchDarkly](http://launchdarkly.com/) 的首席执行官和联合创始人。LaunchDarkly 使软件团队能够快速启动、测量和控制他们的功能。

![Paul Biggar, CEO CircleCI](img/9a99d84d981527b171383842e23d372f.png)保罗是  [ CircleCI ](https://circleci.com/)  的首席执行官和创始人，CircleCI 是一个持续集成和部署平台，它自动化开发工作流和 IT 运营，使开发人员能够更快地交付优质软件。

* * *

[soundcloud url=”https://api.soundcloud.com/tracks/229127881?secret_token=s-fslKp” params=”auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&visual=false” width=”100%” height=”166″ iframe=”true” /]

* * *

**Paul:** 好的，我们本周想讨论的一件事是运输速度的概念，以及它如何受到团队结构的影响，这是一种不属于连续交付的杂项因素。

上一集结束时，伊迪丝，你说，我想这是 Yammer 副总裁的一句话，“你设计的组织就是你构建的软件。”

伊迪丝:是的，它实际上是来自[的首席技术官亚当·皮索尼](https://twitter.com/adampisoni)，它真的击中了我的要害，因为我在许多公司看到了这一点，他们有很多工程师，他们想知道为什么他们有很多代码，但没有很多产品。它与您刚才所说的产品管理角色专门化联系在一起。

保罗:对。我认为这是一个名字。我认为这是康威定律，我看到的表达方式是，如果你正在构建一个编译器，你有四个不同的团队在构建一个编译器，你最终会得到一个四遍编译器。

伊迪丝:没有一个愿景。

保罗:对。当观察许多不同的团队和团队结构时，我发现最有趣的是 Heroku 团队。

他们有一个语言团队和一个插件团队，他们在软件或堆栈中有一种清晰的界限，这使他们能够真正专注于一个特定的领域，因为他们在产品的不同领域之间有如此清晰的界限。

伊迪丝:如果你是一个相当成熟的产品，我认为这很好。我认为在 Heroku 的早期，这根本行不通。

**保罗:**我不会说这是很早以前的作品，但相对于现在来说，那是相当早的，我认为他们有那棵辛雪松，那是在 2010 年左右。

伊迪丝:我的意思是，如果你是一家早期初创企业，有时你会改变整个产品。

保罗:好的，是的，是的。我是说，绝对的。我认为一旦你进入，一旦你通过了产品的第一阶段，如果你能够在你的客户如何理解你的产品之间画出非常好的界面。

伊迪丝:我不知道，我的意思是，我在很多组织中看到了这种情况，有些根深蒂固的工程组织更关心他们当前的项目，而不是市场的走向。

你知道，就像我们一直在这方面努力一样，所以我们需要留在这里，因为我们不知道其他任何事情，也不知道能够向市场的方向发展。

保罗:对。这让我想起了我目前正在做的一些事情。我们请来了一些 UX 的专家来研究我们的应用程序，帮助我们将它改造成更有用的东西。

他们做得非常出色，今天下午我阅读了一些报告。但是困难的是理解产品需要放在哪里。特别是对我们来说，对部署的关注不够。

有很多焦点在构建上，当工程师试图进行连续交付时，没有真正更广泛地看工程师实际上做了什么。因此，我们最终以一种非常奇妙的方式重新制作了产品，但没有为产品中实际需要的东西提供太多启示。

> 当你与客户交谈时，客户很难告诉你，哦，这是你实际需要的东西，否则他们会看到你为他们画的框。

伊迪丝:是的。我这么说是因为我有过和你相似的经历，我实际上是从工程开始的。当我在工程系的时候，我们下一步应该做什么是非常明显的，非常明显。所以我一直认为我们的产品经理是个白痴，因为他没有我看得那么清楚。当我成为产品经理时，我意识到作为一名工程师我是多么的短视。

Paul: 你能举一个例子来说明下一个错误的构建吗？

伊迪丝:我会看到我们应该做的所有小的 bug 修复，而不是下一个大特性。或者甚至不是下一个大功能，而是下一个大产品。

**Paul:** 我觉得大还是小，或者大图对小图，是区分这两者的好方法。我认为，当你谈论产品管理时，很容易认为产品经理什么都知道，而工程师只是一个执行者。

我认为这就是对产品经理的许多抵制来自于一个工程组织的想法，即他们将被降级为镜像农民…

**伊迪丝:**码猴。

保罗:代码猴子，我们走吧。

伊迪丝:你知道，没有人想成为代码猴。那听起来不太有趣。

保罗:对，对。我不同意这一点，但我认为

伊迪丝:等一下，我们从来没有意见不一致。

保罗:试图理解每件事是非常令人沮丧的。另一方面，运送东西并把你的东西送到顾客面前是非常令人满意的。所以很多时候，在一段时间内做一只代码猴子的能力是一种安慰的感觉，就像发布了一个修复了很多小问题的软件一样。

我记得读过一个著名的 GitHub 家伙，我不记得是哪一个了，但是让我们假设他是 Kyle Neath，他在大项目上花了很多时间。在大项目之间，他需要找到下一个要做的大项目。

这通常是非常令人沮丧的，或者当你陷入某些兔子洞或其他什么的时候，你最终会不运送东西，或者你最终会变得沮丧或其他什么的。然后，他喜欢做的是，打开后面的日志，做一些小的修改。他花了两周的时间来实现一些非常小的事情。

你不需要去想它，它是一种宣泄，它让你释放，所以作为一个代码猴子，几个星期，我认为是一件非常有用的事情，可以让你重新振作起来。

伊迪丝:我同意，但我认为没有人想全职做这件事，我也要质疑你说的另一件事，那就是每个人都想出货。

我想有很多人觉得航运很可怕。他们宁愿一直拿着东西直到完美为止..就像，我肯定遇到过这样的情况，就像是——

保罗:对，我们不能发货，因为它还不完善或不完整。

伊迪丝:是的，作为一名工程师，你会面临这样一场真正的战斗:如果人们想要这个，或者如果他们想要这个或者这个可能不太对。

保罗:是的。我的个人策略是，试着写一篇你将要发布的博文，因为你经常会说，“哦，我不能发布这个，因为它没有这个功能，它没有这个功能。”

在博文中，假设你要告诉人们如何使用它，或者你正在写文档，如果不是博文的话。当你试图向你的用户解释如何做到这一点时，你会得到这样的反馈，你会说，你需要做的就是这个，你会意识到这是七个步骤，而不是一个步骤。

伊迪丝:对，亚马逊的模式。所以在亚马逊，他们实际上是从写新闻稿开始的。

保罗:好的，没错。

伊迪丝:和所有的一切，这是一个非常好的指南。

因为太多时候，人们做的另一端是他们已经建立了这个庞大的东西，他们试图写一个新闻稿或博客帖子，他们喜欢，哇，我们已经建立了所有这些东西，但实际上没有什么可谈的。

保罗:对。其中一部分，也是我认为工程师们很难思考的一点，就是如何让它得到广泛应用。所以你可以构建这个特性，但是如果没有人使用它，那么你构建了它也没有用。因此，你需要建立面包屑，你需要找出微妙地暗示这是你想要的功能的方法，当它是你想要的功能时，吸引人们的注意。

有时是把它放在文档中，有时是做一个大的声明，但更多的时候是试图把产品放在一个地方，UX 自然暗示用户发现产品部分的正确路径或正确方向。

伊迪丝:是的，我指的是响应式设计的整个理念，我想得更多，这可以追溯到我为什么开始黑暗地启动它，你可能已经建立了它，但没有人想使用它。

就像，你可以把所有的努力投入到建设它，做所有这些没有人跟随的面包屑。这就是你实际上开始先做面包屑的想法，看看人们是否开始遵循这条道路。

**Paul:** 所以对于 launch crystally，我想你判断某人是否在使用它的方式是看它是否为他们启用。是这样吗？

伊迪丝:不，所以我们所做的是允许人们为某些用户打开功能。

> 仅仅为某个用户打开一个特性并不一定意味着他们开始使用它。

保罗:对，没错。你认为这与混合面板的使用有关吗？或者一些分析性的东西？

**Edith:** 我们可以将它绑定到不同的后端，就像我们将它绑定到 New Relic 一样，我们将它绑定到实际优化，以便您可以看到人们是否均匀，我们有自己的内部分析。

保罗:明白了，好的。这是我最近开始的一个项目，我做的第一件事就是建立仪表板以供采用。我们仍然处于项目中没有采用的阶段，或者在早期用户中采用的数量很少。

涓涓细流。你甚至在图表中看不到的涓涓细流。

伊迪丝:所以它更像一层薄雾。

保罗:一层薄雾。但是你需要的是你需要到达每个人都在使用它的地方。因为如果你只是建造它，他们不会来。

> 他们需要被告知它，他们需要了解如何使用它，让第一批客户使用它以及它在他们中间的部署位置，这将给你关于一个人如何实际将该软件发送给更大的客户群的难以置信的反馈。

**伊迪丝:**完全同意。我的意思是，这是经典的精益原则，即在进一步推广之前，确保一些人可以很好地使用它。

Paul: 我们发现产品的一部分正好有三个客户在使用。

伊迪丝:那让你感觉如何？

保罗:我们其实并不知道这是一个功能。这就是你可以并行进行部署的想法。所以在 CircleCI，我们让你的构建瘫痪，所以基本上我们把你的测试套件分成 20 或 50 台机器。

但事实证明，这也适用于部署。正好有三个顾客在用它。其中一个有一个有效的用例。在成千上万的客户中，只有一个有效的用例。

伊迪丝:你对这个专题做了什么？

保罗:我们杀了它。

伊迪丝:你告诉他了吗？

保罗:我希望如此。是啊，我知道。我想我们联系了那个人。他们还有另一种方法。

伊迪丝:

> 项目管理中令人痛苦的部分也是当你有一个你想取消的特性，但是有一部分高级用户喜欢。

就像 TripIt 一样，我们是一个移动旅行路线，但我们让人们打印出来。有一次，我们说，哦，没人再印刷了，让我们把它干掉吧。事实证明，人们喜欢打印，而且非常喜欢打印出来的东西。

保罗:对，对。我明白，是的。

伊迪丝:尤其是如果你要去外国旅行的话。

保罗:是的，你不会有网络，或者你的手机会没电。

伊迪丝:或者你想给护照警卫看些东西。

保罗:是啊，还是本地人。不交出你的手机，就像我正在做的。

伊迪丝:是的，所以他们对我们很生气。

保罗:对。那么，你在那个阶段杀死它了吗？

伊迪丝:哦，我们杀了它。就像我们就像哦，我们没有很好的人印刷分析，所以我们只是说，哦，没有人印刷，让我们杀死它。

保罗:哦，哇，哇。

伊迪丝:所以我们后来的分析是人们抱怨。相当大声。

保罗:那么，你当时是正确地杀死了它，还是只是禁用了它，看它是否会消失？

伊迪丝:让我想想。我们关闭了它。我想我们可以把它拿回来，但是人们真的真的很难过。

保罗:

> 我喜欢关闭某些东西，而不是真的删除代码。即使删除代码、隐藏代码、删除代码是一种难以置信的宣泄。但是用一个特性标志来关闭某些东西是一个更好的方法。

**伊迪丝:**为什么觉得是泻药？

保罗:哦，删除代码太神奇了。这是我最喜欢做的事情。

伊迪丝:真有趣。我的联合创始人[约翰](https://twitter.com/launchdarkly)，他来自前亚特兰大，他说他们黑客竞赛的获胜者总是删除代码最多的人。

保罗:对，对。这很有道理。

伊迪丝:因为这就是他们想要的，奖励就是整洁。

保罗:对，对。这与产品管理的理念有很大的关系，验证事物并确保你不会构建太多的产品。代码不是资产。

> 从财务角度来看，代码是一种资产，因为你认为你需要它，但实际上你并不需要。实际上，您希望以最少的代码量获得最佳性能。

伊迪丝:是的，有一次，一个朋友问我，如果我的开发人员写了更多的代码，我应该付给他们更多的钱吗？我就像，不。这就像不，这是一个很容易获得的指标。

保罗:对。所以我们讨论了通过特征标记来删除特征。我认为这是删除一个特征的好方法，因为它非常非常容易恢复。恢复比回滚容易得多。

回滚是没有人想做的事情，因为它们非常非常痛苦。尤其是在中间有大量代码的情况下。所以，如果你发布了某个东西，或者如果你删除了某个东西，在它周围放了一个功能标志，然后你发布了代码，然后它仍然是打开的，你为一定数量的人关闭了它，看看是否有人抱怨，看看它仍然工作，你知道，给十个人看，然后你只需轻弹标志就可以为每个人删除它。

然后，如果有人说，你知道，我们真的，真的，真的需要打印它，你可以为他们重新打开它，同时你要想想你真的想如何解决这个问题。

伊迪丝:是的，我认为特色标志是一个很容易让人误解的术语。

> 因此，功能标志意味着它总是打开或关闭，而实际上它更多的是一种功能控制。

这是一种封装一部分功能的方式，这样你就可以完全控制它，从它的诞生开始，你知道，从向某些人推出它，观察他们的反应，获得分析，然后一直到最后，正如你所说的，每个功能最终都是你想要扼杀的。

要了解更多关于连续播出的内容和新剧集，您可以在 Twitter 上关注该剧，网址为 [@continuouscast](https://twitter.com/continuouscast) 。