# 连续测试实践–第 3 部分

> 原文：<https://devops.com/continuous-testing-practices-part-3/>

在我之前的博客中，[连续测试——以速度追求质量](https://devops.com/continuous-testing-the-quest-for-quality-at-speed/),我描述了连续测试的五个原则和一些实践，以帮助理解什么是连续测试。在我的咨询工作中，我发现有必要使用 15 类实践来评估一个组织的持续测试能力。鉴于大量的实践，我将完整的列表分为三部分。

本文是第三部分，它涵盖了连续测试实践的以下类别。

安全测试
飞行前测试
集成测试
生产前测试
生产中测试

你可以在这里阅读第一部分[，在这里](https://devops.com/continuous-testing-practices-part-1/)阅读第二部分[。](https://devops.com/continuous-testing-practices-part-2/)

## **安全测试**

操作任何测试所需的凭证和机密都在保险库中。用于测试的应用程序数据库中的客户敏感数据被混淆，以免被参与测试的人员滥用。测试软件变更所需的新安全测试与代码一起创建，并在代码创建的同时集成到主干分支中。然后，新的测试用于测试集成后的代码。
每个 DevOps 流水线阶段的安全测试都是自动化的，可以根据预定义的标准自动选择。
标记表明可能存在安全问题的测试结果，以便进行安全分析。
动态或交互式应用程序安全测试测试应用程序的安全漏洞。这些测试的结果通过开发人员组织固有的工具和反馈回路交付给开发人员。
·攻击模式、滥用案例和测试根据应用模块配置文件构建。
围绕边界条件(尤其是边界外条件)进行单元、功能和集成测试。测试包括错误处理、异常处理逻辑和否定测试。

## **飞行前测试**

产品设计支持模块化独立包装、测试和发布。换句话说，产品本身被划分成模块，模块之间的依赖性最小。通过这种方式，可以构建、测试和发布模块，而不需要一次性构建、测试和发布整个产品。
在将软件变更提交到集成或主干分支之前，在私有实例中对集成到集成分支尖端的软件变更进行飞行前测试，以确保变更不会破坏集成分支。测试需求包含在敏捷积压计划程序中。
飞行前测试包括单元测试、静态代码分析扫描、功能、回归和性能测试。在此阶段，可以在软件中安装特征标志或触发器，并且验证每个标志设置以确保标志工作。验证变更软件的新的自动化测试被创建和测试，用于管道的后期阶段和随后的回归测试。
在集成之前进行的飞行前测试，包括单元测试、静态代码分析扫描、功能、回归、性能和安全测试。在此阶段，可以在软件中安装特征标志或触发器，并且验证每个标志设置以确保标志工作。验证变更后的软件的新的自动化测试被创建和测试，以用于管道的后期阶段和随后的回归测试。
在将软件变更提交到集成或主干分支之前，在私有实例中对与集成分支的 tip 集成的软件变更进行飞行前测试，以确保变更不会破坏集成分支。
·测试驱动开发(TDD)用于确保在要测试的代码之前创建测试。TDD 最常用于单元级测试，但也可以用于功能测试。TDD 的一个关键优势是它确保工作测试可用于所有管道阶段。不使用 TDD，测试创建就有落后于代码的趋势。TDD 的另一个优点是，测试是在不知道代码是如何编写的情况下创建的，因为它还没有被编写出来。
从测试的角度来看，微服务引入了验证每个服务与使用它的任何其他服务的契约的需求。微服务的独立性或任何服务间的依赖性都需要很好地测试。需要验证通过网络运行服务的性能和可靠性。如果应用发生变化，受影响的微服务或任何依赖的微服务组也需要进行回归测试。
·容器提供了将测试资源打包到特殊测试容器中的机会，因此它们可以方便地、不变地按需调用，以测试具有弹性伸缩优势的变更。
策略确保在连续交付管道的每个阶段，对数据库的更改或对使用数据库的应用程序的更改按预期执行。

## **集成测试**

跨职能团队在持续交付管道的所有阶段对软件变更进行增量测试。在代码提交阶段，对提交的代码进行评估，以验证飞行前测试结果满足集成到集成分支的验收标准。在构建阶段，对每个构建运行一组选定的测试，以确保集成的构建满足构建集成验收测试标准。
容器提供了将测试资源打包到特殊的测试容器中的机会，因此它们可以被方便地、不变地按需调用，以测试具有弹性伸缩优势的变更。
·API 契约测试用于测试微服务接口。
每个应用程序的测试代码和数据都存储和维护在测试容器中，因此可以使用与应用程序相同的容器创建、编排和监控功能来管理它们。

## **生产前测试**

在集成和构建阶段之后，进行功能、性能、回归、客户验收和安全性测试，以确保构建或构建集生成的映像满足功能、性能、安全性和交付评估标准。部署期间的测试包括暗启动策略，如 A/B 测试。特色标志展开、绿/蓝部署和金丝雀测试。
·定义发布评估标准，并使用测试结果来决定发布是否符合发布验收标准。

## **生产中的测试**

部署期间的测试使用将故障影响降至最低的策略，如 A/B 测试。特色标志展开、绿/蓝部署和金丝雀测试。自动化测试验证每个部署。
“混沌工程”用于测试应用、部署基础设施和管道的弹性。
定期进行灾后恢复和恢复服务、基础设施和管道的测试。
应用程序、管道和基础设施的消防演习用于测试应用程序、管道和基础设施的检测和恢复程序。

## **这意味着什么**

持续测试(CT)实践对于开发运维的成功至关重要。许多组织低估了工程化持续测试的重要性和实践。本文是由三部分组成的系列文章的一部分，该系列文章提供了一个全面的实践列表，可以用来理解和评估一个组织的持续测试能力。要了解更多关于我的持续测试蓝图，请参考我的书 [Engineering DevOps。](http://mybook.to/engineeringdevops)