# 持续部署的基本要素

> 原文：<https://devops.com/essential-ingredients-continuous-deployment/>

为了构建系统以自动化构建和部署(持续部署)过程，需要涵盖几个主要领域。以下是我们的先决条件。

–源代码
–构建系统
–部署
–QA 自动化

上面描述的主要成分有
*–配置管理*
*–持续集成/自动化构建*
*–自动化部署*
*–自动化测试*

****配置管理**** **调整你的开发实践的第一步就是选择合适的源代码控制工具。一旦您有了工具，那么您需要考虑分支策略，以确保工作流的起点在开发阶段被开发人员很好地定义和接受。
可能会有很多关于合并、分支代码审查等需要解决和策略驱动的流程。一些关键点可能是
*——开发和发布分支应该分开。*
*–每项变更只有在经过审核后才能进入下一阶段。*
*——代码质量应该不会下降。***

**下面是几个选项
**源码控制工具**
–SVN(免费)
–CVS(免费)
–Git(免费)
-Perforce(付费)
-Clearcase(付费)**

******构建系统**** **团队需要拥有健壮的自动化构建系统，该系统可以满足我们的所有需求(构建、分析、部署等)。
*–需要有一个自动化的构建系统，该系统可以从不同的分支不断构建源代码，以确保我们能快速捕捉到碎片。*
*–Build 可以运行单元测试并提供报告*
*–Build 可以通过运行 findbugs 和 checkstyle(如果有的话)来检查代码的健康状况。*****

****以上检查可以验证代码的健康和质量(静态分析)。
没有什么应该超过这一点，如果以上任何一项不符合我们的标准。****

****至此，我们已经达到了持续集成的最低标准。
下面是构建系统下的几个工具
**构建工具**
–Ant
–Maven
–grad le
–Make
**CI 工具**
–Jenkins
–巡航控制
**代码质量检查**
–Findbugs
–ja coco
–cobertura****

******* *部署********

****部署是持续部署的下一个大瓶颈。
 *–配置管理工具，如 puppet 或 chef*
*–私有云管理(open stack)*
*–第三方工具，如 xl deploy、Udeploy、Opsworks 等..*****

****可以根据我们的需求和我们使用的工具来选择部署策略，jenkins(或 bamboo)中的大多数插件可以紧密集成构建和部署。****

****(在此阶段，我不考虑本节中的硬件动态配置)。****

********自动化测试********

****一旦部署阶段结束，可以通过 jenkins(或任何其他工具)触发 QA 回归套件，并且可以将整个报告发布到中央 QA 指标委员会。
这一点我们甚至可以使用 jacoco/cobertura 来提供功能性代码覆盖(针对 Java 代码)来演示 QA 回归/自动化覆盖了多少%的代码以及自动化的水平如何。
可以设置类似方式的作业，以提出 jira/bug 票证，记录在上述任何步骤中发现的问题。****

****最后，我们可以进行最后一步，以类似的方式执行最终发布构建并推进到试运行/生产阶段。****

******资源调配******

****开发人员/QA 可以从基础架构团队获得硬件，或者如果启用了自动配置，他们可以设置环境并使用 jenkins 来执行构建+部署+QA
如果我们谈论环境的自动扩展，我们可以使用 AWS 来实现。
Jenkins 有 AWS 插件来启动实例，这可以设置为动态启动实例，运行应用程序并执行 QA 自动化。一旦需要结束，aws 实例可以自动终止。****

****[参考-1](http://www.scmtechblog.net/2014/02/continuous-delivery-and-deployment.html)****

****[参考-2](https://www.linkedin.com/pulse/essential-ingredients-continuous-deployment-vishal-sahasrabuddhe?trk=pulse-det-nav_art)****