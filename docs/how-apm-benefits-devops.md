# APM 如何让 DevOps 受益

> 原文：<https://devops.com/how-apm-benefits-devops/>

由于 DevOps 团队的努力，快速的应用程序和功能开发加快了创新的步伐，并对业务收入产生了越来越大的影响。根据[Enterprise Management Associates(EMA)](https://www.riverbed.com/content/dam/riverbed-www/en_US/Documents/fpo/Solutions/software-strategies-for-digital-business-the-importance-of-apm-in%20devops-and-continuous-delivery.pdf)的调查，表现优异的开发运维团队是年同比收入增长 25%或更多的主要贡献者，从而提高了 IT 的价值。[应用性能监控](https://www.riverbed.com/products/steelcentral/application-performance-management.html) (APM)，当在整个开发生命周期中使用时，是这些表现优异的开发运维组织取得成功的重要因素。

# APM:不再仅仅用于生产

频繁的应用程序更改、虚拟环境、复杂的基础架构、分布式数据和云服务使得生产应用程序更加难以支持。我们都知道，在开发过程的早期捕获并修复 bug 和性能问题的成本更低。然而，70%的组织仍在使用一系列互不关联的手动故障排除流程，他们将这种手动故障排除列为其持续交付流程中的最大瓶颈。根据 EMA 的研究，“APM 解决方案可以大大减轻高速生产变化带来的挑战。”

比方说，一段代码在开发或 QA 阶段运行缓慢。假设是代码的错误触发了一个重写过程，这个过程并没有最终解决问题，延迟了特性的交付，并且可能引入新的问题。APM 提供的详细信息显示，一个底层依赖项(如 Java 虚拟机)正被一个完全不同的流程饱和——这些细节很难与基于孤岛的工具和手动流程相关联。

有一句话是说，你不能管理你不衡量的东西。虽然许多组织使用 APM 来衡量生产环境的性能，但是将应用程序性能监控转移到开发环境中可以增强应用程序的性能和稳定性。在整个开发生命周期中使用 APM 有助于团队[追踪难以捉摸的性能问题](https://www.riverbed.com/forms/Practical-Tips-to-Find-and-Fix-Common-App-Performance-Problems.html)，实现性能瓶颈的早期调试、实现生产 SLA 的更高信心以及增强对特性采用的洞察力。

# 瓶颈的早期调试

使用多个特定于领域的性能监控工具最终会将关键信息困在不同的孤岛中。因此，对潜在问题进行故障排除是非常耗费资源的，需要来自多个领域的专家来分析输出，并将结果关联到可操作的东西中。开发人员更频繁地被拉进生产故障排除，减缓了创新和交付的步伐。平均修复时间越来越长，影响了 SLA 和整体用户体验。

在开发过程中测试应用程序性能，使用与监控生产应用程序相同的工具，有助于在更便宜、更容易修复的时候识别错误和瓶颈。分析功能从用户到后端跟踪事务，检测潜在的负载问题。实时的代码级诊断了解依赖关系并监控所有组件，包括容器和微服务，将代码、SQL、网络、系统资源和 web 服务暴露在详细的评估中。孤岛之间的障碍变得透明，改善了沟通并减少了解决跨团队或部门边界问题的时间。

# 在生产中实现 SLA 的信心更高

使用未集成的遗留工具执行 QA 测试仍然是许多组织中的常见做法。这些工具通常与服务器和网络等物理概念相关，而不是由云、服务和 VPN 组成的高度瞬态和虚拟化的生产环境。因此，团队很难清楚地了解真实世界条件下的潜在问题。开发人员再次被拉进生产故障排除中，努力将开发和 QA 数据和结果与生产 APM 系统协调起来。

在自动化负载测试期间包含应用程序性能监控，可以让 DevOps 更好地预测生产中的代码行为。跨所有基础架构组件的性能分析可快速验证所需的生产 SLA。REST APIs 使得收集和分析 APM 数据变得更快更容易，从而改善了团队在故障排除过程中的协作。一些 APM 工具可以自动将日志关联到应用程序活动，消除了手动关联的需要，并加快了问题的识别和解决。总的来说，应用程序性能监控提供了对真实世界条件的更好模拟，而不是猜测测试和生产性能之间的关系，从而提高了信心并缩短了部署时间。

# 增强对特性采用的洞察力

如果客户喜欢并使用新功能，更频繁地部署性能和稳定性更好的应用程序只会增强数字体验。用户的行为并不总是如预期的那样，即使是经过彻底研究的改进。关注可用性和响应时间等指标虽然重要，但也意味着错过了有用的信息。如果不了解最终用户采用的细节，就无法量化新功能对收入、生产力、满意度和其他有价值的业务目标的贡献。

持续监控用户体验对于及时了解使用趋势、响应时间和整体用户满意度至关重要。例如，识别高性能和低性能的功能或最常用和最少使用的功能可以实现更好的路线图规划。对于拥有广泛的全球用户群的应用程序，按不同的组或地理位置进行细分有助于查明本地问题(例如，在特定的国家或用户子集内)，这有助于开发运维团队在最分散、最具挑战性的环境中微调他们的应用程序。通过查看关键事务的详细性能图表，团队可以快速了解财务和工作效率影响，帮助他们确定开放支持票证和应用程序优化工作的优先级。总体而言，用户体验监控有助于 DevOps 团队从被动方式转变为主动方式来确保性能。

# 管理数字体验

客户和员工对他们的数字体验有很高的期望，他们必须跟上不断变化的需求。DevOps 实践有助于满足这些不断变化的客户期望。但是，虽然频繁的发布对企业来说很好，但他们往往很难做到。

为了取得成功，DevOps 必须在速度和稳定性之间取得平衡。然而，提供创新、性能和可用性的组合对 IT 部门来说是一个巨大的挑战。 [Puppet 的《2017 年 DevOps 状况》报告](https://puppet.com/resources/whitepaper/state-of-devops-report)指出，稳定性(平均恢复时间和变更失败率)在表现最佳和表现不佳的组织之间存在显著差异，而且情况只会越来越糟。日益复杂的环境、容器、微服务等动态组件难以用传统的性能监控技术进行监控。

领先组织所享有的性能优势是巨大的。根据 Puppet 报告，这些表现最佳的公司在返工或计划外工作上花费的时间减少了 22 %,部署频率提高了 46 倍，平均修复时间加快了 96 倍。不可避免的结果是更快的创新、对用户问题更好的响应以及对数字体验更高的客户满意度。

集成的应用程序性能监控是一个重要的工具，可实现跨 IT 专业的协作，减少或消除相互指责和其他在运营孤岛组织中经常出现的低效行为。此外，APM 提高了高度动态基础设施的可见性，使得量化随时间和跨版本的财务影响成为可能。最后，当问题出现时，APM 可以帮助快速解决生产中的复杂问题，通常是在它们对业务或用户的数字体验产生负面影响之前。

DevOps 中的应用性能监控是创新型组织的现代选择，这些组织希望为客户提供最佳的数字体验，而不必在速度和质量之间做出选择。

— [史蒂夫·布拉](https://devops.com/author/steve-brar/)