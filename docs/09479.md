# 如何采用 SRE 的做法(当你不是谷歌的时候)

> 原文:[https://devo PS . com/how-to-adopt-an-sre-practice-when-you-not-Google/](https://devops.com/how-to-adopt-an-sre-practice-when-youre-not-google/)

站点可靠性工程( [SRE](https://devops.com/?s=SRE) )并不是一个新的术语或实践。将软件工程技能和原则应用于操作问题和任务的实践甚至发生在现场可靠性工程师成为一个明确的职位之前。但是，组织一种构建和维护软件的主动方法可以在提高运营效率、数据驱动的路线图规划以及一般正常运行时间和可靠性方面取得长期成功。所有这些优点都是 SRE 被广泛采用的原因。T3】

在本文中，我将深入探讨进入站点可靠性工程需要什么，如何在您自己的组织中采用它，以及在您的 SRE 成熟度旅程中前进时需要牢记的一些核心原则和最佳实践。

## 什么是 SRE？

SRE，或站点可靠性工程，是将软件工程专业知识应用于开发和操作问题的实践。通常，这意味着主动编写代码和开发内部应用程序或服务来解决可靠性和性能问题。SRE 已经实践了很多年，但最近才由谷歌推广开来，他们在 2016 年 3 月首次发布了 [站点可靠性工程:谷歌如何运行生产系统](https://sre.google/sre-book/table-of-contents/) 。

SRE 是一个复杂的首字母缩略词，因为它既与一个职位相关，*现场可靠性工程师*、、，也与开发和 it 团队采用的一般实践相关，*现场可靠性工程*。根据组织和他们支持的服务，SRE 团队通常以不同的方式组织。有时，站点可靠性工程师(sre)分散在开发团队中。这意味着他们可以在路线图规划期间表达担忧，并与 QA 团队密切合作，在从运输功能到试运行到管理生产环境的所有事情上进行协作。

另一种方法是将 SRE 团队组织成一个独立的团体。SRE 团队作为一个整体专注于职责，包括监控应用程序和基础设施，建立可靠性指标，跟踪新版本的问题以及处理随叫随到的任务。无论它们是如何组织的，所有这些 sre 的相同之处是它们的主动性——可靠性和性能。

## 德沃普斯对 SRE

DevOps 实践的快速采用可能会让您疑惑，“SRE 与 DevOps 有什么不同？”通常，这两个术语是联系在一起的。SRE 并不一定是 DevOps 文化和采用的一部分，但通常由在 DevOps 之旅中走得更远的组织实施。你的 DevOps 成熟度模型越深入，你越有可能接受 SRE 实践。

对话不是“SRE 对德沃普斯；对话是关于建立一个积极主动的 SRE 团队和运营模式，以帮助加强您的 DevOps 实践。无论您选择将 SRE 框架集成到您的开发和 IT 团队中，还是希望将 SRE 作为一个独立的业务部门，您都需要了解他们的一般职责。

## **SRE 团队职责**

当你谈论你的应用、服务和基础设施时，站点可靠性工程师负责定义*高性能*和*可靠*的真正含义。日常任务范围广泛，从新的监控解决方案到为技术支持团队构建定制应用。他们可能会将新代码发布到生产环境中以修复错误或提供新功能，或者他们可能会实时响应事件并与支持团队密切合作以提供积极的客户体验。

归根结底，现场可靠性工程师是准确了解客户如何体验您的产品以及如何通过客户的眼睛跟踪系统性能和可靠性的关键。SRE 团队需要弄清楚开发团队交付的产品和客户体验之间的服务边界在哪里。从那里，他们需要找到监控可靠性和性能问题的方法，以帮助您的内部团队主动识别风险并交付更好的软件。

SRE 团队在产品和开发团队中传播知识，以在整个组织中一致地定义可靠性。由于每个人都在同一页面上，工程团队可以在发布新功能或改善当前生产体验时做出数据驱动的决策。

## 现场可靠性工程原理和实践

在很高的层面上，谷歌将 SRE 原则和实践的核心定义为“拥抱风险”的能力站点可靠性工程师在不断创新和交付新软件的组织需求与生产环境的可靠性和性能之间进行平衡。

SRE 的实践随着 DevOps 的采用而增长，因为它们都有助于平衡开发和运营团队有时对立的需求。现场可靠性工程师将流程注入 CI/CD 和软件交付工作流，以提高性能和可靠性，但他们知道何时为了速度而牺牲稳定性。通过与 DevOps 团队密切合作，了解他们的应用程序和基础架构的关键组件，sre 还可以了解非关键组件。

在所有团队之间建立关于他们的应用程序和系统健康的透明度，可以帮助站点可靠性工程师确定他们可以接受的风险级别。期望的服务可用性级别和您可以合理允许的可接受的性能问题也将取决于您支持的服务类型。SRE 原则和实践支持实验，并要求致力于主动了解它们所支持的服务的健康状况。

## SRE 运营和成熟度模型

你可以履行网站可靠性工程师的许多职责，同时仍然拥有软件工程师的头衔。那么，你如何知道你的站点可靠性工程实践有多成熟呢？幸运的是，我们将提供一种快速的方法来建立一个有效的 SRE 运营模式，并根据它来跟踪您的成熟度。SRE 运营模式通常包括三个要素，您可以分阶段实现:

1.  一个团队(或至少一个人)致力于 SRE 的实践。
2.  跨产品、开发和运营团队的深度整合和影响。
3.  自动化工作流程，并为应用程序或系统的几乎任何部分编写代码。

您的 SRE 成熟度取决于您的组织在 SRE 运营模式的这三个要素中所处的位置。如果你已经开始组建 SRE 团队，或者雇佣你的第一个现场可靠性工程师，你就已经开始了你的旅程。如果你有一个团队，并且他们是路线图讨论、QA、部署工作流、事件管理流程的重要组成部分，那么你就有了某种程度上成熟的 SRE 实践。

只有当 SRE 业务部门拥有自动化工作流、构建应用程序、拥有监控和警报解决方案或参与几乎任何对话的自主权时，组织才能达到完全的 SRE 成熟度。提前表达对性能和可靠性的担忧，并就这些担忧进行积极的讨论，总是比简单地忽视它们要好，直到为时已晚。

## 监控、CI/CD 和组织自动化

站点可靠性工程师能够并且将会自动处理任何事情。如果 it 能够主动检测、补救或解决问题，就需要实现自动化。从持续集成和交付实践到生产环境监控，SREs 应该对所有这些都有一定的可见性。如果他们能够找到主动发现性能和可靠性问题的方法，那么他们需要有权实施这些更改。

今天的 DevOps 和围绕自动化、监控、人工智能和机器学习的 IT 能力在识别问题、响应问题和解决问题时给 SRE 团队带来了巨大的优势。拥有成熟开发运维及 SRE 实践的组织可以在准备阶段发现问题，并且他们还可以构建自动化事件管理工作流和自我纠正系统。通过确定应用程序和基础架构中的关键组件，SREs 可以缩小可能导致重大问题的范围。

## 服务级别实践(SLIs、SLOs 和 SLA)

服务水平开始发挥作用，以帮助 SRE 团队向所有利益相关方传达数字产品和服务的真实状况。这是通过识别和衡量对交付积极的客户体验至关重要的关键组件来实现的。特别是，他们需要知道一个或多个组件何时向外部客户公开功能。我们称这些交叉点为系统边界。系统边界是站点可靠性工程师需要将服务水平指标和目标应用到他们的度量标准的地方，以便讲述系统性能和可靠性的真实故事。

*   **服务水平指标(SLIs)** 是确定系统可用性的关键指标。
*   **服务水平目标(SLO)**是您为期望系统提供多少可用性而设定的目标。
*   **服务水平协议(SLA)**是解释如果系统不满足其 SLO 会发生什么的法律合同。

虽然 sre 并不总是负责管理服务级别，但这通常属于他们的职责范围。通过跟踪 sli 并将它们与 SLO 联系起来，您可以围绕系统的性能设置目标。谷歌的 SRE 书将服务水平的四个黄金信号定义为延迟、流量、错误和饱和度。因此，例如，您可以查看一个 API 调用，并跟踪其成功/失败请求的数量(SLI)与客户获得良好体验所需的成功请求的一般百分比(SLO)。

SRE 团队通常会对其应用和服务中的关键组件设置严格的 SLO，以更好地了解他们可以与客户达成的 SLA 有多严格。从这里开始，团队可以应用错误预算作为一种方式来理解他们必须多快地解决问题，以保持与他们的 SLO 相一致。服务级别允许团队汇总指标，并创建整个组织的正常运行时间、性能和可靠性的透明视图。一目了然，业务领导可以使用服务级别来监控多个团队、应用程序、服务等的合规性。全面了解他们系统的健康状况。

## 采用 SRE 最佳实践

采用 SRE 最佳实践和原则不会一蹴而就。主动监控您的团队和系统的性能和可靠性需要时间和精力。但是，最终，您的 DevOps 团队，尤其是您的客户，会感谢您决定利用站点可靠性工程。