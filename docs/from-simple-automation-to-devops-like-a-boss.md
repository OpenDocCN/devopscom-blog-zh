# 从简单的自动化到像老板一样开发

> 原文：<https://devops.com/from-simple-automation-to-devops-like-a-boss/>

### 我们今天所知的自动化

如果你在过去的一两年里没有躲在山洞里，你可能不止一次听说过 DevOps 和基础设施自动化这两个术语…但即使在今天，[基础设施自动化](http://puppetlabs.com/2013-state-of-devops-infographic)主要关注复杂系统的设置和部署。例如，如果您想将您的应用程序部署到云中，您可能会自动执行以下步骤:提供云资源，在这些资源上安装正确的组件，然后协调组件的启动，或者更好地称为[云协调](http://getcloudify.org/cloud_orchestration_cloud_automation.html)。就拿最简单的有 web 服务器和数据库的应用程序来说吧。在安装和配置好一切之后，首先需要确保数据库已经启动，然后才是 web 服务器。您还需要将特定的运行时信息从数据库传播到 web 服务器，比如数据库的主机和端口。这个阶段，在很大程度上，是今天大多数自动化过程关注的地方。

### 第二阶段

然而，自动化可以为你做更多的事情。让我们想象一下，在您的应用程序的初始设置和部署自动化之后，您想要对您的基础架构或应用程序进行更改。例如，如果您有一个想要安装到数据库或操作系统的补丁，或者如果您想要更新 web 服务器集群上的一段代码。这两个问题都涉及到需要自动化的非常复杂的过程。对于基础设施升级，您通常会逐个服务器进行升级，一次关闭一台服务器，更新它，然后重新启动它。尽管这种情况并不经常发生，但是将这一过程自动化并最小化人为错误的机会仍然有很多好处。推送新代码有点不同。首先，你做得更频繁，甚至一天几次。另外，(无意冒犯)，你的代码的稳定性和质量很可能比操作系统或数据库的补丁要低。因此，如果不自动化，这个过程出错的风险会更高。这就是为什么有常见的自动化策略来帮助您处理这种风险。两个这样的策略是[金丝雀实例](http://refcardz.dzone.com/refcardz/preparing-continuous-delivery)策略和[蓝/绿](http://martinfowler.com/bliki/BlueGreenDeployment.html)策略。前者的名字来源于采矿时代，当时一只金丝雀在矿工之前被送到矿井里，以检查空气是否有毒。因此，在这种方式下，选择一个“金丝雀实例”，将新代码单独推送到该实例，然后执行大量的健全性测试。如果这些都通过了，代码就会被推送到更多的实例中。如果一切顺利，代码将被发送到基础设施的其余部分。在后一种策略(A/B)中，代码只发送到一部分服务器。在更复杂的方法中，代码只对一部分用户可用，例如，某个地理位置或一天中的某个时间。所有这些都关系到如何设置和管理一个正在运行的系统。但是，尽管这个过程以及基础设施升级会变得相当复杂，尤其是在处理大规模的实时系统时，在大多数组织中，代码推送和升级仍然不是自动化的。但是有很多公司为我们其他人开辟了道路。![](img/25cba70f5b233968ab42b8046cc9d112.png)

### 情节变得复杂了——像老板一样监控

所以，一旦你终于看到了光明，付出你的汗水和泪水，并设法自动化您的设置，升级和代码推送。下一步是什么？这才是真正有趣的地方，在这里，您可以真正将您的业务提升到一个新的水平，对整个系统进行监控，并最终对汇总的数据进行处理。

### 更多即将推出…

在我的下一篇文章中，我将讨论不同级别的监控和日志记录，以获得[主动开发](http://www.getcloudify.org/guide/2.7/monitoring/the_web_management_console.html)的乐土。然后…更进一步。敬请关注。