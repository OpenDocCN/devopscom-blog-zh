# Nagios 不是一种监控策略

> 原文:[https://devops.com/nagios-monitoring-strategy/](https://devops.com/nagios-monitoring-strategy/)

当我拜访客户谈论 DevOps 时，我通常会问他们的监控策略是什么。太多时候，我听到的答案是“我们用 Nagios”。我认为 Nagios 是一个伟大的工具，但它肯定不是一种策略。Nagios 在监控基础设施方面做得很好。当你用完了磁盘、CPU 或内存时，它会提醒你。我称之为反应式监控。换句话说，Nagios 告诉您，您的资源已经达到极限，您即将遇到问题。主动监控更多地关注应用程序的行为，并尝试检测指标何时开始偏离其正常基线值。主动监控会提醒您系统开始出现可能导致性能下降或容量问题的症状，这比 Nagios 告诉您要完蛋了要好得多。对于反应式监控，客户在 Nagios 警报响起的同时开始抱怨并不罕见。主动监控的目标是防患于未然，让客户察觉不到。

我问的下一个问题是“您在监控什么？”典型的答案通常围绕各种基础设施资产和数据库。这是一个好的开始，但还有更多的问题需要考虑。但首先，让我们谈谈为什么主动监控如此重要。在前云时代，我们通常将软件运送给客户，客户在那里安装软件、执行容量规划任务、管理基础架构并运营日常活动。一旦我们发布了代码，我们就完成了。在当今世界，我们不再运送产品。相反，我们提供不间断的服务。客户不再拥有和操作基础架构和软件。相反，他们为一项服务付费，并期望这项服务一直可靠地运行。为了满足这些期望，我们需要一个更强有力的监测战略。我们需要监控的不仅仅是基础设施。

一个好的监控策略首先要确定需要访问数据的所有参与者以及需要跟踪的所有数据类别。一些指标是实时监控的，而其他指标是从日志数据中挖掘的。每一个好的监控策略都伴随着一个完善的日志记录解决方案。为了执行分析以预测数据中的趋势，必须收集各种数据点，包括客户使用活动、安全控制、部署活动等等。下面的演示将更详细地介绍应该监控的不同领域，以及为什么不同的参与者需要这些数据点来执行他们的工作。

[slideshare id=33320431&doc=monitoringstrategies-0408014v1-140409081614-phpapp01]

 **底线是，在构建云之前，投资一些时间在一个合理的监控策略上是值得的。我经常看到团队没有考虑如何支持这些高度分布式的、永远在线的 SaaS 解决方案，最终交付的软件不能满足客户对可靠性和质量的期望。监控向开发人员、产品所有者、操作人员甚至客户提供反馈，以便系统可以不断改进。Nagios 很棒，但是没有一个单一的监控解决方案可以有效地运行今天的不间断服务。**