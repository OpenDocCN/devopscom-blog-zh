# DevOps 和混合云:快车道上的生活，第二部分

> 原文：<https://devops.com/devops-and-hybrid-cloud-life-in-the-fast-lane-part-two/>

在云计算的早期，成本节约是采用的主要驱动力。然而，如今，组织越来越多地面临螺旋上升的支出、浪费和缺乏控制。随着云使用费用和低效率开始激增，这些挑战开始削弱迁移的优势。

事实是，优化云中的成本比许多组织最初预期的更费力。确定可以节约的成本通常不是最难的部分；有效地实现这些节约是真正的挑战所在。

缺乏对基础架构的控制意味着许多组织无法做出真正实现这些收益所需的改变。这些挑战如此普遍，以至于有一个词来形容应对它们的过程:金融操作。FinOps 的核心是创建可见性和问责制的文化和实践，以管理整个组织的云渗透，这是一个快速增长的领域。

这是我的系列文章 中的第二篇文章，介绍了需要做出哪些改变，以便组织能够真正开始拥抱混合云和开发运维带来的机遇。在这一期中，我将看看 FinOps、云浪费和自动化领域。通过这样做，我希望表明，如果处理得当，混合云和 DevOps 快车道上确实存在生命。

## 为 FinOps 做好准备

如果你认为混合云和 [FinOps](https://devops.com/?s=FinOps) 的话题，更具体地说，[云浪费](https://devops.com/?s=cloud+cost+management)还没有在讨论中出现，你可能已经生活在岩石下了。

很自然地，一个组织变得越敏捷，就越需要努力跟踪浪费。指数级增长很好，但是如果没有正确的控制，云预算将在有机会看到任何回报之前消失；甚至有公司迁移然后[决定回退](https://devops.com/?s=repatriation)的例子——这是对缺乏控制和成本上升的担忧。

根据 750 多名云决策者的调查反馈，Flexera 在今年早些时候发布的 [2022 年云状况报告](https://www.flexera.com/blog/cloud/cloud-computing-trends-2022-state-of-the-cloud-report/) 中发现，组织继续在云领域浪费大量资金。整整 66%的受访者表示，云的使用“高于今年最初的计划”，他们估计他们浪费了总体云支出的 32%。完全云迁移已经进行了整整五年，但大多数组织仍然没有控制好成本。

棘手的是，在项目过程中的许多阶段，浪费可能会抬头，这就是为什么从第一天起就保持控制是如此重要。

建立一个被认为是已知状态的环境基线意味着什么版本可以成为信任的来源和组织的云基础架构的期望状态。这怎么可能呢？简单:通过在整个组织中创造一种可见性和责任性的文化和实践。

你是怎么做到的？是的，你猜对了:FinOps。

## 正面解决云浪费

开始建立稳健的 FinOps 策略和减少浪费的理想时间和地点是开始采用双开发运维/混合云方法的时候。好消息是 FinOps 的原则易于遵循，可以应用于应用管理生命周期以及开发运维与混合云之旅的各个阶段。

首先，团队需要在部署之前估计财务和环境成本，当使用 Terraform、Ansible 或 Puppet 等基础设施即代码(IaC)工具时，这可能特别具有挑战性，但这对成功的 FinOps 至关重要。一旦一个团队决定了他们将使用哪家云提供商，他们计划花费多少，以及更一般地说，什么标准将支配这些决定，有效的标签管理就来了。

标记是实现结构化云基础架构的基础，尤其是在以不同资源用于不同目的为特征的多云环境中。标记意味着用户可以向云基础架构添加描述性元数据(标记),以识别关键资源或价值，如准备、开发或生产。

在快速发展的云环境中，一致而全面的标签管理有助于跟踪不断转变的云基础架构中在成本、使用、可用性、性能和安全性方面发生的情况。一旦项目已经部署，这些标签需要在所有云提供商之间进行管理和维护，这对于废物管理至关重要，但通常是一项巨大而混乱的任务。

好的标签有助于做出好的决策，数据分类的选项越多越好。为了真正掌握标签管理，找到一个平台，让用户能够在一个中心位置可视化和研究多云成本，这样就有可能建立非常重要的基线，并开始逆向工程发票，优化每月成本并正面解决浪费问题。

## 一种云，一种策略

几年前的一段时间，我们经常听到人们这样说:“我将把我所有的资产迁移到一个云提供商。”云提供商正在推动向单一云策略的迁移；这在当时被认为是完全正常的，但后来被证明是有缺陷的，尤其是在企业界。

职责分离可能是最好的例子，说明为什么——有太多的职责让现代企业保持运转，不能冒险将所有鸡蛋放在一个(云)篮子里。考虑本地传统应用、敏感数据、关键工作负载、生产生命周期、没有太多峰值的持续应用，甚至后端应用。然后考虑云提供商、新的云优先应用、公共数据、非关键工作负载、开发生命周期和处理高流量的前端应用。

现在想象一下所有这些突然消失了。

混合云意味着多个篮子里的鸡蛋。是的，这增加了一层复杂性，但当如此多的事情处于危急关头时，这是值得的。当您定义了每个应用程序的宿主位置后，就很容易弄清楚了。挑战在于所有的云提供商都有自己的生态系统，要么是私有的，要么是公共的。

这些生态系统使得一切都有可能被整合，但通常不明显的是，即使它们被整合，它们也不总是一致的。提供最好的工具来使用他们的平台符合云提供商的利益，但不一定是最好的用户或开发人员体验，这需要专业知识。这通常会导致一定程度的锁定，因为您通常无法使用他们的工具来管理不属于基础架构的其他应用程序。

缺乏对其他云提供商的透明性和可见性可能会妨碍并影响充分利用双开发运维及混合云战略的能力。然而，通过采用混合云方法，团队可以为每个应用程序选择最佳的云提供商，从而将团队置于提供最佳服务的最佳位置。

## 最后，始终考虑 DevX 因素

为了 DevOps 的蓬勃发展，公司为了自己的主权和创造最好的开发者体验(DevX)保持独立是很重要的(我在 DevOps.com 的前一篇文章 的 [中探讨了这个主题)。](https://devops.com/bridging-the-developer-experience-devx-gap/)

很容易陷入使用每个云提供商提供的所有自动化功能的陷阱，但这将组织锁定在需要跨各种技术的深厚专业知识的情况下。采用一个云、一个自动化策略意味着永远不可能跨不同的云在不同的应用程序部署流程中迁移或重用自动化。

这就是配置管理、IaC、CI/CD 管道以及 DevOps 和混合云平台的自动化发挥重要作用的地方。在缩短上市时间和提高质量的竞赛中，组织自身条件下的自动化可以说是最关键的元素，其中诸如左移的概念增加了复杂性，增加了开发人员的责任。

使用自动化技术来保持自主性，并支持跨领域的专业知识和团队移动性，这为组织提供了节省时间、金钱和推出更好的 DevX 的自由和灵活性。最终，它还有助于为组织创造尽可能好的环境，让他们真正开始享受开发运维与混合云的快车道生活。